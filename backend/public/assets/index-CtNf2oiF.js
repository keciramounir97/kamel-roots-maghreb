(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=r(d);fetch(d.href,f)}})();function sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _m={exports:{}},mc={};var Vy;function dw(){if(Vy)return mc;Vy=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var g in d)g!=="key"&&(f[g]=d[g])}else f=d;return d=f.ref,{$$typeof:e,type:o,key:h,ref:d!==void 0?d:null,props:f}}return mc.Fragment=n,mc.jsx=r,mc.jsxs=r,mc}var Iy;function fw(){return Iy||(Iy=1,_m.exports=dw()),_m.exports}var l=fw(),xm={exports:{}},ct={};var Gy;function hw(){if(Gy)return ct;Gy=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.iterator;function z($){return $===null||typeof $!="object"?null:($=j&&$[j]||$["@@iterator"],typeof $=="function"?$:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function R($,ae,Q){this.props=$,this.context=ae,this.refs=A,this.updater=Q||E}R.prototype.isReactComponent={},R.prototype.setState=function($,ae){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ae,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function U(){}U.prototype=R.prototype;function H($,ae,Q){this.props=$,this.context=ae,this.refs=A,this.updater=Q||E}var P=H.prototype=new U;P.constructor=H,T(P,R.prototype),P.isPureReactComponent=!0;var I=Array.isArray;function Z(){}var J={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function de($,ae,Q){var W=Q.ref;return{$$typeof:e,type:$,key:ae,ref:W!==void 0?W:null,props:Q}}function ve($,ae){return de($.type,ae,$.props)}function ge($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function te($){var ae={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Q){return ae[Q]})}var se=/\/+/g;function B($,ae){return typeof $=="object"&&$!==null&&$.key!=null?te(""+$.key):ae.toString(36)}function me($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(Z,Z):($.status="pending",$.then(function(ae){$.status==="pending"&&($.status="fulfilled",$.value=ae)},function(ae){$.status==="pending"&&($.status="rejected",$.reason=ae)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function D($,ae,Q,W,Ne){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var Le=!1;if($===null)Le=!0;else switch(Me){case"bigint":case"string":case"number":Le=!0;break;case"object":switch($.$$typeof){case e:case n:Le=!0;break;case b:return Le=$._init,D(Le($._payload),ae,Q,W,Ne)}}if(Le)return Ne=Ne($),Le=W===""?"."+B($,0):W,I(Ne)?(Q="",Le!=null&&(Q=Le.replace(se,"$&/")+"/"),D(Ne,ae,Q,"",function(De){return De})):Ne!=null&&(ge(Ne)&&(Ne=ve(Ne,Q+(Ne.key==null||$&&$.key===Ne.key?"":(""+Ne.key).replace(se,"$&/")+"/")+Le)),ae.push(Ne)),1;Le=0;var Y=W===""?".":W+":";if(I($))for(var we=0;we<$.length;we++)W=$[we],Me=Y+B(W,we),Le+=D(W,ae,Q,Me,Ne);else if(we=z($),typeof we=="function")for($=we.call($),we=0;!(W=$.next()).done;)W=W.value,Me=Y+B(W,we++),Le+=D(W,ae,Q,Me,Ne);else if(Me==="object"){if(typeof $.then=="function")return D(me($),ae,Q,W,Ne);throw ae=String($),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Le}function oe($,ae,Q){if($==null)return $;var W=[],Ne=0;return D($,W,"","",function(Me){return ae.call(Q,Me,Ne++)}),W}function le($){if($._status===-1){var ae=$._result;ae=ae(),ae.then(function(Q){($._status===0||$._status===-1)&&($._status=1,$._result=Q)},function(Q){($._status===0||$._status===-1)&&($._status=2,$._result=Q)}),$._status===-1&&($._status=0,$._result=ae)}if($._status===1)return $._result.default;throw $._result}var Ae=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ce={map:oe,forEach:function($,ae,Q){oe($,function(){ae.apply(this,arguments)},Q)},count:function($){var ae=0;return oe($,function(){ae++}),ae},toArray:function($){return oe($,function(ae){return ae})||[]},only:function($){if(!ge($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return ct.Activity=N,ct.Children=ce,ct.Component=R,ct.Fragment=r,ct.Profiler=d,ct.PureComponent=H,ct.StrictMode=o,ct.Suspense=x,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ct.__COMPILER_RUNTIME={__proto__:null,c:function($){return J.H.useMemoCache($)}},ct.cache=function($){return function(){return $.apply(null,arguments)}},ct.cacheSignal=function(){return null},ct.cloneElement=function($,ae,Q){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var W=T({},$.props),Ne=$.key;if(ae!=null)for(Me in ae.key!==void 0&&(Ne=""+ae.key),ae)!F.call(ae,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ae.ref===void 0||(W[Me]=ae[Me]);var Me=arguments.length-2;if(Me===1)W.children=Q;else if(1<Me){for(var Le=Array(Me),Y=0;Y<Me;Y++)Le[Y]=arguments[Y+2];W.children=Le}return de($.type,Ne,W)},ct.createContext=function($){return $={$$typeof:h,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:f,_context:$},$},ct.createElement=function($,ae,Q){var W,Ne={},Me=null;if(ae!=null)for(W in ae.key!==void 0&&(Me=""+ae.key),ae)F.call(ae,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Ne[W]=ae[W]);var Le=arguments.length-2;if(Le===1)Ne.children=Q;else if(1<Le){for(var Y=Array(Le),we=0;we<Le;we++)Y[we]=arguments[we+2];Ne.children=Y}if($&&$.defaultProps)for(W in Le=$.defaultProps,Le)Ne[W]===void 0&&(Ne[W]=Le[W]);return de($,Me,Ne)},ct.createRef=function(){return{current:null}},ct.forwardRef=function($){return{$$typeof:g,render:$}},ct.isValidElement=ge,ct.lazy=function($){return{$$typeof:b,_payload:{_status:-1,_result:$},_init:le}},ct.memo=function($,ae){return{$$typeof:y,type:$,compare:ae===void 0?null:ae}},ct.startTransition=function($){var ae=J.T,Q={};J.T=Q;try{var W=$(),Ne=J.S;Ne!==null&&Ne(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Z,Ae)}catch(Me){Ae(Me)}finally{ae!==null&&Q.types!==null&&(ae.types=Q.types),J.T=ae}},ct.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ct.use=function($){return J.H.use($)},ct.useActionState=function($,ae,Q){return J.H.useActionState($,ae,Q)},ct.useCallback=function($,ae){return J.H.useCallback($,ae)},ct.useContext=function($){return J.H.useContext($)},ct.useDebugValue=function(){},ct.useDeferredValue=function($,ae){return J.H.useDeferredValue($,ae)},ct.useEffect=function($,ae){return J.H.useEffect($,ae)},ct.useEffectEvent=function($){return J.H.useEffectEvent($)},ct.useId=function(){return J.H.useId()},ct.useImperativeHandle=function($,ae,Q){return J.H.useImperativeHandle($,ae,Q)},ct.useInsertionEffect=function($,ae){return J.H.useInsertionEffect($,ae)},ct.useLayoutEffect=function($,ae){return J.H.useLayoutEffect($,ae)},ct.useMemo=function($,ae){return J.H.useMemo($,ae)},ct.useOptimistic=function($,ae){return J.H.useOptimistic($,ae)},ct.useReducer=function($,ae,Q){return J.H.useReducer($,ae,Q)},ct.useRef=function($){return J.H.useRef($)},ct.useState=function($){return J.H.useState($)},ct.useSyncExternalStore=function($,ae,Q){return J.H.useSyncExternalStore($,ae,Q)},ct.useTransition=function(){return J.H.useTransition()},ct.version="19.2.1",ct}var Yy;function op(){return Yy||(Yy=1,xm.exports=hw()),xm.exports}var k=op();const kn=sp(k);var bm={exports:{}},pc={},wm={exports:{}},Nm={};var Xy;function mw(){return Xy||(Xy=1,(function(e){function n(D,oe){var le=D.length;D.push(oe);e:for(;0<le;){var Ae=le-1>>>1,ce=D[Ae];if(0<d(ce,oe))D[Ae]=oe,D[le]=ce,le=Ae;else break e}}function r(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var oe=D[0],le=D.pop();if(le!==oe){D[0]=le;e:for(var Ae=0,ce=D.length,$=ce>>>1;Ae<$;){var ae=2*(Ae+1)-1,Q=D[ae],W=ae+1,Ne=D[W];if(0>d(Q,le))W<ce&&0>d(Ne,Q)?(D[Ae]=Ne,D[W]=le,Ae=W):(D[Ae]=Q,D[ae]=le,Ae=ae);else if(W<ce&&0>d(Ne,le))D[Ae]=Ne,D[W]=le,Ae=W;else break e}}return oe}function d(D,oe){var le=D.sortIndex-oe.sortIndex;return le!==0?le:D.id-oe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var x=[],y=[],b=1,N=null,j=3,z=!1,E=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function P(D){for(var oe=r(y);oe!==null;){if(oe.callback===null)o(y);else if(oe.startTime<=D)o(y),oe.sortIndex=oe.expirationTime,n(x,oe);else break;oe=r(y)}}function I(D){if(T=!1,P(D),!E)if(r(x)!==null)E=!0,Z||(Z=!0,te());else{var oe=r(y);oe!==null&&me(I,oe.startTime-D)}}var Z=!1,J=-1,F=5,de=-1;function ve(){return A?!0:!(e.unstable_now()-de<F)}function ge(){if(A=!1,Z){var D=e.unstable_now();de=D;var oe=!0;try{e:{E=!1,T&&(T=!1,U(J),J=-1),z=!0;var le=j;try{t:{for(P(D),N=r(x);N!==null&&!(N.expirationTime>D&&ve());){var Ae=N.callback;if(typeof Ae=="function"){N.callback=null,j=N.priorityLevel;var ce=Ae(N.expirationTime<=D);if(D=e.unstable_now(),typeof ce=="function"){N.callback=ce,P(D),oe=!0;break t}N===r(x)&&o(x),P(D)}else o(x);N=r(x)}if(N!==null)oe=!0;else{var $=r(y);$!==null&&me(I,$.startTime-D),oe=!1}}break e}finally{N=null,j=le,z=!1}oe=void 0}}finally{oe?te():Z=!1}}}var te;if(typeof H=="function")te=function(){H(ge)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,B=se.port2;se.port1.onmessage=ge,te=function(){B.postMessage(null)}}else te=function(){R(ge,0)};function me(D,oe){J=R(function(){D(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(D){switch(j){case 1:case 2:case 3:var oe=3;break;default:oe=j}var le=j;j=oe;try{return D()}finally{j=le}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(D,oe){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var le=j;j=D;try{return oe()}finally{j=le}},e.unstable_scheduleCallback=function(D,oe,le){var Ae=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ae+le:Ae):le=Ae,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=le+ce,D={id:b++,callback:oe,priorityLevel:D,startTime:le,expirationTime:ce,sortIndex:-1},le>Ae?(D.sortIndex=le,n(y,D),r(x)===null&&D===r(y)&&(T?(U(J),J=-1):T=!0,me(I,le-Ae))):(D.sortIndex=ce,n(x,D),E||z||(E=!0,Z||(Z=!0,te()))),D},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(D){var oe=j;return function(){var le=j;j=oe;try{return D.apply(this,arguments)}finally{j=le}}}})(Nm)),Nm}var Qy;function pw(){return Qy||(Qy=1,wm.exports=mw()),wm.exports}var Sm={exports:{}},Xn={};var Ky;function gw(){if(Ky)return Xn;Ky=1;var e=op();function n(x){var y="https://react.dev/errors/"+x;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(x,y,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:N==null?null:""+N,children:x,containerInfo:y,implementation:b}}var h=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,y){if(x==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Xn.createPortal=function(x,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return f(x,y,null,b)},Xn.flushSync=function(x){var y=h.T,b=o.p;try{if(h.T=null,o.p=2,x)return x()}finally{h.T=y,o.p=b,o.d.f()}},Xn.preconnect=function(x,y){typeof x=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(x,y))},Xn.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},Xn.preinit=function(x,y){if(typeof x=="string"&&y&&typeof y.as=="string"){var b=y.as,N=g(b,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?o.d.S(x,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:z}):b==="script"&&o.d.X(x,{crossOrigin:N,integrity:j,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xn.preinitModule=function(x,y){if(typeof x=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);o.d.M(x,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(x)},Xn.preload=function(x,y){if(typeof x=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,N=g(b,y.crossOrigin);o.d.L(x,b,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xn.preloadModule=function(x,y){if(typeof x=="string")if(y){var b=g(y.as,y.crossOrigin);o.d.m(x,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(x)},Xn.requestFormReset=function(x){o.d.r(x)},Xn.unstable_batchedUpdates=function(x,y){return x(y)},Xn.useFormState=function(x,y,b){return h.H.useFormState(x,y,b)},Xn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xn.version="19.2.1",Xn}var Jy;function Vx(){if(Jy)return Sm.exports;Jy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Sm.exports=gw(),Sm.exports}var Wy;function vw(){if(Wy)return pc;Wy=1;var e=pw(),n=op(),r=Vx();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function x(t){if(f(t)!==t)throw Error(o(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,u=i;;){var p=s.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){s=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===s)return x(p),t;if(v===u)return x(p),i;v=v.sibling}throw Error(o(188))}if(s.return!==u.return)s=p,u=v;else{for(var S=!1,M=p.child;M;){if(M===s){S=!0,s=p,u=v;break}if(M===u){S=!0,u=p,s=v;break}M=M.sibling}if(!S){for(M=v.child;M;){if(M===s){S=!0,s=v,u=p;break}if(M===u){S=!0,u=v,s=p;break}M=M.sibling}if(!S)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var N=Object.assign,j=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),H=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=ge&&t[ge]||t["@@iterator"],typeof t=="function"?t:null)}var se=Symbol.for("react.client.reference");function B(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case de:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case H:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case P:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return i=t.displayName||null,i!==null?i:B(t.type)||"Memo";case F:i=t._payload,t=t._init;try{return B(t(i))}catch{}}return null}var me=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ae=[],ce=-1;function $(t){return{current:t}}function ae(t){0>ce||(t.current=Ae[ce],Ae[ce]=null,ce--)}function Q(t,i){ce++,Ae[ce]=t.current,t.current=i}var W=$(null),Ne=$(null),Me=$(null),Le=$(null);function Y(t,i){switch(Q(Me,i),Q(Ne,t),Q(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?my(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=my(i),t=py(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(W),Q(W,t)}function we(){ae(W),ae(Ne),ae(Me)}function De(t){t.memoizedState!==null&&Q(Le,t);var i=W.current,s=py(i,t.type);i!==s&&(Q(Ne,t),Q(W,s))}function He(t){Ne.current===t&&(ae(W),ae(Ne)),Le.current===t&&(ae(Le),uc._currentValue=le)}var st,it;function Ve(t){if(st===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);st=i&&i[1]||"",it=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+t+it}var tt=!1;function Rt(t,i){if(!t||tt)return"";tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ke){var je=ke}Reflect.construct(t,[],Re)}else{try{Re.call()}catch(ke){je=ke}t.call(Re.prototype)}}else{try{throw Error()}catch(ke){je=ke}(Re=t())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ke){if(ke&&je&&typeof ke.stack=="string")return[ke.stack,je.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),S=v[0],M=v[1];if(S&&M){var X=S.split(`
`),be=M.split(`
`);for(p=u=0;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;for(;p<be.length&&!be[p].includes("DetermineComponentFrameRoot");)p++;if(u===X.length||p===be.length)for(u=X.length-1,p=be.length-1;1<=u&&0<=p&&X[u]!==be[p];)p--;for(;1<=u&&0<=p;u--,p--)if(X[u]!==be[p]){if(u!==1||p!==1)do if(u--,p--,0>p||X[u]!==be[p]){var Ce=`
`+X[u].replace(" at new "," at ");return t.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",t.displayName)),Ce}while(1<=u&&0<=p);break}}}finally{tt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ve(s):""}function Tt(t,i){switch(t.tag){case 26:case 27:case 5:return Ve(t.type);case 16:return Ve("Lazy");case 13:return t.child!==i&&i!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Rt(t.type,!1);case 11:return Rt(t.type.render,!1);case 1:return Rt(t.type,!0);case 31:return Ve("Activity");default:return""}}function ne(t){try{var i="",s=null;do i+=Tt(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Te=Object.prototype.hasOwnProperty,O=e.unstable_scheduleCallback,K=e.unstable_cancelCallback,ee=e.unstable_shouldYield,pe=e.unstable_requestPaint,V=e.unstable_now,re=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,q=e.unstable_UserBlockingPriority,fe=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,ut=e.unstable_IdlePriority,et=e.log,Ct=e.unstable_setDisableYieldValue,tn=null,St=null;function Kt(t){if(typeof et=="function"&&Ct(t),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(tn,t)}catch{}}var $e=Math.clz32?Math.clz32:Ue,Fe=Math.log,at=Math.LN2;function Ue(t){return t>>>=0,t===0?32:31-(Fe(t)/at|0)|0}var mt=256,pt=262144,_t=4194304;function yt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dt(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var M=u&134217727;return M!==0?(u=M&~v,u!==0?p=yt(u):(S&=M,S!==0?p=yt(S):s||(s=M&~t,s!==0&&(p=yt(s))))):(M=u&~v,M!==0?p=yt(M):S!==0?p=yt(S):s||(s=u&~t,s!==0&&(p=yt(s)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,s=i&-i,v>=s||v===32&&(s&4194048)!==0)?i:p}function $t(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function nn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ye(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function Be(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function jt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cn(t,i,s,u,p,v){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,X=t.expirationTimes,be=t.hiddenUpdates;for(s=S&~s;0<s;){var Ce=31-$e(s),Re=1<<Ce;M[Ce]=0,X[Ce]=-1;var je=be[Ce];if(je!==null)for(be[Ce]=null,Ce=0;Ce<je.length;Ce++){var ke=je[Ce];ke!==null&&(ke.lane&=-536870913)}s&=~Re}u!==0&&Jn(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~i))}function Jn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-$e(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function Wn(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-$e(s),p=1<<u;p&i|t[u]&i&&(t[u]|=i),s&=~p}}function Un(t,i){var s=i&-i;return s=(s&42)!==0?1:In(s),(s&(t.suspendedLanes|i))!==0?0:s}function In(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ms(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Py(t.type))}function Sr(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var ci=Math.random().toString(36).slice(2),ln="__reactFiber$"+ci,hn="__reactProps$"+ci,ta="__reactContainer$"+ci,$i="__reactEvents$"+ci,co="__reactListeners$"+ci,uo="__reactHandles$"+ci,ui="__reactResources$"+ci,Na="__reactMarker$"+ci;function na(t){delete t[ln],delete t[hn],delete t[$i],delete t[co],delete t[uo]}function Pi(t){var i=t[ln];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ta]||s[ln]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=wy(t);t!==null;){if(s=t[ln])return s;t=wy(t)}return i}t=s,s=t.parentNode}return null}function ia(t){if(t=t[ln]||t[ta]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Bi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function Sa(t){var i=t[ui];return i||(i=t[ui]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(t){t[Na]=!0}var aa=new Set,Kc={};function Ya(t,i){ja(t,i),ja(t+"Capture",i)}function ja(t,i){for(Kc[t]=i,t=0;t<i.length;t++)aa.add(i[t])}var ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},vl={};function gs(t){return Te.call(vl,t)?!0:Te.call(gl,t)?!1:ps.test(t)?vl[t]=!0:(gl[t]=!0,!1)}function xt(t,i,s){if(gs(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Ht(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function di(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function zn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xa(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yl(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){s=""+S,v.call(this,S)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function lt(t){if(!t._valueTracker){var i=Xa(t)?"checked":"value";t._valueTracker=yl(t,i,""+t[i])}}function an(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=Xa(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fo=/[\n"\\]/g;function Wt(t){return t.replace(fo,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _l(t,i,s,u,p,v,S,M){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zn(i)):t.value!==""+zn(i)&&(t.value=""+zn(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?ra(t,S,zn(i)):s!=null?ra(t,S,zn(s)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+zn(M):t.removeAttribute("name")}function vs(t,i,s,u,p,v,S,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||s!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){lt(t);return}s=s!=null?""+zn(s):"",i=i!=null?""+zn(i):s,M||i===t.value||(t.value=i),t.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=M?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),lt(t)}function ra(t,i,s){i==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function It(t,i,s,u){if(t=t.options,i){i={};for(var p=0;p<s.length;p++)i["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=i.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&u&&(t[s].defaultSelected=!0)}else{for(s=""+zn(s),i=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function Aa(t,i,s){if(i!=null&&(i=""+zn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+zn(s):""}function Ar(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(o(92));if(me(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=zn(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),lt(t)}function Ui(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var xl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Er(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||xl.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function ho(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&s[p]!==u&&Er(t,p,u)}else for(var v in i)i.hasOwnProperty(v)&&Er(t,v,i[v])}function ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(t){return bl.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var po=null;function _s(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,rt=null;function Ai(t){var i=ia(t);if(i&&(t=i.stateNode)){var s=t[hn]||null;e:switch(t=i.stateNode,i.type){case"input":if(_l(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Wt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var p=u[hn]||null;if(!p)throw Error(o(90));_l(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&an(u)}break e;case"textarea":Aa(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&It(t,!!s.multiple,i,!1)}}}var Pt=!1;function wl(t,i,s){if(Pt)return t(i,s);Pt=!0;try{var u=t(i);return u}finally{if(Pt=!1,(Tr!==null||rt!==null)&&(Gu(),Tr&&(i=Tr,t=rt,rt=Tr=null,Ai(i),t)))for(i=0;i<t.length;i++)Ai(t[i])}}function Qa(t,i){var s=t.stateNode;if(s===null)return null;var u=s[hn]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(Ei)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){xs=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{xs=!1}var Zi=null,Ka=null,mn=null;function Ea(){if(mn)return mn;var t,i=Ka,s=i.length,u,p="value"in Zi?Zi.value:Zi.textContent,v=p.length;for(t=0;t<s&&i[t]===p[t];t++);var S=s-t;for(u=1;u<=S&&i[s-u]===p[v-u];u++);return mn=p.slice(t,1<u?1-u:void 0)}function bs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ws(){return!0}function Jc(){return!1}function Zn(t){function i(s,u,p,v,S){this._reactName=s,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ws:Jc,this.isPropagationStopped=Jc,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),i}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Zn(sa),Cr=N({},sa,{view:0,detail:0}),At=Zn(Cr),Nl,ei,oa,Ns=N({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Nl=t.screenX-oa.screenX,ei=t.screenY-oa.screenY):ei=Nl=0,oa=t),Nl)},movementY:function(t){return"movementY"in t?t.movementY:ei}}),Wc=Zn(Ns),Sl=N({},Ns,{dataTransfer:0}),Tf=Zn(Sl),eu=N({},Cr,{relatedTarget:0}),jl=Zn(eu),Cf=N({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=Zn(Cf),zf=N({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hi=Zn(zf),Mf=N({},sa,{data:0}),El=Zn(Mf),ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nu[t])?!!i[t]:!1}function Tl(){return kl}var iu=N({},Cr,{key:function(t){if(t.key){var i=ka[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),au=Zn(iu),Lf=N({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Zn(Lf),Cl=N({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Of=Zn(Cl),su=N({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=Zn(su),vo=N({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=Zn(vo),Rf=N({},sa,{newState:0,oldState:0}),Ss=Zn(Rf),hi=[9,13,27,32],yo=Ei&&"CompositionEvent"in window,zr=null;Ei&&"documentMode"in document&&(zr=document.documentMode);var Df=Ei&&"TextEvent"in window&&!zr,_o=Ei&&(!yo||zr&&8<zr&&11>=zr),xo=" ",lu=!1;function cu(t,i){switch(t){case"keyup":return hi.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function Ti(t,i){switch(t){case"compositionend":return zl(i);case"keypress":return i.which!==32?null:(lu=!0,xo);case"textInput":return t=i.data,t===xo&&lu?null:t;default:return null}}function Lr(t,i){if(Mr)return t==="compositionend"||!yo&&cu(t,i)?(t=Ea(),mn=Ka=Zi=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _o&&i.locale!=="ko"?null:i.data;default:return null}}var $f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$f[t.type]:i==="textarea"}function uu(t,i,s,u){Tr?rt?rt.push(u):rt=[u]:Tr=u,i=ed(i,"onChange"),0<i.length&&(s=new go("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var Fi=null,js=null;function As(t){ly(t,0)}function Es(t){var i=Bi(t);if(an(i))return t}function ks(t,i){if(t==="change")return i}var du=!1;if(Ei){var Vi;if(Ei){var Or="oninput"in document;if(!Or){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),Or=typeof fu.oninput=="function"}Vi=Or}else Vi=!1;du=Vi&&(!document.documentMode||9<document.documentMode)}function bo(){Fi&&(Fi.detachEvent("onpropertychange",hu),js=Fi=null)}function hu(t){if(t.propertyName==="value"&&Es(js)){var i=[];uu(i,js,t,_s(t)),wl(As,i)}}function la(t,i,s){t==="focusin"?(bo(),Fi=i,js=s,Fi.attachEvent("onpropertychange",hu)):t==="focusout"&&bo()}function Pf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Es(js)}function Rr(t,i){if(t==="click")return Es(i)}function Bf(t,i){if(t==="input"||t==="change")return Es(i)}function ca(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:ca;function Dr(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var p=s[u];if(!Te.call(i,p)||!Rn(t[p],i[p]))return!1}return!0}function wo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ts(t,i){var s=wo(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wo(s)}}function No(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?No(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Cs(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=jr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=jr(t.document)}return i}function Ta(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var So=Ei&&"documentMode"in document&&11>=document.documentMode,Ca=null,jo=null,zs=null,$r=!1;function mu(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$r||Ca==null||Ca!==jr(u)||(u=Ca,"selectionStart"in u&&Ta(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),zs&&Dr(zs,u)||(zs=u,u=ed(jo,"onSelect"),0<u.length&&(i=new go("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=Ca)))}function za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Pr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Ao={},pu={};Ei&&(pu=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Dn(t){if(Ao[t])return Ao[t];if(!Pr[t])return t;var i=Pr[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in pu)return Ao[t]=i[s];return t}var Ms=Dn("animationend"),gu=Dn("animationiteration"),Ls=Dn("animationstart"),Uf=Dn("transitionrun"),vu=Dn("transitionstart"),Zf=Dn("transitioncancel"),Br=Dn("transitionend"),yu=new Map,Ma="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ma.push("scrollEnd");function mi(t,i){yu.set(t,i),Ya(i,[t])}var Os=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pi=[],Gn=0,Eo=0;function Rs(){for(var t=Gn,i=Eo=Gn=0;i<t;){var s=pi[i];pi[i++]=null;var u=pi[i];pi[i++]=null;var p=pi[i];pi[i++]=null;var v=pi[i];if(pi[i++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}v!==0&&Ur(s,p,v)}}function La(t,i,s,u){pi[Gn++]=t,pi[Gn++]=i,pi[Gn++]=s,pi[Gn++]=u,Eo|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ml(t,i,s,u){return La(t,i,s,u),Ds(t)}function Ii(t,i){return La(t,null,null,i),Ds(t)}function Ur(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var p=!1,v=t.return;v!==null;)v.childLanes|=s,u=v.alternate,u!==null&&(u.childLanes|=s),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&i!==null&&(p=31-$e(s),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[i]:u.push(i),i.lane=s|536870912),v):null}function Ds(t){if(50<ic)throw ic=0,qh=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Wa={};function Hf(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,i,s,u){return new Hf(t,i,s,u)}function ko(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var s=t.alternate;return s===null?(s=Yn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ll(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $s(t,i,s,u,p,v){var S=0;if(u=t,typeof t=="function")ko(t)&&(S=1);else if(typeof t=="string")S=W1(t,s,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case de:return t=Yn(31,s,i,p),t.elementType=de,t.lanes=v,t;case T:return er(s.children,p,v,i);case A:S=8,p|=24;break;case R:return t=Yn(12,s,i,p|2),t.elementType=R,t.lanes=v,t;case I:return t=Yn(13,s,i,p),t.elementType=I,t.lanes=v,t;case Z:return t=Yn(19,s,i,p),t.elementType=Z,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:S=10;break e;case U:S=9;break e;case P:S=11;break e;case J:S=14;break e;case F:S=16,u=null;break e}S=29,s=Error(o(130,t===null?"null":typeof t,"")),u=null}return i=Yn(S,s,i,p),i.elementType=t,i.type=u,i.lanes=v,i}function er(t,i,s,u){return t=Yn(7,t,u,i),t.lanes=s,t}function To(t,i,s){return t=Yn(6,t,null,i),t.lanes=s,t}function Ol(t){var i=Yn(18,null,null,0);return i.stateNode=t,i}function Rl(t,i,s){return i=Yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var a=new WeakMap;function c(t,i){if(typeof t=="object"&&t!==null){var s=a.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ne(i)},a.set(t,i),i)}return{value:t,source:i,stack:ne(i)}}var m=[],_=0,w=null,C=0,G=[],he=0,Se=null,Oe=1,qe="";function Je(t,i){m[_++]=C,m[_++]=w,w=t,C=i}function gt(t,i,s){G[he++]=Oe,G[he++]=qe,G[he++]=Se,Se=t;var u=Oe;t=qe;var p=32-$e(u)-1;u&=~(1<<p),s+=1;var v=32-$e(i)+p;if(30<v){var S=p-p%5;v=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Oe=1<<32-$e(i)+p|s<<p|u,qe=v+t}else Oe=1<<v|s<<p|u,qe=t}function Mn(t){t.return!==null&&(Je(t,1),gt(t,1,0))}function pn(t){for(;t===w;)w=m[--_],m[_]=null,C=m[--_],m[_]=null;for(;t===Se;)Se=G[--he],G[he]=null,qe=G[--he],G[he]=null,Oe=G[--he],G[he]=null}function ti(t,i){G[he++]=Oe,G[he++]=qe,G[he++]=Se,Oe=i.id,qe=i.overflow,Se=t}var zt=null,Mt=null,bt=!1,Oa=null,gi=!1,Co=Error(o(519));function Ra(t){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(c(i,t)),Co}function Dl(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[ln]=t,i[hn]=u,s){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(s=0;s<rc.length;s++)Nt(rc[s],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),vs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),Ar(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||fy(i.textContent,s)?(u.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),u.onScroll!=null&&Nt("scroll",i),u.onScrollEnd!=null&&Nt("scrollend",i),u.onClick!=null&&(i.onclick=fi),i=!0):i=!1,i||Ra(t,!0)}function cn(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:zt=zt.return}}function ua(t){if(t!==zt)return!1;if(!bt)return cn(t),bt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||am(t.type,t.memoizedProps)),s=!s),s&&Mt&&Ra(t),cn(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Mt=by(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Mt=by(t)}else i===27?(i=Mt,es(t.type)?(t=cm,cm=null,Mt=t):Mt=i):Mt=zt?Xi(t.stateNode.nextSibling):null;return!0}function tr(){Mt=zt=null,bt=!1}function $l(){var t=Oa;return t!==null&&(xi===null?xi=t:xi.push.apply(xi,t),Oa=null),t}function Ps(t){Oa===null?Oa=[t]:Oa.push(t)}var Bs=$(null),Da=null,da=null;function Zr(t,i,s){Q(Bs,i._currentValue),i._currentValue=s}function nr(t){t._currentValue=Bs.current,ae(Bs)}function qf(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function Ff(t,i,s,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var S=p.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=p;for(var X=0;X<i.length;X++)if(M.context===i[X]){v.lanes|=s,M=v.alternate,M!==null&&(M.lanes|=s),qf(v.return,s,t),u||(S=null);break e}v=M.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(o(341));S.lanes|=s,v=S.alternate,v!==null&&(v.lanes|=s),qf(S,s,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function zo(t,i,s,u){t=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var M=p.type;Rn(p.pendingProps.value,S.value)||(t!==null?t.push(M):t=[M])}}else if(p===Le.current){if(S=p.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(uc):t=[uc])}p=p.return}t!==null&&Ff(i,t,s,u),i.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Da=t,da=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Hn(t){return Kp(Da,t)}function xu(t,i){return Da===null&&Us(t),Kp(t,i)}function Kp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},da===null){if(t===null)throw Error(o(308));da=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else da=da.next=i;return s}var Xb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Qb=e.unstable_scheduleCallback,Kb=e.unstable_NormalPriority,wn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new Xb,data:new Map,refCount:0}}function Pl(t){t.refCount--,t.refCount===0&&Qb(Kb,function(){t.controller.abort()})}var Bl=null,If=0,Mo=0,Lo=null;function Jb(t,i){if(Bl===null){var s=Bl=[];If=0,Mo=Xh(),Lo={status:"pending",value:void 0,then:function(u){s.push(u)}}}return If++,i.then(Jp,Jp),i}function Jp(){if(--If===0&&Bl!==null){Lo!==null&&(Lo.status="fulfilled");var t=Bl;Bl=null,Mo=0,Lo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Wb(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<s.length;p++)(0,s[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),u}var Wp=D.S;D.S=function(t,i){Dv=V(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jb(t,i),Wp!==null&&Wp(t,i)};var Zs=$(null);function Gf(){var t=Zs.current;return t!==null?t:Gt.pooledCache}function bu(t,i){i===null?Q(Zs,Zs.current):Q(Zs,i.pool)}function eg(){var t=Gf();return t===null?null:{parent:wn._currentValue,pool:t}}var Oo=Error(o(460)),Yf=Error(o(474)),wu=Error(o(542)),Nu={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(fi,fi),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ag(t),t;default:if(typeof i.status=="string")i.then(fi,fi);else{if(t=Gt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ag(t),t}throw qs=i,Oo}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qs=s,Oo):s}}var qs=null;function ig(){if(qs===null)throw Error(o(459));var t=qs;return qs=null,t}function ag(t){if(t===Oo||t===wu)throw Error(o(483))}var Ro=null,Ul=0;function Su(t){var i=Ul;return Ul+=1,Ro===null&&(Ro=[]),ng(Ro,t,i)}function Zl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ju(t,i){throw i.$$typeof===j?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function rg(t){function i(ue,ie){if(t){var xe=ue.deletions;xe===null?(ue.deletions=[ie],ue.flags|=16):xe.push(ie)}}function s(ue,ie){if(!t)return null;for(;ie!==null;)i(ue,ie),ie=ie.sibling;return null}function u(ue){for(var ie=new Map;ue!==null;)ue.key!==null?ie.set(ue.key,ue):ie.set(ue.index,ue),ue=ue.sibling;return ie}function p(ue,ie){return ue=Gi(ue,ie),ue.index=0,ue.sibling=null,ue}function v(ue,ie,xe){return ue.index=xe,t?(xe=ue.alternate,xe!==null?(xe=xe.index,xe<ie?(ue.flags|=67108866,ie):xe):(ue.flags|=67108866,ie)):(ue.flags|=1048576,ie)}function S(ue){return t&&ue.alternate===null&&(ue.flags|=67108866),ue}function M(ue,ie,xe,ze){return ie===null||ie.tag!==6?(ie=To(xe,ue.mode,ze),ie.return=ue,ie):(ie=p(ie,xe),ie.return=ue,ie)}function X(ue,ie,xe,ze){var We=xe.type;return We===T?Ce(ue,ie,xe.props.children,ze,xe.key):ie!==null&&(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===F&&Hs(We)===ie.type)?(ie=p(ie,xe.props),Zl(ie,xe),ie.return=ue,ie):(ie=$s(xe.type,xe.key,xe.props,null,ue.mode,ze),Zl(ie,xe),ie.return=ue,ie)}function be(ue,ie,xe,ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==xe.containerInfo||ie.stateNode.implementation!==xe.implementation?(ie=Rl(xe,ue.mode,ze),ie.return=ue,ie):(ie=p(ie,xe.children||[]),ie.return=ue,ie)}function Ce(ue,ie,xe,ze,We){return ie===null||ie.tag!==7?(ie=er(xe,ue.mode,ze,We),ie.return=ue,ie):(ie=p(ie,xe),ie.return=ue,ie)}function Re(ue,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=To(""+ie,ue.mode,xe),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case z:return xe=$s(ie.type,ie.key,ie.props,null,ue.mode,xe),Zl(xe,ie),xe.return=ue,xe;case E:return ie=Rl(ie,ue.mode,xe),ie.return=ue,ie;case F:return ie=Hs(ie),Re(ue,ie,xe)}if(me(ie)||te(ie))return ie=er(ie,ue.mode,xe,null),ie.return=ue,ie;if(typeof ie.then=="function")return Re(ue,Su(ie),xe);if(ie.$$typeof===H)return Re(ue,xu(ue,ie),xe);ju(ue,ie)}return null}function je(ue,ie,xe,ze){var We=ie!==null?ie.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return We!==null?null:M(ue,ie,""+xe,ze);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:return xe.key===We?X(ue,ie,xe,ze):null;case E:return xe.key===We?be(ue,ie,xe,ze):null;case F:return xe=Hs(xe),je(ue,ie,xe,ze)}if(me(xe)||te(xe))return We!==null?null:Ce(ue,ie,xe,ze,null);if(typeof xe.then=="function")return je(ue,ie,Su(xe),ze);if(xe.$$typeof===H)return je(ue,ie,xu(ue,xe),ze);ju(ue,xe)}return null}function ke(ue,ie,xe,ze,We){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ue=ue.get(xe)||null,M(ie,ue,""+ze,We);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case z:return ue=ue.get(ze.key===null?xe:ze.key)||null,X(ie,ue,ze,We);case E:return ue=ue.get(ze.key===null?xe:ze.key)||null,be(ie,ue,ze,We);case F:return ze=Hs(ze),ke(ue,ie,xe,ze,We)}if(me(ze)||te(ze))return ue=ue.get(xe)||null,Ce(ie,ue,ze,We,null);if(typeof ze.then=="function")return ke(ue,ie,xe,Su(ze),We);if(ze.$$typeof===H)return ke(ue,ie,xe,xu(ie,ze),We);ju(ie,ze)}return null}function Ye(ue,ie,xe,ze){for(var We=null,Lt=null,Ke=ie,vt=ie=0,kt=null;Ke!==null&&vt<xe.length;vt++){Ke.index>vt?(kt=Ke,Ke=null):kt=Ke.sibling;var Ot=je(ue,Ke,xe[vt],ze);if(Ot===null){Ke===null&&(Ke=kt);break}t&&Ke&&Ot.alternate===null&&i(ue,Ke),ie=v(Ot,ie,vt),Lt===null?We=Ot:Lt.sibling=Ot,Lt=Ot,Ke=kt}if(vt===xe.length)return s(ue,Ke),bt&&Je(ue,vt),We;if(Ke===null){for(;vt<xe.length;vt++)Ke=Re(ue,xe[vt],ze),Ke!==null&&(ie=v(Ke,ie,vt),Lt===null?We=Ke:Lt.sibling=Ke,Lt=Ke);return bt&&Je(ue,vt),We}for(Ke=u(Ke);vt<xe.length;vt++)kt=ke(Ke,ue,vt,xe[vt],ze),kt!==null&&(t&&kt.alternate!==null&&Ke.delete(kt.key===null?vt:kt.key),ie=v(kt,ie,vt),Lt===null?We=kt:Lt.sibling=kt,Lt=kt);return t&&Ke.forEach(function(rs){return i(ue,rs)}),bt&&Je(ue,vt),We}function nt(ue,ie,xe,ze){if(xe==null)throw Error(o(151));for(var We=null,Lt=null,Ke=ie,vt=ie=0,kt=null,Ot=xe.next();Ke!==null&&!Ot.done;vt++,Ot=xe.next()){Ke.index>vt?(kt=Ke,Ke=null):kt=Ke.sibling;var rs=je(ue,Ke,Ot.value,ze);if(rs===null){Ke===null&&(Ke=kt);break}t&&Ke&&rs.alternate===null&&i(ue,Ke),ie=v(rs,ie,vt),Lt===null?We=rs:Lt.sibling=rs,Lt=rs,Ke=kt}if(Ot.done)return s(ue,Ke),bt&&Je(ue,vt),We;if(Ke===null){for(;!Ot.done;vt++,Ot=xe.next())Ot=Re(ue,Ot.value,ze),Ot!==null&&(ie=v(Ot,ie,vt),Lt===null?We=Ot:Lt.sibling=Ot,Lt=Ot);return bt&&Je(ue,vt),We}for(Ke=u(Ke);!Ot.done;vt++,Ot=xe.next())Ot=ke(Ke,ue,vt,Ot.value,ze),Ot!==null&&(t&&Ot.alternate!==null&&Ke.delete(Ot.key===null?vt:Ot.key),ie=v(Ot,ie,vt),Lt===null?We=Ot:Lt.sibling=Ot,Lt=Ot);return t&&Ke.forEach(function(uw){return i(ue,uw)}),bt&&Je(ue,vt),We}function Vt(ue,ie,xe,ze){if(typeof xe=="object"&&xe!==null&&xe.type===T&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:e:{for(var We=xe.key;ie!==null;){if(ie.key===We){if(We=xe.type,We===T){if(ie.tag===7){s(ue,ie.sibling),ze=p(ie,xe.props.children),ze.return=ue,ue=ze;break e}}else if(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===F&&Hs(We)===ie.type){s(ue,ie.sibling),ze=p(ie,xe.props),Zl(ze,xe),ze.return=ue,ue=ze;break e}s(ue,ie);break}else i(ue,ie);ie=ie.sibling}xe.type===T?(ze=er(xe.props.children,ue.mode,ze,xe.key),ze.return=ue,ue=ze):(ze=$s(xe.type,xe.key,xe.props,null,ue.mode,ze),Zl(ze,xe),ze.return=ue,ue=ze)}return S(ue);case E:e:{for(We=xe.key;ie!==null;){if(ie.key===We)if(ie.tag===4&&ie.stateNode.containerInfo===xe.containerInfo&&ie.stateNode.implementation===xe.implementation){s(ue,ie.sibling),ze=p(ie,xe.children||[]),ze.return=ue,ue=ze;break e}else{s(ue,ie);break}else i(ue,ie);ie=ie.sibling}ze=Rl(xe,ue.mode,ze),ze.return=ue,ue=ze}return S(ue);case F:return xe=Hs(xe),Vt(ue,ie,xe,ze)}if(me(xe))return Ye(ue,ie,xe,ze);if(te(xe)){if(We=te(xe),typeof We!="function")throw Error(o(150));return xe=We.call(xe),nt(ue,ie,xe,ze)}if(typeof xe.then=="function")return Vt(ue,ie,Su(xe),ze);if(xe.$$typeof===H)return Vt(ue,ie,xu(ue,xe),ze);ju(ue,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ie!==null&&ie.tag===6?(s(ue,ie.sibling),ze=p(ie,xe),ze.return=ue,ue=ze):(s(ue,ie),ze=To(xe,ue.mode,ze),ze.return=ue,ue=ze),S(ue)):s(ue,ie)}return function(ue,ie,xe,ze){try{Ul=0;var We=Vt(ue,ie,xe,ze);return Ro=null,We}catch(Ke){if(Ke===Oo||Ke===wu)throw Ke;var Lt=Yn(29,Ke,null,ue.mode);return Lt.lanes=ze,Lt.return=ue,Lt}finally{}}}var Fs=rg(!0),sg=rg(!1),Hr=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Dt&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=Ds(t),Ur(t,null,s),i}return La(t,u,i,s),Ds(t)}function Hl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,Wn(t,s)}}function Kf(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var p=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};v===null?p=v=S:v=v.next=S,s=s.next}while(s!==null);v===null?p=v=i:v=v.next=i}else p=v=i;s={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Jf=!1;function ql(){if(Jf){var t=Lo;if(t!==null)throw t}}function Fl(t,i,s,u){Jf=!1;var p=t.updateQueue;Hr=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var X=M,be=X.next;X.next=null,S===null?v=be:S.next=be,S=X;var Ce=t.alternate;Ce!==null&&(Ce=Ce.updateQueue,M=Ce.lastBaseUpdate,M!==S&&(M===null?Ce.firstBaseUpdate=be:M.next=be,Ce.lastBaseUpdate=X))}if(v!==null){var Re=p.baseState;S=0,Ce=be=X=null,M=v;do{var je=M.lane&-536870913,ke=je!==M.lane;if(ke?(Et&je)===je:(u&je)===je){je!==0&&je===Mo&&(Jf=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ye=t,nt=M;je=i;var Vt=s;switch(nt.tag){case 1:if(Ye=nt.payload,typeof Ye=="function"){Re=Ye.call(Vt,Re,je);break e}Re=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=nt.payload,je=typeof Ye=="function"?Ye.call(Vt,Re,je):Ye,je==null)break e;Re=N({},Re,je);break e;case 2:Hr=!0}}je=M.callback,je!==null&&(t.flags|=64,ke&&(t.flags|=8192),ke=p.callbacks,ke===null?p.callbacks=[je]:ke.push(je))}else ke={lane:je,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Ce===null?(be=Ce=ke,X=Re):Ce=Ce.next=ke,S|=je;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ke=M,M=ke.next,ke.next=null,p.lastBaseUpdate=ke,p.shared.pending=null}}while(!0);Ce===null&&(X=Re),p.baseState=X,p.firstBaseUpdate=be,p.lastBaseUpdate=Ce,v===null&&(p.shared.lanes=0),Xr|=S,t.lanes=S,t.memoizedState=Re}}function og(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function lg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)og(s[t],i)}var Do=$(null),Au=$(0);function cg(t,i){t=dr,Q(Au,t),Q(Do,i),dr=t|i.baseLanes}function Wf(){Q(Au,dr),Q(Do,Do.current)}function eh(){dr=Au.current,ae(Do),ae(Au)}var Ci=$(null),Yi=null;function Vr(t){var i=t.alternate;Q(yn,yn.current&1),Q(Ci,t),Yi===null&&(i===null||Do.current!==null||i.memoizedState!==null)&&(Yi=t)}function th(t){Q(yn,yn.current),Q(Ci,t),Yi===null&&(Yi=t)}function ug(t){t.tag===22?(Q(yn,yn.current),Q(Ci,t),Yi===null&&(Yi=t)):Ir()}function Ir(){Q(yn,yn.current),Q(Ci,Ci.current)}function zi(t){ae(Ci),Yi===t&&(Yi=null),ae(yn)}var yn=$(0);function Eu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||om(s)||lm(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ir=0,ft=null,qt=null,Nn=null,ku=!1,$o=!1,Vs=!1,Tu=0,Vl=0,Po=null,e1=0;function gn(){throw Error(o(321))}function nh(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Rn(t[s],i[s]))return!1;return!0}function ih(t,i,s,u,p,v){return ir=v,ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=t===null||t.memoizedState===null?Gg:yh,Vs=!1,v=s(u,p),Vs=!1,$o&&(v=fg(i,s,u,p)),dg(t),v}function dg(t){D.H=Yl;var i=qt!==null&&qt.next!==null;if(ir=0,Nn=qt=ft=null,ku=!1,Vl=0,Po=null,i)throw Error(o(300));t===null||Sn||(t=t.dependencies,t!==null&&_u(t)&&(Sn=!0))}function fg(t,i,s,u){ft=t;var p=0;do{if($o&&(Po=null),Vl=0,$o=!1,25<=p)throw Error(o(301));if(p+=1,Nn=qt=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}D.H=Yg,v=i(s,u)}while($o);return v}function t1(){var t=D.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(ft.flags|=1024),i}function ah(){var t=Tu!==0;return Tu=0,t}function rh(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function sh(t){if(ku){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ku=!1}ir=0,Nn=qt=ft=null,$o=!1,Vl=Tu=0,Po=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?ft.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function _n(){if(qt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var i=Nn===null?ft.memoizedState:Nn.next;if(i!==null)Nn=i,qt=t;else{if(t===null)throw ft.alternate===null?Error(o(467)):Error(o(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Nn===null?ft.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Vl;return Vl+=1,Po===null&&(Po=[]),t=ng(Po,t,i),i=ft,(Nn===null?i.memoizedState:Nn.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?Gg:yh),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===H)return Hn(t)}throw Error(o(438,String(t)))}function oh(t){var i=null,s=ft.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=ft.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Cu(),ft.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=ve;return i.index++,s}function ar(t,i){return typeof i=="function"?i(t):i}function Mu(t){var i=_n();return lh(i,qt,t)}function lh(t,i,s){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}i.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{i=p.next;var M=S=null,X=null,be=i,Ce=!1;do{var Re=be.lane&-536870913;if(Re!==be.lane?(Et&Re)===Re:(ir&Re)===Re){var je=be.revertLane;if(je===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Re===Mo&&(Ce=!0);else if((ir&je)===je){be=be.next,je===Mo&&(Ce=!0);continue}else Re={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},X===null?(M=X=Re,S=v):X=X.next=Re,ft.lanes|=je,Xr|=je;Re=be.action,Vs&&s(v,Re),v=be.hasEagerState?be.eagerState:s(v,Re)}else je={lane:Re,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},X===null?(M=X=je,S=v):X=X.next=je,ft.lanes|=Re,Xr|=Re;be=be.next}while(be!==null&&be!==i);if(X===null?S=v:X.next=M,!Rn(v,t.memoizedState)&&(Sn=!0,Ce&&(s=Lo,s!==null)))throw s;t.memoizedState=v,t.baseState=S,t.baseQueue=X,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function ch(t){var i=_n(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var u=s.dispatch,p=s.pending,v=i.memoizedState;if(p!==null){s.pending=null;var S=p=p.next;do v=t(v,S.action),S=S.next;while(S!==p);Rn(v,i.memoizedState)||(Sn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),s.lastRenderedState=v}return[v,u]}function hg(t,i,s){var u=ft,p=_n(),v=bt;if(v){if(s===void 0)throw Error(o(407));s=s()}else s=i();var S=!Rn((qt||p).memoizedState,s);if(S&&(p.memoizedState=s,Sn=!0),p=p.queue,fh(gg.bind(null,u,p,t),[t]),p.getSnapshot!==i||S||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,Bo(9,{destroy:void 0},pg.bind(null,u,p,s,i),null),Gt===null)throw Error(o(349));v||(ir&127)!==0||mg(u,i,s)}return s}function mg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=ft.updateQueue,i===null?(i=Cu(),ft.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function pg(t,i,s,u){i.value=s,i.getSnapshot=u,vg(i)&&yg(t)}function gg(t,i,s){return s(function(){vg(i)&&yg(t)})}function vg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Rn(t,s)}catch{return!0}}function yg(t){var i=Ii(t,2);i!==null&&bi(i,t,2)}function uh(t){var i=ni();if(typeof t=="function"){var s=t;if(t=s(),Vs){Kt(!0);try{s()}finally{Kt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},i}function _g(t,i,s,u){return t.baseState=s,lh(t,qt,typeof u=="function"?u:ar)}function n1(t,i,s,u,p){if(Ru(t))throw Error(o(485));if(t=i.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};D.T!==null?s(!0):v.isTransition=!1,u(v),s=i.pending,s===null?(v.next=i.pending=v,xg(i,v)):(v.next=s.next,i.pending=s.next=v)}}function xg(t,i){var s=i.action,u=i.payload,p=t.state;if(i.isTransition){var v=D.T,S={};D.T=S;try{var M=s(p,u),X=D.S;X!==null&&X(S,M),bg(t,i,M)}catch(be){dh(t,i,be)}finally{v!==null&&S.types!==null&&(v.types=S.types),D.T=v}}else try{v=s(p,u),bg(t,i,v)}catch(be){dh(t,i,be)}}function bg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){wg(t,i,u)},function(u){return dh(t,i,u)}):wg(t,i,s)}function wg(t,i,s){i.status="fulfilled",i.value=s,Ng(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,xg(t,s)))}function dh(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,Ng(i),i=i.next;while(i!==u)}t.action=null}function Ng(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sg(t,i){return i}function jg(t,i){if(bt){var s=Gt.formState;if(s!==null){e:{var u=ft;if(bt){if(Mt){t:{for(var p=Mt,v=gi;p.nodeType!==8;){if(!v){p=null;break t}if(p=Xi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Mt=Xi(p.nextSibling),u=p.data==="F!";break e}}Ra(u)}u=!1}u&&(i=s[0])}}return s=ni(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:i},s.queue=u,s=Fg.bind(null,ft,u),u.dispatch=s,u=uh(!1),v=vh.bind(null,ft,!1,u.queue),u=ni(),p={state:i,dispatch:null,action:t,pending:null},u.queue=p,s=n1.bind(null,ft,p,v,s),p.dispatch=s,u.memoizedState=t,[i,s,!1]}function Ag(t){var i=_n();return Eg(i,qt,t)}function Eg(t,i,s){if(i=lh(t,i,Sg)[0],t=Mu(ar)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Il(i)}catch(S){throw S===Oo?wu:S}else u=i;i=_n();var p=i.queue,v=p.dispatch;return s!==i.memoizedState&&(ft.flags|=2048,Bo(9,{destroy:void 0},i1.bind(null,p,s),null)),[u,v,t]}function i1(t,i){t.action=i}function kg(t){var i=_n(),s=qt;if(s!==null)return Eg(i,s,t);_n(),i=i.memoizedState,s=_n();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function Bo(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=ft.updateQueue,i===null&&(i=Cu(),ft.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function Tg(){return _n().memoizedState}function Lu(t,i,s,u){var p=ni();ft.flags|=t,p.memoizedState=Bo(1|i,{destroy:void 0},s,u===void 0?null:u)}function Ou(t,i,s,u){var p=_n();u=u===void 0?null:u;var v=p.memoizedState.inst;qt!==null&&u!==null&&nh(u,qt.memoizedState.deps)?p.memoizedState=Bo(i,v,s,u):(ft.flags|=t,p.memoizedState=Bo(1|i,v,s,u))}function Cg(t,i){Lu(8390656,8,t,i)}function fh(t,i){Ou(2048,8,t,i)}function a1(t){ft.flags|=4;var i=ft.updateQueue;if(i===null)i=Cu(),ft.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function zg(t){var i=_n().memoizedState;return a1({ref:i,nextImpl:t}),function(){if((Dt&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function Mg(t,i){return Ou(4,2,t,i)}function Lg(t,i){return Ou(4,4,t,i)}function Og(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rg(t,i,s){s=s!=null?s.concat([t]):null,Ou(4,4,Og.bind(null,i,t),s)}function hh(){}function Dg(t,i){var s=_n();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&nh(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function $g(t,i){var s=_n();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&nh(i,u[1]))return u[0];if(u=t(),Vs){Kt(!0);try{t()}finally{Kt(!1)}}return s.memoizedState=[u,i],u}function mh(t,i,s){return s===void 0||(ir&1073741824)!==0&&(Et&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Pv(),ft.lanes|=t,Xr|=t,s)}function Pg(t,i,s,u){return Rn(s,i)?s:Do.current!==null?(t=mh(t,s,u),Rn(t,i)||(Sn=!0),t):(ir&42)===0||(ir&1073741824)!==0&&(Et&261930)===0?(Sn=!0,t.memoizedState=s):(t=Pv(),ft.lanes|=t,Xr|=t,i)}function Bg(t,i,s,u,p){var v=oe.p;oe.p=v!==0&&8>v?v:8;var S=D.T,M={};D.T=M,vh(t,!1,i,s);try{var X=p(),be=D.S;if(be!==null&&be(M,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ce=Wb(X,u);Gl(t,i,Ce,Oi(t))}else Gl(t,i,u,Oi(t))}catch(Re){Gl(t,i,{then:function(){},status:"rejected",reason:Re},Oi())}finally{oe.p=v,S!==null&&M.types!==null&&(S.types=M.types),D.T=S}}function r1(){}function ph(t,i,s,u){if(t.tag!==5)throw Error(o(476));var p=Ug(t).queue;Bg(t,p,i,le,s===null?r1:function(){return Zg(t),s(u)})}function Ug(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:le},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Zg(t){var i=Ug(t);i.next===null&&(i=t.alternate.memoizedState),Gl(t,i.next.queue,{},Oi())}function gh(){return Hn(uc)}function Hg(){return _n().memoizedState}function qg(){return _n().memoizedState}function s1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Oi();t=qr(s);var u=Fr(i,t,s);u!==null&&(bi(u,i,s),Hl(u,i,s)),i={cache:Vf()},t.payload=i;return}i=i.return}}function o1(t,i,s){var u=Oi();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ru(t)?Vg(i,s):(s=Ml(t,i,s,u),s!==null&&(bi(s,t,u),Ig(s,i,u)))}function Fg(t,i,s){var u=Oi();Gl(t,i,s,u)}function Gl(t,i,s,u){var p={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))Vg(i,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,M=v(S,s);if(p.hasEagerState=!0,p.eagerState=M,Rn(M,S))return La(t,i,p,0),Gt===null&&Rs(),!1}catch{}finally{}if(s=Ml(t,i,p,u),s!==null)return bi(s,t,u),Ig(s,i,u),!0}return!1}function vh(t,i,s,u){if(u={lane:2,revertLane:Xh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(i)throw Error(o(479))}else i=Ml(t,s,u,2),i!==null&&bi(i,t,2)}function Ru(t){var i=t.alternate;return t===ft||i!==null&&i===ft}function Vg(t,i){$o=ku=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ig(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,Wn(t,s)}}var Yl={readContext:Hn,use:zu,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};Yl.useEffectEvent=gn;var Gg={readContext:Hn,use:zu,useCallback:function(t,i){return ni().memoizedState=[t,i===void 0?null:i],t},useContext:Hn,useEffect:Cg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Lu(4194308,4,Og.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Lu(4194308,4,t,i)},useInsertionEffect:function(t,i){Lu(4,2,t,i)},useMemo:function(t,i){var s=ni();i=i===void 0?null:i;var u=t();if(Vs){Kt(!0);try{t()}finally{Kt(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=ni();if(s!==void 0){var p=s(i);if(Vs){Kt(!0);try{s(i)}finally{Kt(!1)}}}else p=i;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=o1.bind(null,ft,t),[u.memoizedState,t]},useRef:function(t){var i=ni();return t={current:t},i.memoizedState=t},useState:function(t){t=uh(t);var i=t.queue,s=Fg.bind(null,ft,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:hh,useDeferredValue:function(t,i){var s=ni();return mh(s,t,i)},useTransition:function(){var t=uh(!1);return t=Bg.bind(null,ft,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=ft,p=ni();if(bt){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),Gt===null)throw Error(o(349));(Et&127)!==0||mg(u,i,s)}p.memoizedState=s;var v={value:s,getSnapshot:i};return p.queue=v,Cg(gg.bind(null,u,v,t),[t]),u.flags|=2048,Bo(9,{destroy:void 0},pg.bind(null,u,v,s,i),null),s},useId:function(){var t=ni(),i=Gt.identifierPrefix;if(bt){var s=qe,u=Oe;s=(u&~(1<<32-$e(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Tu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=e1++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:gh,useFormState:jg,useActionState:jg,useOptimistic:function(t){var i=ni();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=vh.bind(null,ft,!0,s),s.dispatch=i,[t,i]},useMemoCache:oh,useCacheRefresh:function(){return ni().memoizedState=s1.bind(null,ft)},useEffectEvent:function(t){var i=ni(),s={impl:t};return i.memoizedState=s,function(){if((Dt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},yh={readContext:Hn,use:zu,useCallback:Dg,useContext:Hn,useEffect:fh,useImperativeHandle:Rg,useInsertionEffect:Mg,useLayoutEffect:Lg,useMemo:$g,useReducer:Mu,useRef:Tg,useState:function(){return Mu(ar)},useDebugValue:hh,useDeferredValue:function(t,i){var s=_n();return Pg(s,qt.memoizedState,t,i)},useTransition:function(){var t=Mu(ar)[0],i=_n().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:hg,useId:Hg,useHostTransitionStatus:gh,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,i){var s=_n();return _g(s,qt,t,i)},useMemoCache:oh,useCacheRefresh:qg};yh.useEffectEvent=zg;var Yg={readContext:Hn,use:zu,useCallback:Dg,useContext:Hn,useEffect:fh,useImperativeHandle:Rg,useInsertionEffect:Mg,useLayoutEffect:Lg,useMemo:$g,useReducer:ch,useRef:Tg,useState:function(){return ch(ar)},useDebugValue:hh,useDeferredValue:function(t,i){var s=_n();return qt===null?mh(s,t,i):Pg(s,qt.memoizedState,t,i)},useTransition:function(){var t=ch(ar)[0],i=_n().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:hg,useId:Hg,useHostTransitionStatus:gh,useFormState:kg,useActionState:kg,useOptimistic:function(t,i){var s=_n();return qt!==null?_g(s,qt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:oh,useCacheRefresh:qg};Yg.useEffectEvent=zg;function _h(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:N({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var xh={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Oi(),p=qr(u);p.payload=i,s!=null&&(p.callback=s),i=Fr(t,p,u),i!==null&&(bi(i,t,u),Hl(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Oi(),p=qr(u);p.tag=1,p.payload=i,s!=null&&(p.callback=s),i=Fr(t,p,u),i!==null&&(bi(i,t,u),Hl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Oi(),u=qr(s);u.tag=2,i!=null&&(u.callback=i),i=Fr(t,u,s),i!==null&&(bi(i,t,s),Hl(i,t,s))}};function Xg(t,i,s,u,p,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,S):i.prototype&&i.prototype.isPureReactComponent?!Dr(s,u)||!Dr(p,v):!0}function Qg(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&xh.enqueueReplaceState(i,i.state,null)}function Is(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=N({},s));for(var p in t)s[p]===void 0&&(s[p]=t[p])}return s}function Kg(t){Os(t)}function Jg(t){console.error(t)}function Wg(t){Os(t)}function Du(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function ev(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function bh(t,i,s){return s=qr(s),s.tag=3,s.payload={element:null},s.callback=function(){Du(t,i)},s}function tv(t){return t=qr(t),t.tag=3,t}function nv(t,i,s,u){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){ev(i,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){ev(i,s,u),typeof p!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function l1(t,i,s,u,p){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&zo(i,s,p,!0),s=Ci.current,s!==null){switch(s.tag){case 31:case 13:return Yi===null?Yu():s.alternate===null&&vn===0&&(vn=3),s.flags&=-257,s.flags|=65536,s.lanes=p,u===Nu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Ih(t,u,p)),!1;case 22:return s.flags|=65536,u===Nu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Ih(t,u,p)),!1}throw Error(o(435,s.tag))}return Ih(t,u,p),Yu(),!1}if(bt)return i=Ci.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==Co&&(t=Error(o(422),{cause:u}),Ps(c(t,s)))):(u!==Co&&(i=Error(o(423),{cause:u}),Ps(c(i,s))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=c(u,s),p=bh(t.stateNode,u,p),Kf(t,p),vn!==4&&(vn=2)),!1;var v=Error(o(520),{cause:u});if(v=c(v,s),nc===null?nc=[v]:nc.push(v),vn!==4&&(vn=2),i===null)return!0;u=c(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=p&-p,s.lanes|=t,t=bh(s.stateNode,u,t),Kf(s,t),!1;case 1:if(i=s.type,v=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qr===null||!Qr.has(v))))return s.flags|=65536,p&=-p,s.lanes|=p,p=tv(p),nv(p,t,s,u),Kf(s,p),!1}s=s.return}while(s!==null);return!1}var wh=Error(o(461)),Sn=!1;function qn(t,i,s,u){i.child=t===null?sg(i,null,s,u):Fs(i,t.child,s,u)}function iv(t,i,s,u,p){s=s.render;var v=i.ref;if("ref"in u){var S={};for(var M in u)M!=="ref"&&(S[M]=u[M])}else S=u;return Us(i),u=ih(t,i,s,S,v,p),M=ah(),t!==null&&!Sn?(rh(t,i,p),rr(t,i,p)):(bt&&M&&Mn(i),i.flags|=1,qn(t,i,u,p),i.child)}function av(t,i,s,u,p){if(t===null){var v=s.type;return typeof v=="function"&&!ko(v)&&v.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=v,rv(t,i,v,u,p)):(t=$s(s.type,null,u,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!Ch(t,p)){var S=v.memoizedProps;if(s=s.compare,s=s!==null?s:Dr,s(S,u)&&t.ref===i.ref)return rr(t,i,p)}return i.flags|=1,t=Gi(v,u),t.ref=i.ref,t.return=i,i.child=t}function rv(t,i,s,u,p){if(t!==null){var v=t.memoizedProps;if(Dr(v,u)&&t.ref===i.ref)if(Sn=!1,i.pendingProps=u=v,Ch(t,p))(t.flags&131072)!==0&&(Sn=!0);else return i.lanes=t.lanes,rr(t,i,p)}return Nh(t,i,s,u,p)}function sv(t,i,s,u){var p=u.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|s:s,t!==null){for(u=i.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,i.child=null;return ov(t,i,v,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&bu(i,v!==null?v.cachePool:null),v!==null?cg(i,v):Wf(),ug(i);else return u=i.lanes=536870912,ov(t,i,v!==null?v.baseLanes|s:s,s,u)}else v!==null?(bu(i,v.cachePool),cg(i,v),Ir(),i.memoizedState=null):(t!==null&&bu(i,null),Wf(),Ir());return qn(t,i,p,s),i.child}function Xl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ov(t,i,s,u,p){var v=Gf();return v=v===null?null:{parent:wn._currentValue,pool:v},i.memoizedState={baseLanes:s,cachePool:v},t!==null&&bu(i,null),Wf(),ug(i),t!==null&&zo(t,i,u,!0),i.childLanes=p,null}function $u(t,i){return i=Bu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function lv(t,i,s){return Fs(i,t.child,null,s),t=$u(i,i.pendingProps),t.flags|=2,zi(i),i.memoizedState=null,t}function c1(t,i,s){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(bt){if(u.mode==="hidden")return t=$u(i,u),i.lanes=536870912,Xl(null,t);if(th(i),(t=Mt)?(t=xy(t,gi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Se!==null?{id:Oe,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},s=Ol(t),s.return=i,i.child=s,zt=i,Mt=null)):t=null,t===null)throw Ra(i);return i.lanes=536870912,null}return $u(i,u)}var v=t.memoizedState;if(v!==null){var S=v.dehydrated;if(th(i),p)if(i.flags&256)i.flags&=-257,i=lv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(o(558));else if(Sn||zo(t,i,s,!1),p=(s&t.childLanes)!==0,Sn||p){if(u=Gt,u!==null&&(S=Un(u,s),S!==0&&S!==v.retryLane))throw v.retryLane=S,Ii(t,S),bi(u,t,S),wh;Yu(),i=lv(t,i,s)}else t=v.treeContext,Mt=Xi(S.nextSibling),zt=i,bt=!0,Oa=null,gi=!1,t!==null&&ti(i,t),i=$u(i,u),i.flags|=4096;return i}return t=Gi(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Pu(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Nh(t,i,s,u,p){return Us(i),s=ih(t,i,s,u,void 0,p),u=ah(),t!==null&&!Sn?(rh(t,i,p),rr(t,i,p)):(bt&&u&&Mn(i),i.flags|=1,qn(t,i,s,p),i.child)}function cv(t,i,s,u,p,v){return Us(i),i.updateQueue=null,s=fg(i,u,s,p),dg(t),u=ah(),t!==null&&!Sn?(rh(t,i,v),rr(t,i,v)):(bt&&u&&Mn(i),i.flags|=1,qn(t,i,s,v),i.child)}function uv(t,i,s,u,p){if(Us(i),i.stateNode===null){var v=Wa,S=s.contextType;typeof S=="object"&&S!==null&&(v=Hn(S)),v=new s(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=xh,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},Xf(i),S=s.contextType,v.context=typeof S=="object"&&S!==null?Hn(S):Wa,v.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(_h(i,s,S,u),v.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&xh.enqueueReplaceState(v,v.state,null),Fl(i,u,v,p),ql(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){v=i.stateNode;var M=i.memoizedProps,X=Is(s,M);v.props=X;var be=v.context,Ce=s.contextType;S=Wa,typeof Ce=="object"&&Ce!==null&&(S=Hn(Ce));var Re=s.getDerivedStateFromProps;Ce=typeof Re=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,Ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||be!==S)&&Qg(i,v,u,S),Hr=!1;var je=i.memoizedState;v.state=je,Fl(i,u,v,p),ql(),be=i.memoizedState,M||je!==be||Hr?(typeof Re=="function"&&(_h(i,s,Re,u),be=i.memoizedState),(X=Hr||Xg(i,s,X,u,je,be,S))?(Ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=be),v.props=u,v.state=be,v.context=S,u=X):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,Qf(t,i),S=i.memoizedProps,Ce=Is(s,S),v.props=Ce,Re=i.pendingProps,je=v.context,be=s.contextType,X=Wa,typeof be=="object"&&be!==null&&(X=Hn(be)),M=s.getDerivedStateFromProps,(be=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Re||je!==X)&&Qg(i,v,u,X),Hr=!1,je=i.memoizedState,v.state=je,Fl(i,u,v,p),ql();var ke=i.memoizedState;S!==Re||je!==ke||Hr||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof M=="function"&&(_h(i,s,M,u),ke=i.memoizedState),(Ce=Hr||Xg(i,s,Ce,u,je,ke,X)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?(be||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ke,X),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ke,X)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&je===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&je===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ke),v.props=u,v.state=ke,v.context=X,u=Ce):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&je===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&je===t.memoizedState||(i.flags|=1024),u=!1)}return v=u,Pu(t,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&u?(i.child=Fs(i,t.child,null,p),i.child=Fs(i,null,s,p)):qn(t,i,s,p),i.memoizedState=v.state,t=i.child):t=rr(t,i,p),t}function dv(t,i,s,u){return tr(),i.flags|=256,qn(t,i,s,u),i.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:eg()}}function Ah(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Li),t}function fv(t,i,s){var u=i.pendingProps,p=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(yn.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(bt){if(p?Vr(i):Ir(),(t=Mt)?(t=xy(t,gi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Se!==null?{id:Oe,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},s=Ol(t),s.return=i,i.child=s,zt=i,Mt=null)):t=null,t===null)throw Ra(i);return lm(t)?i.lanes=32:i.lanes=536870912,null}var M=u.children;return u=u.fallback,p?(Ir(),p=i.mode,M=Bu({mode:"hidden",children:M},p),u=er(u,p,s,null),M.return=i,u.return=i,M.sibling=u,i.child=M,u=i.child,u.memoizedState=jh(s),u.childLanes=Ah(t,S,s),i.memoizedState=Sh,Xl(null,u)):(Vr(i),Eh(i,M))}var X=t.memoizedState;if(X!==null&&(M=X.dehydrated,M!==null)){if(v)i.flags&256?(Vr(i),i.flags&=-257,i=kh(t,i,s)):i.memoizedState!==null?(Ir(),i.child=t.child,i.flags|=128,i=null):(Ir(),M=u.fallback,p=i.mode,u=Bu({mode:"visible",children:u.children},p),M=er(M,p,s,null),M.flags|=2,u.return=i,M.return=i,u.sibling=M,i.child=u,Fs(i,t.child,null,s),u=i.child,u.memoizedState=jh(s),u.childLanes=Ah(t,S,s),i.memoizedState=Sh,i=Xl(null,u));else if(Vr(i),lm(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var be=S.dgst;S=be,u=Error(o(419)),u.stack="",u.digest=S,Ps({value:u,source:null,stack:null}),i=kh(t,i,s)}else if(Sn||zo(t,i,s,!1),S=(s&t.childLanes)!==0,Sn||S){if(S=Gt,S!==null&&(u=Un(S,s),u!==0&&u!==X.retryLane))throw X.retryLane=u,Ii(t,u),bi(S,t,u),wh;om(M)||Yu(),i=kh(t,i,s)}else om(M)?(i.flags|=192,i.child=t.child,i=null):(t=X.treeContext,Mt=Xi(M.nextSibling),zt=i,bt=!0,Oa=null,gi=!1,t!==null&&ti(i,t),i=Eh(i,u.children),i.flags|=4096);return i}return p?(Ir(),M=u.fallback,p=i.mode,X=t.child,be=X.sibling,u=Gi(X,{mode:"hidden",children:u.children}),u.subtreeFlags=X.subtreeFlags&65011712,be!==null?M=Gi(be,M):(M=er(M,p,s,null),M.flags|=2),M.return=i,u.return=i,u.sibling=M,i.child=u,Xl(null,u),u=i.child,M=t.child.memoizedState,M===null?M=jh(s):(p=M.cachePool,p!==null?(X=wn._currentValue,p=p.parent!==X?{parent:X,pool:X}:p):p=eg(),M={baseLanes:M.baseLanes|s,cachePool:p}),u.memoizedState=M,u.childLanes=Ah(t,S,s),i.memoizedState=Sh,Xl(t.child,u)):(Vr(i),s=t.child,t=s.sibling,s=Gi(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=s,i.memoizedState=null,s)}function Eh(t,i){return i=Bu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Bu(t,i){return t=Yn(22,t,null,i),t.lanes=0,t}function kh(t,i,s){return Fs(i,t.child,null,s),t=Eh(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function hv(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),qf(t.return,i,s)}function Th(t,i,s,u,p,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:p,treeForkCount:v}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=s,S.tailMode=p,S.treeForkCount=v)}function mv(t,i,s){var u=i.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var S=yn.current,M=(S&2)!==0;if(M?(S=S&1|2,i.flags|=128):S&=1,Q(yn,S),qn(t,i,u,s),u=bt?C:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,s,i);else if(t.tag===19)hv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(s=i.child,p=null;s!==null;)t=s.alternate,t!==null&&Eu(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=i.child,i.child=null):(p=s.sibling,s.sibling=null),Th(i,!1,p,s,v,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&Eu(t)===null){i.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}Th(i,!0,s,null,v,u);break;case"together":Th(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function rr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Xr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(zo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=Gi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Gi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Ch(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function u1(t,i,s){switch(i.tag){case 3:Y(i,i.stateNode.containerInfo),Zr(i,wn,t.memoizedState.cache),tr();break;case 27:case 5:De(i);break;case 4:Y(i,i.stateNode.containerInfo);break;case 10:Zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,th(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Vr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?fv(t,i,s):(Vr(i),t=rr(t,i,s),t!==null?t.sibling:null);Vr(i);break;case 19:var p=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(zo(t,i,s,!1),u=(s&i.childLanes)!==0),p){if(u)return mv(t,i,s);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(yn,yn.current),u)break;return null;case 22:return i.lanes=0,sv(t,i,s,i.pendingProps);case 24:Zr(i,wn,t.memoizedState.cache)}return rr(t,i,s)}function pv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Sn=!0;else{if(!Ch(t,s)&&(i.flags&128)===0)return Sn=!1,u1(t,i,s);Sn=(t.flags&131072)!==0}else Sn=!1,bt&&(i.flags&1048576)!==0&&gt(i,C,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")ko(t)?(u=Is(t,u),i.tag=1,i=uv(null,i,t,u,s)):(i.tag=0,i=Nh(null,i,t,u,s));else{if(t!=null){var p=t.$$typeof;if(p===P){i.tag=11,i=iv(null,i,t,u,s);break e}else if(p===J){i.tag=14,i=av(null,i,t,u,s);break e}}throw i=B(t)||t,Error(o(306,i,""))}}return i;case 0:return Nh(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,p=Is(u,i.pendingProps),uv(t,i,u,p,s);case 3:e:{if(Y(i,i.stateNode.containerInfo),t===null)throw Error(o(387));u=i.pendingProps;var v=i.memoizedState;p=v.element,Qf(t,i),Fl(i,u,null,s);var S=i.memoizedState;if(u=S.cache,Zr(i,wn,u),u!==v.cache&&Ff(i,[wn],s,!0),ql(),u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=dv(t,i,u,s);break e}else if(u!==p){p=c(Error(o(424)),i),Ps(p),i=dv(t,i,u,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Mt=Xi(t.firstChild),zt=i,bt=!0,Oa=null,gi=!0,s=sg(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(tr(),u===p){i=rr(t,i,s);break e}qn(t,i,u,s)}i=i.child}return i;case 26:return Pu(t,i),t===null?(s=Ay(i.type,null,i.pendingProps,null))?i.memoizedState=s:bt||(s=i.type,t=i.pendingProps,u=td(Me.current).createElement(s),u[ln]=i,u[hn]=t,Fn(u,s,t),Jt(u),i.stateNode=u):i.memoizedState=Ay(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return De(i),t===null&&bt&&(u=i.stateNode=Ny(i.type,i.pendingProps,Me.current),zt=i,gi=!0,p=Mt,es(i.type)?(cm=p,Mt=Xi(u.firstChild)):Mt=p),qn(t,i,i.pendingProps.children,s),Pu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&bt&&((p=u=Mt)&&(u=U1(u,i.type,i.pendingProps,gi),u!==null?(i.stateNode=u,zt=i,Mt=Xi(u.firstChild),gi=!1,p=!0):p=!1),p||Ra(i)),De(i),p=i.type,v=i.pendingProps,S=t!==null?t.memoizedProps:null,u=v.children,am(p,v)?u=null:S!==null&&am(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=ih(t,i,t1,null,null,s),uc._currentValue=p),Pu(t,i),qn(t,i,u,s),i.child;case 6:return t===null&&bt&&((t=s=Mt)&&(s=Z1(s,i.pendingProps,gi),s!==null?(i.stateNode=s,zt=i,Mt=null,t=!0):t=!1),t||Ra(i)),null;case 13:return fv(t,i,s);case 4:return Y(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Fs(i,null,u,s):qn(t,i,u,s),i.child;case 11:return iv(t,i,i.type,i.pendingProps,s);case 7:return qn(t,i,i.pendingProps,s),i.child;case 8:return qn(t,i,i.pendingProps.children,s),i.child;case 12:return qn(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Zr(i,i.type,u.value),qn(t,i,u.children,s),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Us(i),p=Hn(p),u=u(p),i.flags|=1,qn(t,i,u,s),i.child;case 14:return av(t,i,i.type,i.pendingProps,s);case 15:return rv(t,i,i.type,i.pendingProps,s);case 19:return mv(t,i,s);case 31:return c1(t,i,s);case 22:return sv(t,i,s,i.pendingProps);case 24:return Us(i),u=Hn(wn),t===null?(p=Gf(),p===null&&(p=Gt,v=Vf(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=s),p=v),i.memoizedState={parent:u,cache:p},Xf(i),Zr(i,wn,p)):((t.lanes&s)!==0&&(Qf(t,i),Fl(i,null,null,s),ql()),p=t.memoizedState,v=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Zr(i,wn,u)):(u=v.cache,Zr(i,wn,u),u!==p.cache&&Ff(i,[wn],s,!0))),qn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function sr(t){t.flags|=4}function zh(t,i,s,u,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Hv())t.flags|=8192;else throw qs=Nu,Yf}else t.flags&=-16777217}function gv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zy(i))if(Hv())t.flags|=8192;else throw qs=Nu,Yf}function Uu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ye():536870912,t.lanes|=i,qo|=i)}function Ql(t,i){if(!bt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function en(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function d1(t,i,s){var u=i.pendingProps;switch(pn(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return en(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),nr(wn),we(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ua(i)?sr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$l())),en(i),null;case 26:var p=i.type,v=i.memoizedState;return t===null?(sr(i),v!==null?(en(i),gv(i,v)):(en(i),zh(i,p,null,u,s))):v?v!==t.memoizedState?(sr(i),en(i),gv(i,v)):(en(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&sr(i),en(i),zh(i,p,t,u,s)),null;case 27:if(He(i),s=Me.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&sr(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return en(i),null}t=W.current,ua(i)?Dl(i):(t=Ny(p,u,s),i.stateNode=t,sr(i))}return en(i),null;case 5:if(He(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&sr(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return en(i),null}if(v=W.current,ua(i))Dl(i);else{var S=td(Me.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?S.createElement(p,{is:u.is}):S.createElement(p)}}v[ln]=i,v[hn]=u;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=v;e:switch(Fn(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&sr(i)}}return en(i),zh(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&sr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(o(166));if(t=Me.current,ua(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,p=zt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[ln]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||fy(t.nodeValue,s)),t||Ra(i,!0)}else t=td(t).createTextNode(u),t[ln]=i,i.stateNode=t}return en(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=ua(i),s!==null){if(t===null){if(!u)throw Error(o(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ln]=i}else tr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),t=!1}else s=$l(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(zi(i),i):(zi(i),null);if((i.flags&128)!==0)throw Error(o(558))}return en(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=ua(i),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[ln]=i}else tr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),p=!1}else p=$l(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(zi(i),i):(zi(i),null)}return zi(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Uu(i,i.updateQueue),en(i),null);case 4:return we(),t===null&&Wh(i.stateNode.containerInfo),en(i),null;case 10:return nr(i.type),en(i),null;case 19:if(ae(yn),u=i.memoizedState,u===null)return en(i),null;if(p=(i.flags&128)!==0,v=u.rendering,v===null)if(p)Ql(u,!1);else{if(vn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=Eu(t),v!==null){for(i.flags|=128,Ql(u,!1),t=v.updateQueue,i.updateQueue=t,Uu(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ll(s,t),s=s.sibling;return Q(yn,yn.current&1|2),bt&&Je(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&V()>Vu&&(i.flags|=128,p=!0,Ql(u,!1),i.lanes=4194304)}else{if(!p)if(t=Eu(v),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Uu(i,t),Ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!bt)return en(i),null}else 2*V()-u.renderingStartTime>Vu&&s!==536870912&&(i.flags|=128,p=!0,Ql(u,!1),i.lanes=4194304);u.isBackwards?(v.sibling=i.child,i.child=v):(t=u.last,t!==null?t.sibling=v:i.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=V(),t.sibling=null,s=yn.current,Q(yn,p?s&1|2:s&1),bt&&Je(i,u.treeForkCount),t):(en(i),null);case 22:case 23:return zi(i),eh(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),s=i.updateQueue,s!==null&&Uu(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&ae(Zs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),nr(wn),en(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function f1(t,i){switch(pn(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return nr(wn),we(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return He(i),null;case 31:if(i.memoizedState!==null){if(zi(i),i.alternate===null)throw Error(o(340));tr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));tr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(yn),null;case 4:return we(),null;case 10:return nr(i.type),null;case 22:case 23:return zi(i),eh(),t!==null&&ae(Zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return nr(wn),null;case 25:return null;default:return null}}function vv(t,i){switch(pn(i),i.tag){case 3:nr(wn),we();break;case 26:case 27:case 5:He(i);break;case 4:we();break;case 31:i.memoizedState!==null&&zi(i);break;case 13:zi(i);break;case 19:ae(yn);break;case 10:nr(i.type);break;case 22:case 23:zi(i),eh(),t!==null&&ae(Zs);break;case 24:nr(wn)}}function Kl(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var p=u.next;s=p;do{if((s.tag&t)===t){u=void 0;var v=s.create,S=s.inst;u=v(),S.destroy=u}s=s.next}while(s!==p)}}catch(M){Zt(i,i.return,M)}}function Gr(t,i,s){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var S=u.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,p=i;var X=s,be=M;try{be()}catch(Ce){Zt(p,X,Ce)}}}u=u.next}while(u!==v)}}catch(Ce){Zt(i,i.return,Ce)}}function yv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{lg(i,s)}catch(u){Zt(t,t.return,u)}}}function _v(t,i,s){s.props=Is(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Zt(t,i,u)}}function Jl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(p){Zt(t,i,p)}}function $a(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(p){Zt(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){Zt(t,i,p)}else s.current=null}function xv(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(p){Zt(t,t.return,p)}}function Mh(t,i,s){try{var u=t.stateNode;O1(u,t.type,s,i),u[hn]=i}catch(p){Zt(t,t.return,p)}}function bv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Lh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=fi));else if(u!==4&&(u===27&&es(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Oh(t,i,s),t=t.sibling;t!==null;)Oh(t,i,s),t=t.sibling}function Zu(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&es(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Zu(t,i,s),t=t.sibling;t!==null;)Zu(t,i,s),t=t.sibling}function wv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Fn(i,u,s),i[ln]=t,i[hn]=s}catch(v){Zt(t,t.return,v)}}var or=!1,jn=!1,Rh=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,$n=null;function h1(t,i){if(t=t.containerInfo,nm=ld,t=Cs(t),Ta(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var S=0,M=-1,X=-1,be=0,Ce=0,Re=t,je=null;t:for(;;){for(var ke;Re!==s||p!==0&&Re.nodeType!==3||(M=S+p),Re!==v||u!==0&&Re.nodeType!==3||(X=S+u),Re.nodeType===3&&(S+=Re.nodeValue.length),(ke=Re.firstChild)!==null;)je=Re,Re=ke;for(;;){if(Re===t)break t;if(je===s&&++be===p&&(M=S),je===v&&++Ce===u&&(X=S),(ke=Re.nextSibling)!==null)break;Re=je,je=Re.parentNode}Re=ke}s=M===-1||X===-1?null:{start:M,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(im={focusedElem:t,selectionRange:s},ld=!1,$n=i;$n!==null;)if(i=$n,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$n=t;else for(;$n!==null;){switch(i=$n,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)p=t[s],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,s=i,p=v.memoizedProps,v=v.memoizedState,u=s.stateNode;try{var Ye=Is(s.type,p);t=u.getSnapshotBeforeUpdate(Ye,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(nt){Zt(s,s.return,nt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)sm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,$n=t;break}$n=i.return}}function Sv(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:cr(t,s),u&4&&Kl(5,s);break;case 1:if(cr(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(S){Zt(s,s.return,S)}else{var p=Is(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Zt(s,s.return,S)}}u&64&&yv(s),u&512&&Jl(s,s.return);break;case 3:if(cr(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{lg(t,i)}catch(S){Zt(s,s.return,S)}}break;case 27:i===null&&u&4&&wv(s);case 26:case 5:cr(t,s),i===null&&u&4&&xv(s),u&512&&Jl(s,s.return);break;case 12:cr(t,s);break;case 31:cr(t,s),u&4&&Ev(t,s);break;case 13:cr(t,s),u&4&&kv(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=w1.bind(null,s),H1(t,s))));break;case 22:if(u=s.memoizedState!==null||or,!u){i=i!==null&&i.memoizedState!==null||jn,p=or;var v=jn;or=u,(jn=i)&&!v?ur(t,s,(s.subtreeFlags&8772)!==0):cr(t,s),or=p,jn=v}break;case 30:break;default:cr(t,s)}}function jv(t){var i=t.alternate;i!==null&&(t.alternate=null,jv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&na(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rn=null,vi=!1;function lr(t,i,s){for(s=s.child;s!==null;)Av(t,i,s),s=s.sibling}function Av(t,i,s){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(tn,s)}catch{}switch(s.tag){case 26:jn||$a(s,i),lr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:jn||$a(s,i);var u=rn,p=vi;es(s.type)&&(rn=s.stateNode,vi=!1),lr(t,i,s),oc(s.stateNode),rn=u,vi=p;break;case 5:jn||$a(s,i);case 6:if(u=rn,p=vi,rn=null,lr(t,i,s),rn=u,vi=p,rn!==null)if(vi)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(s.stateNode)}catch(v){Zt(s,i,v)}else try{rn.removeChild(s.stateNode)}catch(v){Zt(s,i,v)}break;case 18:rn!==null&&(vi?(t=rn,yy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ko(t)):yy(rn,s.stateNode));break;case 4:u=rn,p=vi,rn=s.stateNode.containerInfo,vi=!0,lr(t,i,s),rn=u,vi=p;break;case 0:case 11:case 14:case 15:Gr(2,s,i),jn||Gr(4,s,i),lr(t,i,s);break;case 1:jn||($a(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&_v(s,i,u)),lr(t,i,s);break;case 21:lr(t,i,s);break;case 22:jn=(u=jn)||s.memoizedState!==null,lr(t,i,s),jn=u;break;default:lr(t,i,s)}}function Ev(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ko(t)}catch(s){Zt(i,i.return,s)}}}function kv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ko(t)}catch(s){Zt(i,i.return,s)}}function m1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Nv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Nv),i;default:throw Error(o(435,t.tag))}}function Hu(t,i){var s=m1(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var p=N1.bind(null,t,u);u.then(p,p)}})}function yi(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var p=s[u],v=t,S=i,M=S;e:for(;M!==null;){switch(M.tag){case 27:if(es(M.type)){rn=M.stateNode,vi=!1;break e}break;case 5:rn=M.stateNode,vi=!1;break e;case 3:case 4:rn=M.stateNode.containerInfo,vi=!0;break e}M=M.return}if(rn===null)throw Error(o(160));Av(v,S,p),rn=null,vi=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Tv(i,t),i=i.sibling}var fa=null;function Tv(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yi(i,t),_i(t),u&4&&(Gr(3,t,t.return),Kl(3,t),Gr(5,t,t.return));break;case 1:yi(i,t),_i(t),u&512&&(jn||s===null||$a(s,s.return)),u&64&&or&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var p=fa;if(yi(i,t),_i(t),u&512&&(jn||s===null||$a(s,s.return)),u&4){var v=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Na]||v[ln]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Fn(v,u,s),v[ln]=t,Jt(v),u=v;break e;case"link":var S=Ty("link","href",p).get(u+(s.href||""));if(S){for(var M=0;M<S.length;M++)if(v=S[M],v.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&v.getAttribute("rel")===(s.rel==null?null:s.rel)&&v.getAttribute("title")===(s.title==null?null:s.title)&&v.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(M,1);break t}}v=p.createElement(u),Fn(v,u,s),p.head.appendChild(v);break;case"meta":if(S=Ty("meta","content",p).get(u+(s.content||""))){for(M=0;M<S.length;M++)if(v=S[M],v.getAttribute("content")===(s.content==null?null:""+s.content)&&v.getAttribute("name")===(s.name==null?null:s.name)&&v.getAttribute("property")===(s.property==null?null:s.property)&&v.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&v.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(M,1);break t}}v=p.createElement(u),Fn(v,u,s),p.head.appendChild(v);break;default:throw Error(o(468,u))}v[ln]=t,Jt(v),u=v}t.stateNode=u}else Cy(p,t.type,t.stateNode);else t.stateNode=ky(p,u,t.memoizedProps);else v!==u?(v===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):v.count--,u===null?Cy(p,t.type,t.stateNode):ky(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,s.memoizedProps)}break;case 27:yi(i,t),_i(t),u&512&&(jn||s===null||$a(s,s.return)),s!==null&&u&4&&Mh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yi(i,t),_i(t),u&512&&(jn||s===null||$a(s,s.return)),t.flags&32){p=t.stateNode;try{Ui(p,"")}catch(Ye){Zt(t,t.return,Ye)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,Mh(t,p,s!==null?s.memoizedProps:p)),u&1024&&(Rh=!0);break;case 6:if(yi(i,t),_i(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(Ye){Zt(t,t.return,Ye)}}break;case 3:if(ad=null,p=fa,fa=nd(i.containerInfo),yi(i,t),fa=p,_i(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Ko(i.containerInfo)}catch(Ye){Zt(t,t.return,Ye)}Rh&&(Rh=!1,Cv(t));break;case 4:u=fa,fa=nd(t.stateNode.containerInfo),yi(i,t),_i(t),fa=u;break;case 12:yi(i,t),_i(t);break;case 31:yi(i,t),_i(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Hu(t,u)));break;case 13:yi(i,t),_i(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fu=V()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Hu(t,u)));break;case 22:p=t.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,be=or,Ce=jn;if(or=be||p,jn=Ce||X,yi(i,t),jn=Ce,or=be,_i(t),u&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(s===null||X||or||jn||Gs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){X=s=i;try{if(v=X.stateNode,p)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=X.stateNode;var Re=X.memoizedProps.style,je=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;M.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ye){Zt(X,X.return,Ye)}}}else if(i.tag===6){if(s===null){X=i;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(Ye){Zt(X,X.return,Ye)}}}else if(i.tag===18){if(s===null){X=i;try{var ke=X.stateNode;p?_y(ke,!0):_y(X.stateNode,!1)}catch(Ye){Zt(X,X.return,Ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Hu(t,s))));break;case 19:yi(i,t),_i(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Hu(t,u)));break;case 30:break;case 21:break;default:yi(i,t),_i(t)}}function _i(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(bv(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var p=s.stateNode,v=Lh(t);Zu(t,v,p);break;case 5:var S=s.stateNode;s.flags&32&&(Ui(S,""),s.flags&=-33);var M=Lh(t);Zu(t,M,S);break;case 3:case 4:var X=s.stateNode.containerInfo,be=Lh(t);Oh(t,be,X);break;default:throw Error(o(161))}}catch(Ce){Zt(t,t.return,Ce)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Cv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function cr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(t,i.alternate,i),i=i.sibling}function Gs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),Gs(i);break;case 1:$a(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&_v(i,i.return,s),Gs(i);break;case 27:oc(i.stateNode);case 26:case 5:$a(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}t=t.sibling}}function ur(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=t,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:ur(p,v,s),Kl(4,v);break;case 1:if(ur(p,v,s),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(be){Zt(u,u.return,be)}if(u=v,p=u.updateQueue,p!==null){var M=u.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)og(X[p],M)}catch(be){Zt(u,u.return,be)}}s&&S&64&&yv(v),Jl(v,v.return);break;case 27:wv(v);case 26:case 5:ur(p,v,s),s&&u===null&&S&4&&xv(v),Jl(v,v.return);break;case 12:ur(p,v,s);break;case 31:ur(p,v,s),s&&S&4&&Ev(p,v);break;case 13:ur(p,v,s),s&&S&4&&kv(p,v);break;case 22:v.memoizedState===null&&ur(p,v,s),Jl(v,v.return);break;case 30:break;default:ur(p,v,s)}i=i.sibling}}function Dh(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Pl(s))}function $h(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Pl(t))}function ha(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zv(t,i,s,u),i=i.sibling}function zv(t,i,s,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ha(t,i,s,u),p&2048&&Kl(9,i);break;case 1:ha(t,i,s,u);break;case 3:ha(t,i,s,u),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Pl(t)));break;case 12:if(p&2048){ha(t,i,s,u),t=i.stateNode;try{var v=i.memoizedProps,S=v.id,M=v.onPostCommit;typeof M=="function"&&M(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){Zt(i,i.return,X)}}else ha(t,i,s,u);break;case 31:ha(t,i,s,u);break;case 13:ha(t,i,s,u);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?ha(t,i,s,u):Wl(t,i):v._visibility&2?ha(t,i,s,u):(v._visibility|=2,Uo(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Dh(S,i);break;case 24:ha(t,i,s,u),p&2048&&$h(i.alternate,i);break;default:ha(t,i,s,u)}}function Uo(t,i,s,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,S=i,M=s,X=u,be=S.flags;switch(S.tag){case 0:case 11:case 15:Uo(v,S,M,X,p),Kl(8,S);break;case 23:break;case 22:var Ce=S.stateNode;S.memoizedState!==null?Ce._visibility&2?Uo(v,S,M,X,p):Wl(v,S):(Ce._visibility|=2,Uo(v,S,M,X,p)),p&&be&2048&&Dh(S.alternate,S);break;case 24:Uo(v,S,M,X,p),p&&be&2048&&$h(S.alternate,S);break;default:Uo(v,S,M,X,p)}i=i.sibling}}function Wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,p=u.flags;switch(u.tag){case 22:Wl(s,u),p&2048&&Dh(u.alternate,u);break;case 24:Wl(s,u),p&2048&&$h(u.alternate,u);break;default:Wl(s,u)}i=i.sibling}}var ec=8192;function Zo(t,i,s){if(t.subtreeFlags&ec)for(t=t.child;t!==null;)Mv(t,i,s),t=t.sibling}function Mv(t,i,s){switch(t.tag){case 26:Zo(t,i,s),t.flags&ec&&t.memoizedState!==null&&ew(s,fa,t.memoizedState,t.memoizedProps);break;case 5:Zo(t,i,s);break;case 3:case 4:var u=fa;fa=nd(t.stateNode.containerInfo),Zo(t,i,s),fa=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=ec,ec=16777216,Zo(t,i,s),ec=u):Zo(t,i,s));break;default:Zo(t,i,s)}}function Lv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];$n=u,Rv(u,t)}Lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ov(t),t=t.sibling}function Ov(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,qu(t)):tc(t);break;default:tc(t)}}function qu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];$n=u,Rv(u,t)}Lv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),qu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,qu(i));break;default:qu(i)}t=t.sibling}}function Rv(t,i){for(;$n!==null;){var s=$n;switch(s.tag){case 0:case 11:case 15:Gr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,$n=u;else e:for(s=t;$n!==null;){u=$n;var p=u.sibling,v=u.return;if(jv(u),u===s){$n=null;break e}if(p!==null){p.return=v,$n=p;break e}$n=v}}}var p1={getCacheForType:function(t){var i=Hn(wn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Hn(wn).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Gt=null,wt=null,Et=0,Ut=0,Mi=null,Yr=!1,Ho=!1,Ph=!1,dr=0,vn=0,Xr=0,Ys=0,Bh=0,Li=0,qo=0,nc=null,xi=null,Uh=!1,Fu=0,Dv=0,Vu=1/0,Iu=null,Qr=null,Ln=0,Kr=null,Fo=null,fr=0,Zh=0,Hh=null,$v=null,ic=0,qh=null;function Oi(){return(Dt&2)!==0&&Et!==0?Et&-Et:D.T!==null?Xh():ms()}function Pv(){if(Li===0)if((Et&536870912)===0||bt){var t=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),Li=t}else Li=536870912;return t=Ci.current,t!==null&&(t.flags|=32),Li}function bi(t,i,s){(t===Gt&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)&&(Vo(t,0),Jr(t,Et,Li,!1)),jt(t,s),((Dt&2)===0||t!==Gt)&&(t===Gt&&((Dt&2)===0&&(Ys|=s),vn===4&&Jr(t,Et,Li,!1)),Pa(t))}function Bv(t,i,s){if((Dt&6)!==0)throw Error(o(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||$t(t,i),p=u?_1(t,i):Vh(t,i,!0),v=u;do{if(p===0){Ho&&!u&&Jr(t,i,0,!1);break}else{if(s=t.current.alternate,v&&!v1(s)){p=Vh(t,i,!1),v=!1;continue}if(p===2){if(v=i,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var M=t;p=nc;var X=M.current.memoizedState.isDehydrated;if(X&&(Vo(M,S).flags|=256),S=Vh(M,S,!1),S!==2){if(Ph&&!X){M.errorRecoveryDisabledLanes|=v,Ys|=v,p=4;break e}v=xi,xi=p,v!==null&&(xi===null?xi=v:xi.push.apply(xi,v))}p=S}if(v=!1,p!==2)continue}}if(p===1){Vo(t,0),Jr(t,i,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Jr(u,i,Li,!Yr);break e;case 2:xi=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(p=Fu+300-V(),10<p)){if(Jr(u,i,Li,!Yr),dt(u,0,!0)!==0)break e;fr=i,u.timeoutHandle=gy(Uv.bind(null,u,s,xi,Iu,Uh,i,Li,Ys,qo,Yr,v,"Throttled",-0,0),p);break e}Uv(u,s,xi,Iu,Uh,i,Li,Ys,qo,Yr,v,null,-0,0)}}break}while(!0);Pa(t)}function Uv(t,i,s,u,p,v,S,M,X,be,Ce,Re,je,ke){if(t.timeoutHandle=-1,Re=i.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Mv(i,v,Re);var Ye=(v&62914560)===v?Fu-V():(v&4194048)===v?Dv-V():0;if(Ye=tw(Re,Ye),Ye!==null){fr=v,t.cancelPendingCommit=Ye(Yv.bind(null,t,i,v,s,u,p,S,M,X,Ce,Re,null,je,ke)),Jr(t,v,S,!be);return}}Yv(t,i,v,s,u,p,S,M,X)}function v1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var p=s[u],v=p.getSnapshot;p=p.value;try{if(!Rn(v(),p))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(t,i,s,u){i&=~Bh,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var p=i;0<p;){var v=31-$e(p),S=1<<v;u[v]=-1,p&=~S}s!==0&&Jn(t,s,i)}function Gu(){return(Dt&6)===0?(ac(0),!1):!0}function Fh(){if(wt!==null){if(Ut===0)var t=wt.return;else t=wt,da=Da=null,sh(t),Ro=null,Ul=0,t=wt;for(;t!==null;)vv(t.alternate,t),t=t.return;wt=null}}function Vo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,$1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),fr=0,Fh(),Gt=t,wt=s=Gi(t.current,null),Et=i,Ut=0,Mi=null,Yr=!1,Ho=$t(t,i),Ph=!1,qo=Li=Bh=Ys=Xr=vn=0,xi=nc=null,Uh=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var p=31-$e(u),v=1<<p;i|=t[p],u&=~v}return dr=i,Rs(),s}function Zv(t,i){ft=null,D.H=Yl,i===Oo||i===wu?(i=ig(),Ut=3):i===Yf?(i=ig(),Ut=4):Ut=i===wh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mi=i,wt===null&&(vn=1,Du(t,c(i,t.current)))}function Hv(){var t=Ci.current;return t===null?!0:(Et&4194048)===Et?Yi===null:(Et&62914560)===Et||(Et&536870912)!==0?t===Yi:!1}function qv(){var t=D.H;return D.H=Yl,t===null?Yl:t}function Fv(){var t=D.A;return D.A=p1,t}function Yu(){vn=4,Yr||(Et&4194048)!==Et&&Ci.current!==null||(Ho=!0),(Xr&134217727)===0&&(Ys&134217727)===0||Gt===null||Jr(Gt,Et,Li,!1)}function Vh(t,i,s){var u=Dt;Dt|=2;var p=qv(),v=Fv();(Gt!==t||Et!==i)&&(Iu=null,Vo(t,i)),i=!1;var S=vn;e:do try{if(Ut!==0&&wt!==null){var M=wt,X=Mi;switch(Ut){case 8:Fh(),S=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(i=!0);var be=Ut;if(Ut=0,Mi=null,Io(t,M,X,be),s&&Ho){S=0;break e}break;default:be=Ut,Ut=0,Mi=null,Io(t,M,X,be)}}y1(),S=vn;break}catch(Ce){Zv(t,Ce)}while(!0);return i&&t.shellSuspendCounter++,da=Da=null,Dt=u,D.H=p,D.A=v,wt===null&&(Gt=null,Et=0,Rs()),S}function y1(){for(;wt!==null;)Vv(wt)}function _1(t,i){var s=Dt;Dt|=2;var u=qv(),p=Fv();Gt!==t||Et!==i?(Iu=null,Vu=V()+500,Vo(t,i)):Ho=$t(t,i);e:do try{if(Ut!==0&&wt!==null){i=wt;var v=Mi;t:switch(Ut){case 1:Ut=0,Mi=null,Io(t,i,v,1);break;case 2:case 9:if(tg(v)){Ut=0,Mi=null,Iv(i);break}i=function(){Ut!==2&&Ut!==9||Gt!==t||(Ut=7),Pa(t)},v.then(i,i);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:tg(v)?(Ut=0,Mi=null,Iv(i)):(Ut=0,Mi=null,Io(t,i,v,7));break;case 5:var S=null;switch(wt.tag){case 26:S=wt.memoizedState;case 5:case 27:var M=wt;if(S?zy(S):M.stateNode.complete){Ut=0,Mi=null;var X=M.sibling;if(X!==null)wt=X;else{var be=M.return;be!==null?(wt=be,Xu(be)):wt=null}break t}}Ut=0,Mi=null,Io(t,i,v,5);break;case 6:Ut=0,Mi=null,Io(t,i,v,6);break;case 8:Fh(),vn=6;break e;default:throw Error(o(462))}}x1();break}catch(Ce){Zv(t,Ce)}while(!0);return da=Da=null,D.H=u,D.A=p,Dt=s,wt!==null?0:(Gt=null,Et=0,Rs(),vn)}function x1(){for(;wt!==null&&!ee();)Vv(wt)}function Vv(t){var i=pv(t.alternate,t,dr);t.memoizedProps=t.pendingProps,i===null?Xu(t):wt=i}function Iv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=cv(s,i,i.pendingProps,i.type,void 0,Et);break;case 11:i=cv(s,i,i.pendingProps,i.type.render,i.ref,Et);break;case 5:sh(i);default:vv(s,i),i=wt=Ll(i,dr),i=pv(s,i,dr)}t.memoizedProps=t.pendingProps,i===null?Xu(t):wt=i}function Io(t,i,s,u){da=Da=null,sh(i),Ro=null,Ul=0;var p=i.return;try{if(l1(t,p,i,s,Et)){vn=1,Du(t,c(s,t.current)),wt=null;return}}catch(v){if(p!==null)throw wt=p,v;vn=1,Du(t,c(s,t.current)),wt=null;return}i.flags&32768?(bt||u===1?t=!0:Ho||(Et&536870912)!==0?t=!1:(Yr=t=!0,(u===2||u===9||u===3||u===6)&&(u=Ci.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gv(i,t)):Xu(i)}function Xu(t){var i=t;do{if((i.flags&32768)!==0){Gv(i,Yr);return}t=i.return;var s=d1(i.alternate,i,dr);if(s!==null){wt=s;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=t}while(i!==null);vn===0&&(vn=5)}function Gv(t,i){do{var s=f1(t.alternate,t);if(s!==null){s.flags&=32767,wt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){wt=t;return}wt=t=s}while(t!==null);vn=6,wt=null}function Yv(t,i,s,u,p,v,S,M,X){t.cancelPendingCommit=null;do Qu();while(Ln!==0);if((Dt&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(v=i.lanes|i.childLanes,v|=Eo,Cn(t,s,v,S,M,X),t===Gt&&(wt=Gt=null,Et=0),Fo=i,Kr=t,fr=s,Zh=v,Hh=p,$v=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,S1(fe,function(){return Wv(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,p=oe.p,oe.p=2,S=Dt,Dt|=4;try{h1(t,i,s)}finally{Dt=S,oe.p=p,D.T=u}}Ln=1,Xv(),Qv(),Kv()}}function Xv(){if(Ln===1){Ln=0;var t=Kr,i=Fo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=D.T,D.T=null;var u=oe.p;oe.p=2;var p=Dt;Dt|=4;try{Tv(i,t);var v=im,S=Cs(t.containerInfo),M=v.focusedElem,X=v.selectionRange;if(S!==M&&M&&M.ownerDocument&&No(M.ownerDocument.documentElement,M)){if(X!==null&&Ta(M)){var be=X.start,Ce=X.end;if(Ce===void 0&&(Ce=be),"selectionStart"in M)M.selectionStart=be,M.selectionEnd=Math.min(Ce,M.value.length);else{var Re=M.ownerDocument||document,je=Re&&Re.defaultView||window;if(je.getSelection){var ke=je.getSelection(),Ye=M.textContent.length,nt=Math.min(X.start,Ye),Vt=X.end===void 0?nt:Math.min(X.end,Ye);!ke.extend&&nt>Vt&&(S=Vt,Vt=nt,nt=S);var ue=Ts(M,nt),ie=Ts(M,Vt);if(ue&&ie&&(ke.rangeCount!==1||ke.anchorNode!==ue.node||ke.anchorOffset!==ue.offset||ke.focusNode!==ie.node||ke.focusOffset!==ie.offset)){var xe=Re.createRange();xe.setStart(ue.node,ue.offset),ke.removeAllRanges(),nt>Vt?(ke.addRange(xe),ke.extend(ie.node,ie.offset)):(xe.setEnd(ie.node,ie.offset),ke.addRange(xe))}}}}for(Re=[],ke=M;ke=ke.parentNode;)ke.nodeType===1&&Re.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Re.length;M++){var ze=Re[M];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}ld=!!nm,im=nm=null}finally{Dt=p,oe.p=u,D.T=s}}t.current=i,Ln=2}}function Qv(){if(Ln===2){Ln=0;var t=Kr,i=Fo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=D.T,D.T=null;var u=oe.p;oe.p=2;var p=Dt;Dt|=4;try{Sv(t,i.alternate,i)}finally{Dt=p,oe.p=u,D.T=s}}Ln=3}}function Kv(){if(Ln===4||Ln===3){Ln=0,pe();var t=Kr,i=Fo,s=fr,u=$v;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,Fo=Kr=null,Jv(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Qr=null),Qe(s),i=i.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(tn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=D.T,p=oe.p,oe.p=2,D.T=null;try{for(var v=t.onRecoverableError,S=0;S<u.length;S++){var M=u[S];v(M.value,{componentStack:M.stack})}}finally{D.T=i,oe.p=p}}(fr&3)!==0&&Qu(),Pa(t),p=t.pendingLanes,(s&261930)!==0&&(p&42)!==0?t===qh?ic++:(ic=0,qh=t):ic=0,ac(0)}}function Jv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Pl(i)))}function Qu(){return Xv(),Qv(),Kv(),Wv()}function Wv(){if(Ln!==5)return!1;var t=Kr,i=Zh;Zh=0;var s=Qe(fr),u=D.T,p=oe.p;try{oe.p=32>s?32:s,D.T=null,s=Hh,Hh=null;var v=Kr,S=fr;if(Ln=0,Fo=Kr=null,fr=0,(Dt&6)!==0)throw Error(o(331));var M=Dt;if(Dt|=4,Ov(v.current),zv(v,v.current,S,s),Dt=M,ac(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(tn,v)}catch{}return!0}finally{oe.p=p,D.T=u,Jv(t,i)}}function ey(t,i,s){i=c(s,i),i=bh(t.stateNode,i,2),t=Fr(t,i,2),t!==null&&(jt(t,2),Pa(t))}function Zt(t,i,s){if(t.tag===3)ey(t,t,s);else for(;i!==null;){if(i.tag===3){ey(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qr===null||!Qr.has(u))){t=c(s,t),s=tv(2),u=Fr(i,s,2),u!==null&&(nv(s,u,i,t),jt(u,2),Pa(u));break}}i=i.return}}function Ih(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new g1;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(s)||(Ph=!0,p.add(s),t=b1.bind(null,t,i,s),i.then(t,t))}function b1(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Gt===t&&(Et&s)===s&&(vn===4||vn===3&&(Et&62914560)===Et&&300>V()-Fu?(Dt&2)===0&&Vo(t,0):Bh|=s,qo===Et&&(qo=0)),Pa(t)}function ty(t,i){i===0&&(i=ye()),t=Ii(t,i),t!==null&&(jt(t,i),Pa(t))}function w1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),ty(t,s)}function N1(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(i),ty(t,s)}function S1(t,i){return O(t,i)}var Ku=null,Go=null,Gh=!1,Ju=!1,Yh=!1,Wr=0;function Pa(t){t!==Go&&t.next===null&&(Go===null?Ku=Go=t:Go=Go.next=t),Ju=!0,Gh||(Gh=!0,A1())}function ac(t,i){if(!Yh&&Ju){Yh=!0;do for(var s=!1,u=Ku;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var S=u.suspendedLanes,M=u.pingedLanes;v=(1<<31-$e(42|t)+1)-1,v&=p&~(S&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(s=!0,ry(u,v))}else v=Et,v=dt(u,u===Gt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||$t(u,v)||(s=!0,ry(u,v));u=u.next}while(s);Yh=!1}}function j1(){ny()}function ny(){Ju=Gh=!1;var t=0;Wr!==0&&D1()&&(t=Wr);for(var i=V(),s=null,u=Ku;u!==null;){var p=u.next,v=iy(u,i);v===0?(u.next=null,s===null?Ku=p:s.next=p,p===null&&(Go=s)):(s=u,(t!==0||(v&3)!==0)&&(Ju=!0)),u=p}Ln!==0&&Ln!==5||ac(t),Wr!==0&&(Wr=0)}function iy(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-$e(v),M=1<<S,X=p[S];X===-1?((M&s)===0||(M&u)!==0)&&(p[S]=nn(M,i)):X<=i&&(t.expiredLanes|=M),v&=~M}if(i=Gt,s=Et,s=dt(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&K(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||$t(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&K(u),Qe(s)){case 2:case 8:s=q;break;case 32:s=fe;break;case 268435456:s=ut;break;default:s=fe}return u=ay.bind(null,t),s=O(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&K(u),t.callbackPriority=2,t.callbackNode=null,2}function ay(t,i){if(Ln!==0&&Ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Qu()&&t.callbackNode!==s)return null;var u=Et;return u=dt(t,t===Gt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Bv(t,u,i),iy(t,V()),t.callbackNode!=null&&t.callbackNode===s?ay.bind(null,t):null)}function ry(t,i){if(Qu())return null;Bv(t,i,!0)}function A1(){P1(function(){(Dt&6)!==0?O(_e,j1):ny()})}function Xh(){if(Wr===0){var t=Mo;t===0&&(t=mt,mt<<=1,(mt&261888)===0&&(mt=256)),Wr=t}return Wr}function sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kr(""+t)}function oy(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function E1(t,i,s,u,p){if(i==="submit"&&s&&s.stateNode===p){var v=sy((p[hn]||null).action),S=u.submitter;S&&(i=(i=S[hn]||null)?sy(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var M=new go("action","action",null,u,p);t.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wr!==0){var X=S?oy(p,S):new FormData(p);ph(s,{pending:!0,data:X,method:p.method,action:v},null,X)}}else typeof v=="function"&&(M.preventDefault(),X=S?oy(p,S):new FormData(p),ph(s,{pending:!0,data:X,method:p.method,action:v},v,X))},currentTarget:p}]})}}for(var Qh=0;Qh<Ma.length;Qh++){var Kh=Ma[Qh],k1=Kh.toLowerCase(),T1=Kh[0].toUpperCase()+Kh.slice(1);mi(k1,"on"+T1)}mi(Ms,"onAnimationEnd"),mi(gu,"onAnimationIteration"),mi(Ls,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(Uf,"onTransitionRun"),mi(vu,"onTransitionStart"),mi(Zf,"onTransitionCancel"),mi(Br,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function ly(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],p=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var S=u.length-1;0<=S;S--){var M=u[S],X=M.instance,be=M.currentTarget;if(M=M.listener,X!==v&&p.isPropagationStopped())break e;v=M,p.currentTarget=be;try{v(p)}catch(Ce){Os(Ce)}p.currentTarget=null,v=X}else for(S=0;S<u.length;S++){if(M=u[S],X=M.instance,be=M.currentTarget,M=M.listener,X!==v&&p.isPropagationStopped())break e;v=M,p.currentTarget=be;try{v(p)}catch(Ce){Os(Ce)}p.currentTarget=null,v=X}}}}function Nt(t,i){var s=i[$i];s===void 0&&(s=i[$i]=new Set);var u=t+"__bubble";s.has(u)||(cy(i,t,2,!1),s.add(u))}function Jh(t,i,s){var u=0;i&&(u|=4),cy(s,t,u,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[Wu]){t[Wu]=!0,aa.forEach(function(s){s!=="selectionchange"&&(C1.has(s)||Jh(s,!1,t),Jh(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,Jh("selectionchange",!1,i))}}function cy(t,i,s,u){switch(Py(i)){case 2:var p=aw;break;case 8:p=rw;break;default:p=mm}s=p.bind(null,i,s,t),p=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(i,s,{capture:!0,passive:p}):t.addEventListener(i,s,!0):p!==void 0?t.addEventListener(i,s,{passive:p}):t.addEventListener(i,s,!1)}function em(t,i,s,u,p){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var M=u.stateNode.containerInfo;if(M===p)break;if(S===4)for(S=u.return;S!==null;){var X=S.tag;if((X===3||X===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;M!==null;){if(S=Pi(M),S===null)return;if(X=S.tag,X===5||X===6||X===26||X===27){u=v=S;continue e}M=M.parentNode}}u=u.return}wl(function(){var be=v,Ce=_s(s),Re=[];e:{var je=yu.get(t);if(je!==void 0){var ke=go,Ye=t;switch(t){case"keypress":if(bs(s)===0)break e;case"keydown":case"keyup":ke=au;break;case"focusin":Ye="focus",ke=jl;break;case"focusout":Ye="blur",ke=jl;break;case"beforeblur":case"afterblur":ke=jl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Of;break;case Ms:case gu:case Ls:ke=Al;break;case Br:ke=ou;break;case"scroll":case"scrollend":ke=At;break;case"wheel":ke=Ja;break;case"copy":case"cut":case"paste":ke=Hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=ru;break;case"toggle":case"beforetoggle":ke=Ss}var nt=(i&4)!==0,Vt=!nt&&(t==="scroll"||t==="scrollend"),ue=nt?je!==null?je+"Capture":null:je;nt=[];for(var ie=be,xe;ie!==null;){var ze=ie;if(xe=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||xe===null||ue===null||(ze=Qa(ie,ue),ze!=null&&nt.push(sc(ie,ze,xe))),Vt)break;ie=ie.return}0<nt.length&&(je=new ke(je,Ye,null,s,Ce),Re.push({event:je,listeners:nt}))}}if((i&7)===0){e:{if(je=t==="mouseover"||t==="pointerover",ke=t==="mouseout"||t==="pointerout",je&&s!==po&&(Ye=s.relatedTarget||s.fromElement)&&(Pi(Ye)||Ye[ta]))break e;if((ke||je)&&(je=Ce.window===Ce?Ce:(je=Ce.ownerDocument)?je.defaultView||je.parentWindow:window,ke?(Ye=s.relatedTarget||s.toElement,ke=be,Ye=Ye?Pi(Ye):null,Ye!==null&&(Vt=f(Ye),nt=Ye.tag,Ye!==Vt||nt!==5&&nt!==27&&nt!==6)&&(Ye=null)):(ke=null,Ye=be),ke!==Ye)){if(nt=Wc,ze="onMouseLeave",ue="onMouseEnter",ie="mouse",(t==="pointerout"||t==="pointerover")&&(nt=ru,ze="onPointerLeave",ue="onPointerEnter",ie="pointer"),Vt=ke==null?je:Bi(ke),xe=Ye==null?je:Bi(Ye),je=new nt(ze,ie+"leave",ke,s,Ce),je.target=Vt,je.relatedTarget=xe,ze=null,Pi(Ce)===be&&(nt=new nt(ue,ie+"enter",Ye,s,Ce),nt.target=xe,nt.relatedTarget=Vt,ze=nt),Vt=ze,ke&&Ye)t:{for(nt=z1,ue=ke,ie=Ye,xe=0,ze=ue;ze;ze=nt(ze))xe++;ze=0;for(var We=ie;We;We=nt(We))ze++;for(;0<xe-ze;)ue=nt(ue),xe--;for(;0<ze-xe;)ie=nt(ie),ze--;for(;xe--;){if(ue===ie||ie!==null&&ue===ie.alternate){nt=ue;break t}ue=nt(ue),ie=nt(ie)}nt=null}else nt=null;ke!==null&&uy(Re,je,ke,nt,!1),Ye!==null&&Vt!==null&&uy(Re,Vt,Ye,nt,!0)}}e:{if(je=be?Bi(be):window,ke=je.nodeName&&je.nodeName.toLowerCase(),ke==="select"||ke==="input"&&je.type==="file")var Lt=ks;else if(qi(je))if(du)Lt=Bf;else{Lt=Pf;var Ke=la}else ke=je.nodeName,!ke||ke.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?be&&ys(be.elementType)&&(Lt=ks):Lt=Rr;if(Lt&&(Lt=Lt(t,be))){uu(Re,Lt,s,Ce);break e}Ke&&Ke(t,je,be),t==="focusout"&&be&&je.type==="number"&&be.memoizedProps.value!=null&&ra(je,"number",je.value)}switch(Ke=be?Bi(be):window,t){case"focusin":(qi(Ke)||Ke.contentEditable==="true")&&(Ca=Ke,jo=be,zs=null);break;case"focusout":zs=jo=Ca=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":$r=!1,mu(Re,s,Ce);break;case"selectionchange":if(So)break;case"keydown":case"keyup":mu(Re,s,Ce)}var vt;if(yo)e:{switch(t){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Mr?cu(t,s)&&(kt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(_o&&s.locale!=="ko"&&(Mr||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Mr&&(vt=Ea()):(Zi=Ce,Ka="value"in Zi?Zi.value:Zi.textContent,Mr=!0)),Ke=ed(be,kt),0<Ke.length&&(kt=new El(kt,t,null,s,Ce),Re.push({event:kt,listeners:Ke}),vt?kt.data=vt:(vt=zl(s),vt!==null&&(kt.data=vt)))),(vt=Df?Ti(t,s):Lr(t,s))&&(kt=ed(be,"onBeforeInput"),0<kt.length&&(Ke=new El("onBeforeInput","beforeinput",null,s,Ce),Re.push({event:Ke,listeners:kt}),Ke.data=vt)),E1(Re,t,be,s,Ce)}ly(Re,i)})}function sc(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ed(t,i){for(var s=i+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Qa(t,s),p!=null&&u.unshift(sc(t,p,v)),p=Qa(t,i),p!=null&&u.push(sc(t,p,v))),t.tag===3)return u;t=t.return}return[]}function z1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uy(t,i,s,u,p){for(var v=i._reactName,S=[];s!==null&&s!==u;){var M=s,X=M.alternate,be=M.stateNode;if(M=M.tag,X!==null&&X===u)break;M!==5&&M!==26&&M!==27||be===null||(X=be,p?(be=Qa(s,v),be!=null&&S.unshift(sc(s,be,X))):p||(be=Qa(s,v),be!=null&&S.push(sc(s,be,X)))),s=s.return}S.length!==0&&t.push({event:i,listeners:S})}var M1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(M1,`
`).replace(L1,"")}function fy(t,i){return i=dy(i),dy(t)===i}function Ft(t,i,s,u,p,v){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ui(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ui(t,""+u);break;case"className":Ht(t,"class",u);break;case"tabIndex":Ht(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ht(t,s,u);break;case"style":ho(t,u,v);break;case"data":if(i!=="object"){Ht(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=kr(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(s==="formAction"?(i!=="input"&&Ft(t,i,"name",p.name,p,null),Ft(t,i,"formEncType",p.formEncType,p,null),Ft(t,i,"formMethod",p.formMethod,p,null),Ft(t,i,"formTarget",p.formTarget,p,null)):(Ft(t,i,"encType",p.encType,p,null),Ft(t,i,"method",p.method,p,null),Ft(t,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=kr(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=fi);break;case"onScroll":u!=null&&Nt("scroll",t);break;case"onScrollEnd":u!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=kr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),xt(t,"popover",u);break;case"xlinkActuate":di(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":di(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":di(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":di(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":di(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":di(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":di(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":di(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":di(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xt(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mo.get(s)||s,xt(t,s,u))}}function tm(t,i,s,u,p,v){switch(s){case"style":ho(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Ui(t,u):(typeof u=="number"||typeof u=="bigint")&&Ui(t,""+u);break;case"onScroll":u!=null&&Nt("scroll",t);break;case"onScrollEnd":u!=null&&Nt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),i=s.slice(2,p?s.length-7:void 0),v=t[hn]||null,v=v!=null?v[s]:null,typeof v=="function"&&t.removeEventListener(i,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,p);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):xt(t,s,u)}}}function Fn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var u=!1,p=!1,v;for(v in s)if(s.hasOwnProperty(v)){var S=s[v];if(S!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ft(t,i,v,S,s,null)}}p&&Ft(t,i,"srcSet",s.srcSet,s,null),u&&Ft(t,i,"src",s.src,s,null);return;case"input":Nt("invalid",t);var M=v=S=p=null,X=null,be=null;for(u in s)if(s.hasOwnProperty(u)){var Ce=s[u];if(Ce!=null)switch(u){case"name":p=Ce;break;case"type":S=Ce;break;case"checked":X=Ce;break;case"defaultChecked":be=Ce;break;case"value":v=Ce;break;case"defaultValue":M=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(o(137,i));break;default:Ft(t,i,u,Ce,s,null)}}vs(t,v,M,X,be,S,p,!1);return;case"select":Nt("invalid",t),u=S=v=null;for(p in s)if(s.hasOwnProperty(p)&&(M=s[p],M!=null))switch(p){case"value":v=M;break;case"defaultValue":S=M;break;case"multiple":u=M;default:Ft(t,i,p,M,s,null)}i=v,s=S,t.multiple=!!u,i!=null?It(t,!!u,i,!1):s!=null&&It(t,!!u,s,!0);return;case"textarea":Nt("invalid",t),v=p=u=null;for(S in s)if(s.hasOwnProperty(S)&&(M=s[S],M!=null))switch(S){case"value":u=M;break;case"defaultValue":p=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:Ft(t,i,S,M,s,null)}Ar(t,u,p,v);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(u=s[X],u!=null))switch(X){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ft(t,i,X,u,s,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(u=0;u<rc.length;u++)Nt(rc[u],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in s)if(s.hasOwnProperty(be)&&(u=s[be],u!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ft(t,i,be,u,s,null)}return;default:if(ys(i)){for(Ce in s)s.hasOwnProperty(Ce)&&(u=s[Ce],u!==void 0&&tm(t,i,Ce,u,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(u=s[M],u!=null&&Ft(t,i,M,u,s,null))}function O1(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,S=null,M=null,X=null,be=null,Ce=null;for(ke in s){var Re=s[ke];if(s.hasOwnProperty(ke)&&Re!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":X=Re;default:u.hasOwnProperty(ke)||Ft(t,i,ke,null,u,Re)}}for(var je in u){var ke=u[je];if(Re=s[je],u.hasOwnProperty(je)&&(ke!=null||Re!=null))switch(je){case"type":v=ke;break;case"name":p=ke;break;case"checked":be=ke;break;case"defaultChecked":Ce=ke;break;case"value":S=ke;break;case"defaultValue":M=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(o(137,i));break;default:ke!==Re&&Ft(t,i,je,ke,u,Re)}}_l(t,S,M,X,be,Ce,v,p);return;case"select":ke=S=M=je=null;for(v in s)if(X=s[v],s.hasOwnProperty(v)&&X!=null)switch(v){case"value":break;case"multiple":ke=X;default:u.hasOwnProperty(v)||Ft(t,i,v,null,u,X)}for(p in u)if(v=u[p],X=s[p],u.hasOwnProperty(p)&&(v!=null||X!=null))switch(p){case"value":je=v;break;case"defaultValue":M=v;break;case"multiple":S=v;default:v!==X&&Ft(t,i,p,v,u,X)}i=M,s=S,u=ke,je!=null?It(t,!!s,je,!1):!!u!=!!s&&(i!=null?It(t,!!s,i,!0):It(t,!!s,s?[]:"",!1));return;case"textarea":ke=je=null;for(M in s)if(p=s[M],s.hasOwnProperty(M)&&p!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ft(t,i,M,null,u,p)}for(S in u)if(p=u[S],v=s[S],u.hasOwnProperty(S)&&(p!=null||v!=null))switch(S){case"value":je=p;break;case"defaultValue":ke=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==v&&Ft(t,i,S,p,u,v)}Aa(t,je,ke);return;case"option":for(var Ye in s)if(je=s[Ye],s.hasOwnProperty(Ye)&&je!=null&&!u.hasOwnProperty(Ye))switch(Ye){case"selected":t.selected=!1;break;default:Ft(t,i,Ye,null,u,je)}for(X in u)if(je=u[X],ke=s[X],u.hasOwnProperty(X)&&je!==ke&&(je!=null||ke!=null))switch(X){case"selected":t.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Ft(t,i,X,je,u,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in s)je=s[nt],s.hasOwnProperty(nt)&&je!=null&&!u.hasOwnProperty(nt)&&Ft(t,i,nt,null,u,je);for(be in u)if(je=u[be],ke=s[be],u.hasOwnProperty(be)&&je!==ke&&(je!=null||ke!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(o(137,i));break;default:Ft(t,i,be,je,u,ke)}return;default:if(ys(i)){for(var Vt in s)je=s[Vt],s.hasOwnProperty(Vt)&&je!==void 0&&!u.hasOwnProperty(Vt)&&tm(t,i,Vt,void 0,u,je);for(Ce in u)je=u[Ce],ke=s[Ce],!u.hasOwnProperty(Ce)||je===ke||je===void 0&&ke===void 0||tm(t,i,Ce,je,u,ke);return}}for(var ue in s)je=s[ue],s.hasOwnProperty(ue)&&je!=null&&!u.hasOwnProperty(ue)&&Ft(t,i,ue,null,u,je);for(Re in u)je=u[Re],ke=s[Re],!u.hasOwnProperty(Re)||je===ke||je==null&&ke==null||Ft(t,i,Re,je,u,ke)}function hy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var p=s[u],v=p.transferSize,S=p.initiatorType,M=p.duration;if(v&&M&&hy(S)){for(S=0,M=p.responseEnd,u+=1;u<s.length;u++){var X=s[u],be=X.startTime;if(be>M)break;var Ce=X.transferSize,Re=X.initiatorType;Ce&&hy(Re)&&(X=X.responseEnd,S+=Ce*(X<M?1:(M-be)/(X-be)))}if(--u,i+=8*(v+S)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,im=null;function td(t){return t.nodeType===9?t:t.ownerDocument}function my(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function D1(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(t){return vy.resolve(null).then(t).catch(B1)}:gy;function B1(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function yy(t,i){var s=i,u=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(p),Ko(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")oc(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,oc(s);for(var v=s.firstChild;v;){var S=v.nextSibling,M=v.nodeName;v[Na]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=S}}else s==="body"&&oc(t.ownerDocument.body);s=p}while(s);Ko(i)}function _y(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sm(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function U1(t,i,s,u){for(;t.nodeType===1;){var p=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Na])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Xi(t.nextSibling),t===null)break}return null}function Z1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xi(t.nextSibling),t===null))return null;return t}function xy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xi(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function H1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Xi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cm=null;function by(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Xi(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function wy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Ny(t,i,s){switch(i=td(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function oc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);na(t)}var Qi=new Map,Sy=new Set;function nd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=oe.d;oe.d={f:q1,r:F1,D:V1,C:I1,L:G1,m:Y1,X:Q1,S:X1,M:K1};function q1(){var t=hr.f(),i=Gu();return t||i}function F1(t){var i=ia(t);i!==null&&i.tag===5&&i.type==="form"?Zg(i):hr.r(t)}var Yo=typeof document>"u"?null:document;function jy(t,i,s){var u=Yo;if(u&&typeof i=="string"&&i){var p=Wt(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Sy.has(p)||(Sy.add(p),t={rel:t,crossOrigin:s,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),Fn(i,"link",t),Jt(i),u.head.appendChild(i)))}}function V1(t){hr.D(t),jy("dns-prefetch",t,null)}function I1(t,i){hr.C(t,i),jy("preconnect",t,i)}function G1(t,i,s){hr.L(t,i,s);var u=Yo;if(u&&t&&i){var p='link[rel="preload"][as="'+Wt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Wt(s.imageSizes)+'"]')):p+='[href="'+Wt(t)+'"]';var v=p;switch(i){case"style":v=Xo(t);break;case"script":v=Qo(t)}Qi.has(v)||(t=N({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Qi.set(v,t),u.querySelector(p)!==null||i==="style"&&u.querySelector(lc(v))||i==="script"&&u.querySelector(cc(v))||(i=u.createElement("link"),Fn(i,"link",t),Jt(i),u.head.appendChild(i)))}}function Y1(t,i){hr.m(t,i);var s=Yo;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Wt(u)+'"][href="'+Wt(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Qo(t)}if(!Qi.has(v)&&(t=N({rel:"modulepreload",href:t},i),Qi.set(v,t),s.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cc(v)))return}u=s.createElement("link"),Fn(u,"link",t),Jt(u),s.head.appendChild(u)}}}function X1(t,i,s){hr.S(t,i,s);var u=Yo;if(u&&t){var p=Sa(u).hoistableStyles,v=Xo(t);i=i||"default";var S=p.get(v);if(!S){var M={loading:0,preload:null};if(S=u.querySelector(lc(v)))M.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Qi.get(v))&&um(t,s);var X=S=u.createElement("link");Jt(X),Fn(X,"link",t),X._p=new Promise(function(be,Ce){X.onload=be,X.onerror=Ce}),X.addEventListener("load",function(){M.loading|=1}),X.addEventListener("error",function(){M.loading|=2}),M.loading|=4,id(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:M},p.set(v,S)}}}function Q1(t,i){hr.X(t,i);var s=Yo;if(s&&t){var u=Sa(s).hoistableScripts,p=Qo(t),v=u.get(p);v||(v=s.querySelector(cc(p)),v||(t=N({src:t,async:!0},i),(i=Qi.get(p))&&dm(t,i),v=s.createElement("script"),Jt(v),Fn(v,"link",t),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function K1(t,i){hr.M(t,i);var s=Yo;if(s&&t){var u=Sa(s).hoistableScripts,p=Qo(t),v=u.get(p);v||(v=s.querySelector(cc(p)),v||(t=N({src:t,async:!0,type:"module"},i),(i=Qi.get(p))&&dm(t,i),v=s.createElement("script"),Jt(v),Fn(v,"link",t),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Ay(t,i,s,u){var p=(p=Me.current)?nd(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Xo(s.href),s=Sa(p).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Xo(s.href);var v=Sa(p).hoistableStyles,S=v.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=p.querySelector(lc(t)))&&!v._p&&(S.instance=v,S.state.loading=5),Qi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Qi.set(t,s),v||J1(p,t,s,S.state))),i&&u===null)throw Error(o(528,""));return S}if(i&&u!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qo(s),s=Sa(p).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Xo(t){return'href="'+Wt(t)+'"'}function lc(t){return'link[rel="stylesheet"]['+t+"]"}function Ey(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function J1(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Fn(i,"link",s),Jt(i),t.head.appendChild(i))}function Qo(t){return'[src="'+Wt(t)+'"]'}function cc(t){return"script[async]"+t}function ky(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Wt(s.href)+'"]');if(u)return i.instance=u,Jt(u),u;var p=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Jt(u),Fn(u,"style",p),id(u,s.precedence,t),i.instance=u;case"stylesheet":p=Xo(s.href);var v=t.querySelector(lc(p));if(v)return i.state.loading|=4,i.instance=v,Jt(v),v;u=Ey(s),(p=Qi.get(p))&&um(u,p),v=(t.ownerDocument||t).createElement("link"),Jt(v);var S=v;return S._p=new Promise(function(M,X){S.onload=M,S.onerror=X}),Fn(v,"link",u),i.state.loading|=4,id(v,s.precedence,t),i.instance=v;case"script":return v=Qo(s.src),(p=t.querySelector(cc(v)))?(i.instance=p,Jt(p),p):(u=s,(p=Qi.get(v))&&(u=N({},s),dm(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),Jt(p),Fn(p,"link",u),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,id(u,s.precedence,t));return i.instance}function id(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,S=0;S<u.length;S++){var M=u[S];if(M.dataset.precedence===i)v=M;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ad=null;function Ty(t,i,s){if(ad===null){var u=new Map,p=ad=new Map;p.set(s,u)}else p=ad,u=p.get(s),u||(u=new Map,p.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),p=0;p<s.length;p++){var v=s[p];if(!(v[Na]||v[ln]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=t+S;var M=u.get(S);M?M.push(v):u.set(S,[v])}}return u}function Cy(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function W1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ew(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Xo(u.href),v=i.querySelector(lc(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=rd.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=v,Jt(v);return}v=i.ownerDocument||i,u=Ey(u),(p=Qi.get(p))&&um(u,p),v=v.createElement("link"),Jt(v);var S=v;S._p=new Promise(function(M,X){S.onload=M,S.onerror=X}),Fn(v,"link",u),s.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=rd.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var fm=0;function tw(t,i){return t.stylesheets&&t.count===0&&od(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&od(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&fm===0&&(fm=62500*R1());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&od(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>fm?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sd=null;function od(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sd=new Map,i.forEach(nw,t),sd=null,rd.call(t))}function nw(t,i){if(!(i.state.loading&4)){var s=sd.get(t);if(s)var u=s.get(null);else{s=new Map,sd.set(t,s);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var S=p[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}p=i.instance,S=p.getAttribute("data-precedence"),v=s.get(S)||u,v===u&&s.set(null,p),s.set(S,p),this.count++,u=rd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var uc={$$typeof:H,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function iw(t,i,s,u,p,v,S,M,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function My(t,i,s,u,p,v,S,M,X,be,Ce,Re){return t=new iw(t,i,s,S,X,be,Ce,Re,M),i=1,v===!0&&(i|=24),v=Yn(3,null,null,i),t.current=v,v.stateNode=t,i=Vf(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:s,cache:i},Xf(v),t}function Ly(t){return t?(t=Wa,t):Wa}function Oy(t,i,s,u,p,v){p=Ly(p),u.context===null?u.context=p:u.pendingContext=p,u=qr(i),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=Fr(t,u,i),s!==null&&(bi(s,t,i),Hl(s,t,i))}function Ry(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function hm(t,i){Ry(t,i),(t=t.alternate)&&Ry(t,i)}function Dy(t){if(t.tag===13||t.tag===31){var i=Ii(t,67108864);i!==null&&bi(i,t,67108864),hm(t,67108864)}}function $y(t){if(t.tag===13||t.tag===31){var i=Oi();i=In(i);var s=Ii(t,i);s!==null&&bi(s,t,i),hm(t,i)}}var ld=!0;function aw(t,i,s,u){var p=D.T;D.T=null;var v=oe.p;try{oe.p=2,mm(t,i,s,u)}finally{oe.p=v,D.T=p}}function rw(t,i,s,u){var p=D.T;D.T=null;var v=oe.p;try{oe.p=8,mm(t,i,s,u)}finally{oe.p=v,D.T=p}}function mm(t,i,s,u){if(ld){var p=pm(u);if(p===null)em(t,i,u,cd,s),By(t,u);else if(ow(p,t,i,s,u))u.stopPropagation();else if(By(t,u),i&4&&-1<sw.indexOf(t)){for(;p!==null;){var v=ia(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=yt(v.pendingLanes);if(S!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var X=1<<31-$e(S);M.entanglements[1]|=X,S&=~X}Pa(v),(Dt&6)===0&&(Vu=V()+500,ac(0))}}break;case 31:case 13:M=Ii(v,2),M!==null&&bi(M,v,2),Gu(),hm(v,2)}if(v=pm(u),v===null&&em(t,i,u,cd,s),v===p)break;p=v}p!==null&&u.stopPropagation()}else em(t,i,u,null,s)}}function pm(t){return t=_s(t),gm(t)}var cd=null;function gm(t){if(cd=null,t=Pi(t),t!==null){var i=f(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===31){if(t=g(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return cd=t,null}function Py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case _e:return 2;case q:return 8;case fe:case Ze:return 32;case ut:return 268435456;default:return 32}default:return 32}}var vm=!1,ts=null,ns=null,is=null,dc=new Map,fc=new Map,as=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(t,i){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":dc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(i.pointerId)}}function hc(t,i,s,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},i!==null&&(i=ia(i),i!==null&&Dy(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function ow(t,i,s,u,p){switch(i){case"focusin":return ts=hc(ts,t,i,s,u,p),!0;case"dragenter":return ns=hc(ns,t,i,s,u,p),!0;case"mouseover":return is=hc(is,t,i,s,u,p),!0;case"pointerover":var v=p.pointerId;return dc.set(v,hc(dc.get(v)||null,t,i,s,u,p)),!0;case"gotpointercapture":return v=p.pointerId,fc.set(v,hc(fc.get(v)||null,t,i,s,u,p)),!0}return!1}function Uy(t){var i=Pi(t.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,Sr(t.priority,function(){$y(s)});return}}else if(i===31){if(i=g(s),i!==null){t.blockedOn=i,Sr(t.priority,function(){$y(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=pm(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);po=u,s.target.dispatchEvent(u),po=null}else return i=ia(s),i!==null&&Dy(i),t.blockedOn=s,!1;i.shift()}return!0}function Zy(t,i,s){ud(t)&&s.delete(i)}function lw(){vm=!1,ts!==null&&ud(ts)&&(ts=null),ns!==null&&ud(ns)&&(ns=null),is!==null&&ud(is)&&(is=null),dc.forEach(Zy),fc.forEach(Zy)}function dd(t,i){t.blockedOn===i&&(t.blockedOn=null,vm||(vm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lw)))}var fd=null;function Hy(t){fd!==t&&(fd=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fd===t&&(fd=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],p=t[i+2];if(typeof u!="function"){if(gm(u||s)===null)continue;break}var v=ia(s);v!==null&&(t.splice(i,3),i-=3,ph(v,{pending:!0,data:p,method:s.method,action:u},u,p))}}))}function Ko(t){function i(X){return dd(X,t)}ts!==null&&dd(ts,t),ns!==null&&dd(ns,t),is!==null&&dd(is,t),dc.forEach(i),fc.forEach(i);for(var s=0;s<as.length;s++){var u=as[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<as.length&&(s=as[0],s.blockedOn===null);)Uy(s),s.blockedOn===null&&as.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var p=s[u],v=s[u+1],S=p[hn]||null;if(typeof v=="function")S||Hy(s);else if(S){var M=null;if(v&&v.hasAttribute("formAction")){if(p=v,S=v[hn]||null)M=S.formAction;else if(gm(p)!==null)continue}else M=S.action;typeof M=="function"?s[u+1]=M:(s.splice(u,3),u-=3),Hy(s)}}}function qy(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function ym(t){this._internalRoot=t}hd.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,u=Oi();Oy(s,u,t,i,null,null)},hd.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Oy(t.current,2,null,t,null,null),Gu(),i[ta]=null}};function hd(t){this._internalRoot=t}hd.prototype.unstable_scheduleHydration=function(t){if(t){var i=ms();t={blockedOn:null,target:t,priority:i};for(var s=0;s<as.length&&i!==0&&i<as[s].priority;s++);as.splice(s,0,t),s===0&&Uy(t)}};var Fy=n.version;if(Fy!=="19.2.1")throw Error(o(527,Fy,"19.2.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var cw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{tn=md.inject(cw),St=md}catch{}}return pc.createRoot=function(t,i){if(!d(t))throw Error(o(299));var s=!1,u="",p=Kg,v=Jg,S=Wg;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=My(t,1,!1,null,null,s,u,null,p,v,S,qy),t[ta]=i.current,Wh(t),new ym(i)},pc.hydrateRoot=function(t,i,s){if(!d(t))throw Error(o(299));var u=!1,p="",v=Kg,S=Jg,M=Wg,X=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(X=s.formState)),i=My(t,1,!0,i,s??null,u,p,X,v,S,M,qy),i.context=Ly(null),s=i.current,u=Oi(),u=In(u),p=qr(u),p.callback=null,Fr(s,p,u),s=u,i.current.lanes=s,jt(i,s),Pa(i),t[ta]=i.current,Wh(t),new hd(i)},pc.version="19.2.1",pc}var e_;function yw(){if(e_)return bm.exports;e_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),bm.exports=vw(),bm.exports}var _w=yw();var t_="popstate";function xw(e={}){function n(o,d){let{pathname:f,search:h,hash:g}=o.location;return $m("",{pathname:f,search:h,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(o,d){return typeof d=="string"?d:kc(d)}return ww(n,r,null,e)}function sn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Ki(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function bw(){return Math.random().toString(36).substring(2,10)}function n_(e,n){return{usr:e.state,key:e.key,idx:n}}function $m(e,n,r=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?ul(n):n,state:r,key:n&&n.key||o||bw()}}function kc({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let o=e.indexOf("?");o>=0&&(n.search=e.substring(o),e=e.substring(0,o)),e&&(n.pathname=e)}return n}function ww(e,n,r,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,h=d.history,g="POP",x=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function N(){g="POP";let A=b(),R=A==null?null:A-y;y=A,x&&x({action:g,location:T.location,delta:R})}function j(A,R){g="PUSH";let U=$m(T.location,A,R);y=b()+1;let H=n_(U,y),P=T.createHref(U);try{h.pushState(H,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;d.location.assign(P)}f&&x&&x({action:g,location:T.location,delta:1})}function z(A,R){g="REPLACE";let U=$m(T.location,A,R);y=b();let H=n_(U,y),P=T.createHref(U);h.replaceState(H,"",P),f&&x&&x({action:g,location:T.location,delta:0})}function E(A){return Nw(A)}let T={get action(){return g},get location(){return e(d,h)},listen(A){if(x)throw new Error("A history only accepts one active listener");return d.addEventListener(t_,N),x=A,()=>{d.removeEventListener(t_,N),x=null}},createHref(A){return n(d,A)},createURL:E,encodeLocation(A){let R=E(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:j,replace:z,go(A){return h.go(A)}};return T}function Nw(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),sn(r,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:kc(e);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function Ix(e,n,r="/"){return Sw(e,n,r,!1)}function Sw(e,n,r,o){let d=typeof n=="string"?ul(n):n,f=xr(d.pathname||"/",r);if(f==null)return null;let h=Gx(e);jw(h);let g=null;for(let x=0;g==null&&x<h.length;++x){let y=Dw(f);g=Ow(h[x],y,o)}return g}function Gx(e,n=[],r=[],o="",d=!1){let f=(h,g,x=d,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(o)&&x)return;sn(b.relativePath.startsWith(o),`Absolute route path "${b.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(o.length)}let N=_r([o,b.relativePath]),j=r.concat(b);h.children&&h.children.length>0&&(sn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),Gx(h.children,n,j,N,x)),!(h.path==null&&!h.index)&&n.push({path:N,score:Mw(N,h.index),routesMeta:j})};return e.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))f(h,g);else for(let x of Yx(h.path))f(h,g,!0,x)}),n}function Yx(e){let n=e.split("/");if(n.length===0)return[];let[r,...o]=n,d=r.endsWith("?"),f=r.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let h=Yx(o.join("/")),g=[];return g.push(...h.map(x=>x===""?f:[f,x].join("/"))),d&&g.push(...h),g.map(x=>e.startsWith("/")&&x===""?"/":x)}function jw(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:Lw(n.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var Aw=/^:[\w-]+$/,Ew=3,kw=2,Tw=1,Cw=10,zw=-2,i_=e=>e==="*";function Mw(e,n){let r=e.split("/"),o=r.length;return r.some(i_)&&(o+=zw),n&&(o+=kw),r.filter(d=>!i_(d)).reduce((d,f)=>d+(Aw.test(f)?Ew:f===""?Tw:Cw),o)}function Lw(e,n){return e.length===n.length&&e.slice(0,-1).every((o,d)=>o===n[d])?e[e.length-1]-n[n.length-1]:0}function Ow(e,n,r=!1){let{routesMeta:o}=e,d={},f="/",h=[];for(let g=0;g<o.length;++g){let x=o[g],y=g===o.length-1,b=f==="/"?n:n.slice(f.length)||"/",N=Zd({path:x.relativePath,caseSensitive:x.caseSensitive,end:y},b),j=x.route;if(!N&&y&&r&&!o[o.length-1].route.index&&(N=Zd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!N)return null;Object.assign(d,N.params),h.push({params:d,pathname:_r([f,N.pathname]),pathnameBase:Zw(_r([f,N.pathnameBase])),route:j}),N.pathnameBase!=="/"&&(f=_r([f,N.pathnameBase]))}return h}function Zd(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=Rw(e.path,e.caseSensitive,e.end),d=n.match(r);if(!d)return null;let f=d[0],h=f.replace(/(.)\/+$/,"$1"),g=d.slice(1);return{params:o.reduce((y,{paramName:b,isOptional:N},j)=>{if(b==="*"){let E=g[j]||"";h=f.slice(0,f.length-E.length).replace(/(.)\/+$/,"$1")}const z=g[j];return N&&!z?y[b]=void 0:y[b]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:h,pattern:e}}function Rw(e,n=!1,r=!0){Ki(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],d="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,x)=>(o.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),d+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?d+="\\/*$":e!==""&&e!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),o]}function Dw(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ki(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function xr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pw=e=>$w.test(e);function Bw(e,n="/"){let{pathname:r,search:o="",hash:d=""}=typeof e=="string"?ul(e):e,f;if(r)if(Pw(r))f=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),Ki(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?f=a_(r.substring(1),"/"):f=a_(r,n)}else f=n;return{pathname:f,search:Hw(o),hash:qw(d)}}function a_(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(d=>{d===".."?r.length>1&&r.pop():d!=="."&&r.push(d)}),r.length>1?r.join("/"):"/"}function jm(e,n,r,o){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uw(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function lp(e){let n=Uw(e);return n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase)}function cp(e,n,r,o=!1){let d;typeof e=="string"?d=ul(e):(d={...e},sn(!d.pathname||!d.pathname.includes("?"),jm("?","pathname","search",d)),sn(!d.pathname||!d.pathname.includes("#"),jm("#","pathname","hash",d)),sn(!d.search||!d.search.includes("#"),jm("#","search","hash",d)));let f=e===""||d.pathname==="",h=f?"/":d.pathname,g;if(h==null)g=r;else{let N=n.length-1;if(!o&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),N-=1;d.pathname=j.join("/")}g=N>=0?n[N]:"/"}let x=Bw(d,g),y=h&&h!=="/"&&h.endsWith("/"),b=(f||h===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(y||b)&&(x.pathname+="/"),x}var _r=e=>e.join("/").replace(/\/\/+/g,"/"),Zw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Vw(e){return e.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xx=["POST","PUT","PATCH","DELETE"];new Set(Xx);var Iw=["GET",...Xx];new Set(Iw);var dl=k.createContext(null);dl.displayName="DataRouter";var af=k.createContext(null);af.displayName="DataRouterState";k.createContext(!1);var Qx=k.createContext({isTransitioning:!1});Qx.displayName="ViewTransition";var Gw=k.createContext(new Map);Gw.displayName="Fetchers";var Yw=k.createContext(null);Yw.displayName="Await";var Ji=k.createContext(null);Ji.displayName="Navigation";var Pc=k.createContext(null);Pc.displayName="Location";var xa=k.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var up=k.createContext(null);up.displayName="RouteError";function Xw(e,{relative:n}={}){sn(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=k.useContext(Ji),{hash:d,pathname:f,search:h}=Bc(e,{relative:n}),g=f;return r!=="/"&&(g=f==="/"?r:_r([r,f])),o.createHref({pathname:g,search:h,hash:d})}function fl(){return k.useContext(Pc)!=null}function Wi(){return sn(fl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Pc).location}var Kx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jx(e){k.useContext(Ji).static||k.useLayoutEffect(e)}function ro(){let{isDataRoute:e}=k.useContext(xa);return e?u2():Qw()}function Qw(){sn(fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(dl),{basename:n,navigator:r}=k.useContext(Ji),{matches:o}=k.useContext(xa),{pathname:d}=Wi(),f=JSON.stringify(lp(o)),h=k.useRef(!1);return Jx(()=>{h.current=!0}),k.useCallback((x,y={})=>{if(Ki(h.current,Kx),!h.current)return;if(typeof x=="number"){r.go(x);return}let b=cp(x,JSON.parse(f),d,y.relative==="path");e==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:_r([n,b.pathname])),(y.replace?r.replace:r.push)(b,y.state,y)},[n,r,f,d,e])}var Kw=k.createContext(null);function Jw(e){let n=k.useContext(xa).outlet;return k.useMemo(()=>n&&k.createElement(Kw.Provider,{value:e},n),[n,e])}function Bc(e,{relative:n}={}){let{matches:r}=k.useContext(xa),{pathname:o}=Wi(),d=JSON.stringify(lp(r));return k.useMemo(()=>cp(e,JSON.parse(d),o,n==="path"),[e,d,o,n])}function Ww(e,n){return Wx(e,n)}function Wx(e,n,r,o,d){sn(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=k.useContext(Ji),{matches:h}=k.useContext(xa),g=h[h.length-1],x=g?g.params:{},y=g?g.pathname:"/",b=g?g.pathnameBase:"/",N=g&&g.route;{let U=N&&N.path||"";e0(y,!N||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let j=Wi(),z;if(n){let U=typeof n=="string"?ul(n):n;sn(b==="/"||U.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${U.pathname}" was given in the \`location\` prop.`),z=U}else z=j;let E=z.pathname||"/",T=E;if(b!=="/"){let U=b.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=Ix(e,{pathname:T});Ki(N||A!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Ki(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=a2(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},x,U.params),pathname:_r([b,f.encodeLocation?f.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?b:_r([b,f.encodeLocation?f.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),h,r,o,d);return n&&R?k.createElement(Pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},R):R}function e2(){let e=c2(),n=Fw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",e),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:f},"ErrorBoundary")," or"," ",k.createElement("code",{style:f},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},n),r?k.createElement("pre",{style:d},r):null,h)}var t2=k.createElement(e2,null),n2=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.onError?this.props.onError(e,n):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(xa.Provider,{value:this.props.routeContext},k.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i2({routeContext:e,match:n,children:r}){let o=k.useContext(dl);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(xa.Provider,{value:e},r)}function a2(e,n=[],r=null,o=null,d=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,h=r?.errors;if(h!=null){let b=f.findIndex(N=>N.route.id&&h?.[N.route.id]!==void 0);sn(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,b+1))}let g=!1,x=-1;if(r)for(let b=0;b<f.length;b++){let N=f[b];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(x=b),N.route.id){let{loaderData:j,errors:z}=r,E=N.route.loader&&!j.hasOwnProperty(N.route.id)&&(!z||z[N.route.id]===void 0);if(N.route.lazy||E){g=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}let y=r&&o?(b,N)=>{o(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Vw(r.matches),errorInfo:N})}:void 0;return f.reduceRight((b,N,j)=>{let z,E=!1,T=null,A=null;r&&(z=h&&N.route.id?h[N.route.id]:void 0,T=N.route.errorElement||t2,g&&(x<0&&j===0?(e0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):x===j&&(E=!0,A=N.route.hydrateFallbackElement||null)));let R=n.concat(f.slice(0,j+1)),U=()=>{let H;return z?H=T:E?H=A:N.route.Component?H=k.createElement(N.route.Component,null):N.route.element?H=N.route.element:H=b,k.createElement(i2,{match:N,routeContext:{outlet:b,matches:R,isDataRoute:r!=null},children:H})};return r&&(N.route.ErrorBoundary||N.route.errorElement||j===0)?k.createElement(n2,{location:r.location,revalidation:r.revalidation,component:T,error:z,children:U(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:y}):U()},null)}function dp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(e){let n=k.useContext(dl);return sn(n,dp(e)),n}function s2(e){let n=k.useContext(af);return sn(n,dp(e)),n}function o2(e){let n=k.useContext(xa);return sn(n,dp(e)),n}function fp(e){let n=o2(e),r=n.matches[n.matches.length-1];return sn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function l2(){return fp("useRouteId")}function c2(){let e=k.useContext(up),n=s2("useRouteError"),r=fp("useRouteError");return e!==void 0?e:n.errors?.[r]}function u2(){let{router:e}=r2("useNavigate"),n=fp("useNavigate"),r=k.useRef(!1);return Jx(()=>{r.current=!0}),k.useCallback(async(d,f={})=>{Ki(r.current,Kx),r.current&&(typeof d=="number"?await e.navigate(d):await e.navigate(d,{fromRouteId:n,...f}))},[e,n])}var r_={};function e0(e,n,r){!n&&!r_[e]&&(r_[e]=!0,Ki(!1,r))}k.memo(d2);function d2({routes:e,future:n,state:r,unstable_onError:o}){return Wx(e,void 0,r,o,n)}function s_({to:e,replace:n,state:r,relative:o}){sn(fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=k.useContext(Ji);Ki(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=k.useContext(xa),{pathname:h}=Wi(),g=ro(),x=cp(e,lp(f),h,o==="path"),y=JSON.stringify(x);return k.useEffect(()=>{g(JSON.parse(y),{replace:n,state:r,relative:o})},[g,y,o,n,r]),null}function f2(e){return Jw(e.context)}function An(e){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h2({basename:e="/",children:n=null,location:r,navigationType:o="POP",navigator:d,static:f=!1,unstable_useTransitions:h}){sn(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=e.replace(/^\/*/,"/"),x=k.useMemo(()=>({basename:g,navigator:d,static:f,unstable_useTransitions:h,future:{}}),[g,d,f,h]);typeof r=="string"&&(r=ul(r));let{pathname:y="/",search:b="",hash:N="",state:j=null,key:z="default"}=r,E=k.useMemo(()=>{let T=xr(y,g);return T==null?null:{location:{pathname:T,search:b,hash:N,state:j,key:z},navigationType:o}},[g,y,b,N,j,z,o]);return Ki(E!=null,`<Router basename="${g}"> is not able to match the URL "${y}${b}${N}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:k.createElement(Ji.Provider,{value:x},k.createElement(Pc.Provider,{children:n,value:E}))}function m2({children:e,location:n}){return Ww(Pm(e),n)}function Pm(e,n=[]){let r=[];return k.Children.forEach(e,(o,d)=>{if(!k.isValidElement(o))return;let f=[...n,d];if(o.type===k.Fragment){r.push.apply(r,Pm(o.props.children,f));return}sn(o.type===An,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Pm(o.props.children,f)),r.push(h)}),r}var Td="get",Cd="application/x-www-form-urlencoded";function rf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function p2(e){return rf(e)&&e.tagName.toLowerCase()==="button"}function g2(e){return rf(e)&&e.tagName.toLowerCase()==="form"}function v2(e){return rf(e)&&e.tagName.toLowerCase()==="input"}function y2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _2(e,n){return e.button===0&&(!n||n==="_self")&&!y2(e)}var pd=null;function x2(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var b2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(e){return e!=null&&!b2.has(e)?(Ki(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cd}"`),null):e}function w2(e,n){let r,o,d,f,h;if(g2(e)){let g=e.getAttribute("action");o=g?xr(g,n):null,r=e.getAttribute("method")||Td,d=Am(e.getAttribute("enctype"))||Cd,f=new FormData(e)}else if(p2(e)||v2(e)&&(e.type==="submit"||e.type==="image")){let g=e.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=e.getAttribute("formaction")||g.getAttribute("action");if(o=x?xr(x,n):null,r=e.getAttribute("formmethod")||g.getAttribute("method")||Td,d=Am(e.getAttribute("formenctype"))||Am(g.getAttribute("enctype"))||Cd,f=new FormData(g,e),!x2()){let{name:y,type:b,value:N}=e;if(b==="image"){let j=y?`${y}.`:"";f.append(`${j}x`,"0"),f.append(`${j}y`,"0")}else y&&f.append(y,N)}}else{if(rf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Td,o=null,d=Cd,h=e}return f&&d==="text/plain"&&(h=f,f=void 0),{action:o,method:r.toLowerCase(),encType:d,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function N2(e,n,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${r}`:n&&xr(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function S2(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A2(e,n,r){let o=await Promise.all(e.map(async d=>{let f=n.routes[d.route.id];if(f){let h=await S2(f,r);return h.links?h.links():[]}return[]}));return C2(o.flat(1).filter(j2).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function o_(e,n,r,o,d,f){let h=(x,y)=>r[y]?x.route.id!==r[y].route.id:!0,g=(x,y)=>r[y].pathname!==x.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==x.params["*"];return f==="assets"?n.filter((x,y)=>h(x,y)||g(x,y)):f==="data"?n.filter((x,y)=>{let b=o.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(h(x,y)||g(x,y))return!0;if(x.route.shouldRevalidate){let N=x.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function E2(e,n,{includeHydrateFallback:r}={}){return k2(e.map(o=>{let d=n.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),r&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function k2(e){return[...new Set(e)]}function T2(e){let n={},r=Object.keys(e).sort();for(let o of r)n[o]=e[o];return n}function C2(e,n){let r=new Set;return new Set(n),e.reduce((o,d)=>{let f=JSON.stringify(T2(d));return r.has(f)||(r.add(f),o.push({key:f,link:d})),o},[])}function t0(){let e=k.useContext(dl);return hp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function z2(){let e=k.useContext(af);return hp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mp=k.createContext(void 0);mp.displayName="FrameworkContext";function n0(){let e=k.useContext(mp);return hp(e,"You must render this element inside a <HydratedRouter> element"),e}function M2(e,n){let r=k.useContext(mp),[o,d]=k.useState(!1),[f,h]=k.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:y,onMouseLeave:b,onTouchStart:N}=n,j=k.useRef(null);k.useEffect(()=>{if(e==="render"&&h(!0),e==="viewport"){let T=R=>{R.forEach(U=>{h(U.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return j.current&&A.observe(j.current),()=>{A.disconnect()}}},[e]),k.useEffect(()=>{if(o){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[o]);let z=()=>{d(!0)},E=()=>{d(!1),h(!1)};return r?e!=="intent"?[f,j,{}]:[f,j,{onFocus:gc(g,z),onBlur:gc(x,E),onMouseEnter:gc(y,z),onMouseLeave:gc(b,E),onTouchStart:gc(N,z)}]:[!1,j,{}]}function gc(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function L2({page:e,...n}){let{router:r}=t0(),o=k.useMemo(()=>Ix(r.routes,e,r.basename),[r.routes,e,r.basename]);return o?k.createElement(R2,{page:e,matches:o,...n}):null}function O2(e){let{manifest:n,routeModules:r}=n0(),[o,d]=k.useState([]);return k.useEffect(()=>{let f=!1;return A2(e,n,r).then(h=>{f||d(h)}),()=>{f=!0}},[e,n,r]),o}function R2({page:e,matches:n,...r}){let o=Wi(),{manifest:d,routeModules:f}=n0(),{basename:h}=t0(),{loaderData:g,matches:x}=z2(),y=k.useMemo(()=>o_(e,n,x,d,o,"data"),[e,n,x,d,o]),b=k.useMemo(()=>o_(e,n,x,d,o,"assets"),[e,n,x,d,o]),N=k.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let E=new Set,T=!1;if(n.forEach(R=>{let U=d.routes[R.route.id];!U||!U.hasLoader||(!y.some(H=>H.route.id===R.route.id)&&R.route.id in g&&f[R.route.id]?.shouldRevalidate||U.hasClientLoader?T=!0:E.add(R.route.id))}),E.size===0)return[];let A=N2(e,h,"data");return T&&E.size>0&&A.searchParams.set("_routes",n.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[A.pathname+A.search]},[h,g,o,d,y,n,e,f]),j=k.useMemo(()=>E2(b,d),[b,d]),z=O2(b);return k.createElement(k.Fragment,null,N.map(E=>k.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),j.map(E=>k.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),z.map(({key:E,link:T})=>k.createElement("link",{key:E,nonce:r.nonce,...T})))}function D2(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i0&&(window.__reactRouterVersion="7.10.1")}catch{}function $2({basename:e,children:n,unstable_useTransitions:r,window:o}){let d=k.useRef();d.current==null&&(d.current=xw({window:o,v5Compat:!0}));let f=d.current,[h,g]=k.useState({action:f.action,location:f.location}),x=k.useCallback(y=>{r===!1?g(y):k.startTransition(()=>g(y))},[r]);return k.useLayoutEffect(()=>f.listen(x),[f,x]),k.createElement(h2,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:r===!0})}var a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Za=k.forwardRef(function({onClick:n,discover:r="render",prefetch:o="none",relative:d,reloadDocument:f,replace:h,state:g,target:x,to:y,preventScrollReset:b,viewTransition:N,...j},z){let{basename:E,unstable_useTransitions:T}=k.useContext(Ji),A=typeof y=="string"&&a0.test(y),R,U=!1;if(typeof y=="string"&&A&&(R=y,i0))try{let ve=new URL(window.location.href),ge=y.startsWith("//")?new URL(ve.protocol+y):new URL(y),te=xr(ge.pathname,E);ge.origin===ve.origin&&te!=null?y=te+ge.search+ge.hash:U=!0}catch{Ki(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Xw(y,{relative:d}),[P,I,Z]=M2(o,j),J=U2(y,{replace:h,state:g,target:x,preventScrollReset:b,relative:d,viewTransition:N,unstable_useTransitions:T});function F(ve){n&&n(ve),ve.defaultPrevented||J(ve)}let de=k.createElement("a",{...j,...Z,href:R||H,onClick:U||f?n:F,ref:D2(z,I),target:x,"data-discover":!A&&r==="render"?"true":void 0});return P&&!A?k.createElement(k.Fragment,null,de,k.createElement(L2,{page:H})):de});Za.displayName="Link";var Qn=k.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:o="",end:d=!1,style:f,to:h,viewTransition:g,children:x,...y},b){let N=Bc(h,{relative:y.relative}),j=Wi(),z=k.useContext(af),{navigator:E,basename:T}=k.useContext(Ji),A=z!=null&&V2(N)&&g===!0,R=E.encodeLocation?E.encodeLocation(N).pathname:N.pathname,U=j.pathname,H=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;r||(U=U.toLowerCase(),H=H?H.toLowerCase():null,R=R.toLowerCase()),H&&T&&(H=xr(H,T)||H);const P=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let I=U===R||!d&&U.startsWith(R)&&U.charAt(P)==="/",Z=H!=null&&(H===R||!d&&H.startsWith(R)&&H.charAt(R.length)==="/"),J={isActive:I,isPending:Z,isTransitioning:A},F=I?n:void 0,de;typeof o=="function"?de=o(J):de=[o,I?"active":null,Z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ve=typeof f=="function"?f(J):f;return k.createElement(Za,{...y,"aria-current":F,className:de,ref:b,style:ve,to:h,viewTransition:g},typeof x=="function"?x(J):x)});Qn.displayName="NavLink";var P2=k.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:o,replace:d,state:f,method:h=Td,action:g,onSubmit:x,relative:y,preventScrollReset:b,viewTransition:N,...j},z)=>{let{unstable_useTransitions:E}=k.useContext(Ji),T=q2(),A=F2(g,{relative:y}),R=h.toLowerCase()==="get"?"get":"post",U=typeof g=="string"&&a0.test(g),H=P=>{if(x&&x(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,Z=I?.getAttribute("formmethod")||h,J=()=>T(I||P.currentTarget,{fetcherKey:n,method:Z,navigate:r,replace:d,state:f,relative:y,preventScrollReset:b,viewTransition:N});E&&r!==!1?k.startTransition(()=>J()):J()};return k.createElement("form",{ref:z,method:R,action:A,onSubmit:o?x:H,...j,"data-discover":!U&&e==="render"?"true":void 0})});P2.displayName="Form";function B2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r0(e){let n=k.useContext(dl);return sn(n,B2(e)),n}function U2(e,{target:n,replace:r,state:o,preventScrollReset:d,relative:f,viewTransition:h,unstable_useTransitions:g}={}){let x=ro(),y=Wi(),b=Bc(e,{relative:f});return k.useCallback(N=>{if(_2(N,n)){N.preventDefault();let j=r!==void 0?r:kc(y)===kc(b),z=()=>x(e,{replace:j,state:o,preventScrollReset:d,relative:f,viewTransition:h});g?k.startTransition(()=>z()):z()}},[y,x,b,r,o,n,e,d,f,h,g])}var Z2=0,H2=()=>`__${String(++Z2)}__`;function q2(){let{router:e}=r0("useSubmit"),{basename:n}=k.useContext(Ji),r=l2(),o=e.fetch,d=e.navigate;return k.useCallback(async(f,h={})=>{let{action:g,method:x,encType:y,formData:b,body:N}=w2(f,n);if(h.navigate===!1){let j=h.fetcherKey||H2();await o(j,r,h.action||g,{preventScrollReset:h.preventScrollReset,formData:b,body:N,formMethod:h.method||x,formEncType:h.encType||y,flushSync:h.flushSync})}else await d(h.action||g,{preventScrollReset:h.preventScrollReset,formData:b,body:N,formMethod:h.method||x,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[o,d,n,r])}function F2(e,{relative:n}={}){let{basename:r}=k.useContext(Ji),o=k.useContext(xa);sn(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...Bc(e||".",{relative:n})},h=Wi();if(e==null){f.search=h.search;let g=new URLSearchParams(f.search),x=g.getAll("index");if(x.some(b=>b==="")){g.delete("index"),x.filter(N=>N).forEach(N=>g.append("index",N));let b=g.toString();f.search=b?`?${b}`:""}}return(!e||e===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:_r([r,f.pathname])),kc(f)}function V2(e,{relative:n}={}){let r=k.useContext(Qx);sn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=r0("useViewTransitionState"),d=Bc(e,{relative:n});if(!r.isTransitioning)return!1;let f=xr(r.currentLocation.pathname,o)||r.currentLocation.pathname,h=xr(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Zd(d.pathname,h)!=null||Zd(d.pathname,f)!=null}var I2=Vx();const G2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y2=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,o)=>o?o.toUpperCase():r.toLowerCase()),l_=e=>{const n=Y2(e);return n.charAt(0).toUpperCase()+n.slice(1)},s0=(...e)=>e.filter((n,r,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===r).join(" ").trim(),X2=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const K2=k.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...g},x)=>k.createElement("svg",{ref:x,...Q2,width:n,height:n,stroke:e,strokeWidth:o?Number(r)*24/Number(n):r,className:s0("lucide",d),...!f&&!X2(g)&&{"aria-hidden":"true"},...g},[...h.map(([y,b])=>k.createElement(y,b)),...Array.isArray(f)?f:[f]]));const Ge=(e,n)=>{const r=k.forwardRef(({className:o,...d},f)=>k.createElement(K2,{ref:f,iconNode:n,className:s0(`lucide-${G2(l_(e))}`,`lucide-${e}`,o),...d}));return r.displayName=l_(e),r};const J2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Hd=Ge("activity",J2);const W2=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ya=Ge("archive",W2);const eN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],o0=Ge("bell",eN);const tN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vn=Ge("book-open",tN);const nN=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],iN=Ge("building",nN);const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zd=Ge("calendar",aN);const rN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],sN=Ge("camera",rN);const oN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lN=Ge("chevron-right",oN);const cN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uN=Ge("circle-check",cN);const dN=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pp=Ge("circle-user-round",dN);const fN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hN=Ge("clock",fN);const mN=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pN=Ge("compass",mN);const gN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],vN=Ge("crown",gN);const yN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],c_=Ge("database",yN);const _N=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cs=Ge("download",_N);const xN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l0=Ge("external-link",xN);const bN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gp=Ge("eye",bN);const wN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],NN=Ge("facebook",wN);const SN=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],jN=Ge("feather",SN);const AN=[["path",{d:"M4 12.15V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-3.35",key:"1wthlu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 16-3 3 3 3",key:"331omg"}],["path",{d:"m9 22 3-3-3-3",key:"lsp7cz"}]],EN=Ge("file-code-corner",AN);const kN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],TN=Ge("file-search",kN);const CN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ha=Ge("file-text",CN);const zN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],c0=Ge("funnel",zN);const MN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vp=Ge("globe",MN);const LN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ON=Ge("house",LN);const RN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],us=Ge("image",RN);const DN=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$N=Ge("instagram",DN);const PN=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],u0=Ge("landmark",PN);const BN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],UN=Ge("layout-dashboard",BN);const ZN=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],HN=Ge("library",ZN);const qN=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FN=Ge("locate-fixed",qN);const VN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sf=Ge("lock",VN);const IN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u_=Ge("log-out",IN);const GN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Uc=Ge("mail",GN);const YN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sc=Ge("map-pin",YN);const XN=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],d0=Ge("map",XN);const QN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],f0=Ge("menu",QN);const KN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],JN=Ge("message-circle",KN);const WN=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],eS=Ge("mic",WN);const tS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Bm=Ge("moon",tS);const nS=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],il=Ge("network",nS);const iS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],aS=Ge("pencil",iS);const rS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],h0=Ge("phone",rS);const sS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tl=Ge("plus",sS);const oS=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],lS=Ge("refresh-ccw",oS);const cS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jc=Ge("save",cS);const uS=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],dS=Ge("scale",uS);const fS=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],of=Ge("scroll",fS);const hS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],br=Ge("search",hS);const mS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pS=Ge("send",mS);const gS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vS=Ge("settings",gS);const yS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],_S=Ge("shield-alert",yS);const xS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lf=Ge("shield-check",xS);const bS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],m0=Ge("shield",bS);const wS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],d_=Ge("square-pen",wS);const NS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Um=Ge("sun",NS);const SS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ds=Ge("trash-2",SS);const jS=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],gd=Ge("trees",jS);const AS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ES=Ge("triangle-alert",AS);const kS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],TS=Ge("twitter",kS);const CS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Tc=Ge("upload",CS);const zS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],MS=Ge("user-plus",zS);const LS=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Zm=Ge("user-round",LS);const OS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qd=Ge("user",OS);const RS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vr=Ge("users",RS);const DS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_a=Ge("x",DS);const $S=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],PS=Ge("youtube",$S);var Md={exports:{}},BS=Md.exports,f_;function US(){return f_||(f_=1,(function(e,n){(function(r,o){e.exports=o()})(BS,function(){return(function(r){function o(f){if(d[f])return d[f].exports;var h=d[f]={exports:{},id:f,loaded:!1};return r[f].call(h.exports,h,h.exports,o),h.loaded=!0,h.exports}var d={};return o.m=r,o.c=d,o.p="dist/",o(0)})([function(r,o,d){function f(B){return B&&B.__esModule?B:{default:B}}var h=Object.assign||function(B){for(var me=1;me<arguments.length;me++){var D=arguments[me];for(var oe in D)Object.prototype.hasOwnProperty.call(D,oe)&&(B[oe]=D[oe])}return B},g=d(1),x=(f(g),d(6)),y=f(x),b=d(7),N=f(b),j=d(8),z=f(j),E=d(9),T=f(E),A=d(10),R=f(A),U=d(11),H=f(U),P=d(14),I=f(P),Z=[],J=!1,F={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},de=function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(B&&(J=!0),J)return Z=(0,H.default)(Z,F),(0,R.default)(Z,F.once),Z},ve=function(){Z=(0,I.default)(),de()},ge=function(){Z.forEach(function(B,me){B.node.removeAttribute("data-aos"),B.node.removeAttribute("data-aos-easing"),B.node.removeAttribute("data-aos-duration"),B.node.removeAttribute("data-aos-delay")})},te=function(B){return B===!0||B==="mobile"&&T.default.mobile()||B==="phone"&&T.default.phone()||B==="tablet"&&T.default.tablet()||typeof B=="function"&&B()===!0},se=function(B){F=h(F,B),Z=(0,I.default)();var me=document.all&&!window.atob;return te(F.disable)||me?ge():(F.disableMutationObserver||z.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),F.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",F.easing),document.querySelector("body").setAttribute("data-aos-duration",F.duration),document.querySelector("body").setAttribute("data-aos-delay",F.delay),F.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?de(!0):F.startEvent==="load"?window.addEventListener(F.startEvent,function(){de(!0)}):document.addEventListener(F.startEvent,function(){de(!0)}),window.addEventListener("resize",(0,N.default)(de,F.debounceDelay,!0)),window.addEventListener("orientationchange",(0,N.default)(de,F.debounceDelay,!0)),window.addEventListener("scroll",(0,y.default)(function(){(0,R.default)(Z,F.once)},F.throttleDelay)),F.disableMutationObserver||z.default.ready("[data-aos]",ve),Z)};r.exports={init:se,refresh:de,refreshHard:ve}},function(r,o){},,,,,function(r,o){(function(d){function f(te,se,B){function me(Ve){var tt=W,Rt=Ne;return W=Ne=void 0,De=Ve,Le=te.apply(Rt,tt)}function D(Ve){return De=Ve,Y=setTimeout(Ae,se),He?me(Ve):Le}function oe(Ve){var tt=Ve-we,Rt=Ve-De,Tt=se-tt;return st?ve(Tt,Me-Rt):Tt}function le(Ve){var tt=Ve-we,Rt=Ve-De;return we===void 0||tt>=se||tt<0||st&&Rt>=Me}function Ae(){var Ve=ge();return le(Ve)?ce(Ve):void(Y=setTimeout(Ae,oe(Ve)))}function ce(Ve){return Y=void 0,it&&W?me(Ve):(W=Ne=void 0,Le)}function $(){Y!==void 0&&clearTimeout(Y),De=0,W=we=Ne=Y=void 0}function ae(){return Y===void 0?Le:ce(ge())}function Q(){var Ve=ge(),tt=le(Ve);if(W=arguments,Ne=this,we=Ve,tt){if(Y===void 0)return D(we);if(st)return Y=setTimeout(Ae,se),me(we)}return Y===void 0&&(Y=setTimeout(Ae,se)),Le}var W,Ne,Me,Le,Y,we,De=0,He=!1,st=!1,it=!0;if(typeof te!="function")throw new TypeError(j);return se=b(se)||0,g(B)&&(He=!!B.leading,st="maxWait"in B,Me=st?de(b(B.maxWait)||0,se):Me,it="trailing"in B?!!B.trailing:it),Q.cancel=$,Q.flush=ae,Q}function h(te,se,B){var me=!0,D=!0;if(typeof te!="function")throw new TypeError(j);return g(B)&&(me="leading"in B?!!B.leading:me,D="trailing"in B?!!B.trailing:D),f(te,se,{leading:me,maxWait:se,trailing:D})}function g(te){var se=typeof te>"u"?"undefined":N(te);return!!te&&(se=="object"||se=="function")}function x(te){return!!te&&(typeof te>"u"?"undefined":N(te))=="object"}function y(te){return(typeof te>"u"?"undefined":N(te))=="symbol"||x(te)&&F.call(te)==E}function b(te){if(typeof te=="number")return te;if(y(te))return z;if(g(te)){var se=typeof te.valueOf=="function"?te.valueOf():te;te=g(se)?se+"":se}if(typeof te!="string")return te===0?te:+te;te=te.replace(T,"");var B=R.test(te);return B||U.test(te)?H(te.slice(2),B?2:8):A.test(te)?z:+te}var N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},j="Expected a function",z=NaN,E="[object Symbol]",T=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,U=/^0o[0-7]+$/i,H=parseInt,P=(typeof d>"u"?"undefined":N(d))=="object"&&d&&d.Object===Object&&d,I=(typeof self>"u"?"undefined":N(self))=="object"&&self&&self.Object===Object&&self,Z=P||I||Function("return this")(),J=Object.prototype,F=J.toString,de=Math.max,ve=Math.min,ge=function(){return Z.Date.now()};r.exports=h}).call(o,(function(){return this})())},function(r,o){(function(d){function f(ge,te,se){function B(it){var Ve=Q,tt=W;return Q=W=void 0,we=it,Me=ge.apply(tt,Ve)}function me(it){return we=it,Le=setTimeout(le,te),De?B(it):Me}function D(it){var Ve=it-Y,tt=it-we,Rt=te-Ve;return He?de(Rt,Ne-tt):Rt}function oe(it){var Ve=it-Y,tt=it-we;return Y===void 0||Ve>=te||Ve<0||He&&tt>=Ne}function le(){var it=ve();return oe(it)?Ae(it):void(Le=setTimeout(le,D(it)))}function Ae(it){return Le=void 0,st&&Q?B(it):(Q=W=void 0,Me)}function ce(){Le!==void 0&&clearTimeout(Le),we=0,Q=Y=W=Le=void 0}function $(){return Le===void 0?Me:Ae(ve())}function ae(){var it=ve(),Ve=oe(it);if(Q=arguments,W=this,Y=it,Ve){if(Le===void 0)return me(Y);if(He)return Le=setTimeout(le,te),B(Y)}return Le===void 0&&(Le=setTimeout(le,te)),Me}var Q,W,Ne,Me,Le,Y,we=0,De=!1,He=!1,st=!0;if(typeof ge!="function")throw new TypeError(N);return te=y(te)||0,h(se)&&(De=!!se.leading,He="maxWait"in se,Ne=He?F(y(se.maxWait)||0,te):Ne,st="trailing"in se?!!se.trailing:st),ae.cancel=ce,ae.flush=$,ae}function h(ge){var te=typeof ge>"u"?"undefined":b(ge);return!!ge&&(te=="object"||te=="function")}function g(ge){return!!ge&&(typeof ge>"u"?"undefined":b(ge))=="object"}function x(ge){return(typeof ge>"u"?"undefined":b(ge))=="symbol"||g(ge)&&J.call(ge)==z}function y(ge){if(typeof ge=="number")return ge;if(x(ge))return j;if(h(ge)){var te=typeof ge.valueOf=="function"?ge.valueOf():ge;ge=h(te)?te+"":te}if(typeof ge!="string")return ge===0?ge:+ge;ge=ge.replace(E,"");var se=A.test(ge);return se||R.test(ge)?U(ge.slice(2),se?2:8):T.test(ge)?j:+ge}var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},N="Expected a function",j=NaN,z="[object Symbol]",E=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,R=/^0o[0-7]+$/i,U=parseInt,H=(typeof d>"u"?"undefined":b(d))=="object"&&d&&d.Object===Object&&d,P=(typeof self>"u"?"undefined":b(self))=="object"&&self&&self.Object===Object&&self,I=H||P||Function("return this")(),Z=Object.prototype,J=Z.toString,F=Math.max,de=Math.min,ve=function(){return I.Date.now()};r.exports=f}).call(o,(function(){return this})())},function(r,o){function d(b){var N=void 0,j=void 0;for(N=0;N<b.length;N+=1)if(j=b[N],j.dataset&&j.dataset.aos||j.children&&d(j.children))return!0;return!1}function f(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function h(){return!!f()}function g(b,N){var j=window.document,z=f(),E=new z(x);y=N,E.observe(j.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function x(b){b&&b.forEach(function(N){var j=Array.prototype.slice.call(N.addedNodes),z=Array.prototype.slice.call(N.removedNodes),E=j.concat(z);if(d(E))return y()})}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){};o.default={isSupported:h,ready:g}},function(r,o){function d(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")}function f(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var h=(function(){function j(z,E){for(var T=0;T<E.length;T++){var A=E[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(z,A.key,A)}}return function(z,E,T){return E&&j(z.prototype,E),T&&j(z,T),z}})(),g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,x=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,y=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,b=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,N=(function(){function j(){d(this,j)}return h(j,[{key:"phone",value:function(){var z=f();return!(!g.test(z)&&!x.test(z.substr(0,4)))}},{key:"mobile",value:function(){var z=f();return!(!y.test(z)&&!b.test(z.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),j})();o.default=new N},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var d=function(h,g,x){var y=h.node.getAttribute("data-aos-once");g>h.position?h.node.classList.add("aos-animate"):typeof y<"u"&&(y==="false"||!x&&y!=="true")&&h.node.classList.remove("aos-animate")},f=function(h,g){var x=window.pageYOffset,y=window.innerHeight;h.forEach(function(b,N){d(b,y+x,g)})};o.default=f},function(r,o,d){function f(y){return y&&y.__esModule?y:{default:y}}Object.defineProperty(o,"__esModule",{value:!0});var h=d(12),g=f(h),x=function(y,b){return y.forEach(function(N,j){N.node.classList.add("aos-init"),N.position=(0,g.default)(N.node,b.offset)}),y};o.default=x},function(r,o,d){function f(y){return y&&y.__esModule?y:{default:y}}Object.defineProperty(o,"__esModule",{value:!0});var h=d(13),g=f(h),x=function(y,b){var N=0,j=0,z=window.innerHeight,E={offset:y.getAttribute("data-aos-offset"),anchor:y.getAttribute("data-aos-anchor"),anchorPlacement:y.getAttribute("data-aos-anchor-placement")};switch(E.offset&&!isNaN(E.offset)&&(j=parseInt(E.offset)),E.anchor&&document.querySelectorAll(E.anchor)&&(y=document.querySelectorAll(E.anchor)[0]),N=(0,g.default)(y).top,E.anchorPlacement){case"top-bottom":break;case"center-bottom":N+=y.offsetHeight/2;break;case"bottom-bottom":N+=y.offsetHeight;break;case"top-center":N+=z/2;break;case"bottom-center":N+=z/2+y.offsetHeight;break;case"center-center":N+=z/2+y.offsetHeight/2;break;case"top-top":N+=z;break;case"bottom-top":N+=y.offsetHeight+z;break;case"center-top":N+=y.offsetHeight/2+z}return E.anchorPlacement||E.offset||isNaN(b)||(j=b),N+j};o.default=x},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var d=function(f){for(var h=0,g=0;f&&!isNaN(f.offsetLeft)&&!isNaN(f.offsetTop);)h+=f.offsetLeft-(f.tagName!="BODY"?f.scrollLeft:0),g+=f.offsetTop-(f.tagName!="BODY"?f.scrollTop:0),f=f.offsetParent;return{top:g,left:h}};o.default=d},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var d=function(f){return f=f||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(f,function(h){return{node:h}})};o.default=d}])})})(Md)),Md.exports}var ZS=US();const Va=sp(ZS);var Zc=e=>e.type==="checkbox",Qs=e=>e instanceof Date,wi=e=>e==null;const p0=e=>typeof e=="object";var Tn=e=>!wi(e)&&!Array.isArray(e)&&p0(e)&&!Qs(e),HS=e=>Tn(e)&&e.target?Zc(e.target)?e.target.checked:e.target.value:e,qS=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,FS=(e,n)=>e.has(qS(n)),VS=e=>{const n=e.constructor&&e.constructor.prototype;return Tn(n)&&n.hasOwnProperty("isPrototypeOf")},yp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(e){let n;const r=Array.isArray(e),o=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(yp&&(e instanceof Blob||o))&&(r||Tn(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!VS(e))n=e;else for(const d in e)e.hasOwnProperty(d)&&(n[d]=Pn(e[d]));else return e;return n}var cf=e=>/^\w*$/.test(e),xn=e=>e===void 0,_p=e=>Array.isArray(e)?e.filter(Boolean):[],xp=e=>_p(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,n,r)=>{if(!n||!Tn(e))return r;const o=(cf(n)?[n]:xp(n)).reduce((d,f)=>wi(d)?d:d[f],e);return xn(o)||o===e?xn(e[n])?r:e[n]:o},Ua=e=>typeof e=="boolean",Yt=(e,n,r)=>{let o=-1;const d=cf(n)?[n]:xp(n),f=d.length,h=f-1;for(;++o<f;){const g=d[o];let x=r;if(o!==h){const y=e[g];x=Tn(y)||Array.isArray(y)?y:isNaN(+d[o+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;e[g]=x,e=e[g]}};const h_={BLUR:"blur",FOCUS_OUT:"focusout"},ma={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IS=kn.createContext(null);IS.displayName="HookFormContext";var GS=(e,n,r,o=!0)=>{const d={defaultValues:n._defaultValues};for(const f in e)Object.defineProperty(d,f,{get:()=>{const h=f;return n._proxyFormState[h]!==ma.all&&(n._proxyFormState[h]=!o||ma.all),e[h]}});return d};const YS=typeof window<"u"?kn.useLayoutEffect:kn.useEffect;var Ri=e=>typeof e=="string",XS=(e,n,r,o,d)=>Ri(e)?(o&&n.watch.add(e),Xe(r,e,d)):Array.isArray(e)?e.map(f=>(o&&n.watch.add(f),Xe(r,f))):(o&&(n.watchAll=!0),r),Hm=e=>wi(e)||!p0(e);function ls(e,n,r=new WeakSet){if(Hm(e)||Hm(n))return Object.is(e,n);if(Qs(e)&&Qs(n))return e.getTime()===n.getTime();const o=Object.keys(e),d=Object.keys(n);if(o.length!==d.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const f of o){const h=e[f];if(!d.includes(f))return!1;if(f!=="ref"){const g=n[f];if(Qs(h)&&Qs(g)||Tn(h)&&Tn(g)||Array.isArray(h)&&Array.isArray(g)?!ls(h,g,r):!Object.is(h,g))return!1}}return!0}var bp=(e,n,r,o,d)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[o]:d||!0}}:{},Ac=e=>Array.isArray(e)?e:[e],m_=()=>{let e=[];return{get observers(){return e},next:d=>{for(const f of e)f.next&&f.next(d)},subscribe:d=>(e.push(d),{unsubscribe:()=>{e=e.filter(f=>f!==d)}}),unsubscribe:()=>{e=[]}}};function g0(e,n){const r={};for(const o in e)if(e.hasOwnProperty(o)){const d=e[o],f=n[o];if(d&&Tn(d)&&f){const h=g0(d,f);Tn(h)&&(r[o]=h)}else e[o]&&(r[o]=f)}return r}var ii=e=>Tn(e)&&!Object.keys(e).length,wp=e=>e.type==="file",pa=e=>typeof e=="function",Fd=e=>{if(!yp)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},v0=e=>e.type==="select-multiple",Np=e=>e.type==="radio",QS=e=>Np(e)||Zc(e),Em=e=>Fd(e)&&e.isConnected;function KS(e,n){const r=n.slice(0,-1).length;let o=0;for(;o<r;)e=xn(e)?o++:e[n[o++]];return e}function JS(e){for(const n in e)if(e.hasOwnProperty(n)&&!xn(e[n]))return!1;return!0}function En(e,n){const r=Array.isArray(n)?n:cf(n)?[n]:xp(n),o=r.length===1?e:KS(e,r),d=r.length-1,f=r[d];return o&&delete o[f],d!==0&&(Tn(o)&&ii(o)||Array.isArray(o)&&JS(o))&&En(e,r.slice(0,-1)),e}var WS=e=>{for(const n in e)if(pa(e[n]))return!0;return!1};function y0(e){return Array.isArray(e)||Tn(e)&&!WS(e)}function qm(e,n={}){for(const r in e){const o=e[r];y0(o)?(n[r]=Array.isArray(o)?[]:{},qm(o,n[r])):xn(o)||(n[r]=!0)}return n}function el(e,n,r){r||(r=qm(n));for(const o in e){const d=e[o];if(y0(d))xn(n)||Hm(r[o])?r[o]=qm(d,Array.isArray(d)?[]:{}):el(d,wi(n)?{}:n[o],r[o]);else{const f=n[o];r[o]=!ls(d,f)}}return r}const p_={value:!1,isValid:!1},g_={value:!0,isValid:!0};var _0=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!xn(e[0].attributes.value)?xn(e[0].value)||e[0].value===""?g_:{value:e[0].value,isValid:!0}:g_:p_}return p_},x0=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:o})=>xn(e)?e:n?e===""?NaN:e&&+e:r&&Ri(e)?new Date(e):o?o(e):e;const v_={isValid:!1,value:null};var b0=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,v_):v_;function y_(e){const n=e.ref;return wp(n)?n.files:Np(n)?b0(e.refs).value:v0(n)?[...n.selectedOptions].map(({value:r})=>r):Zc(n)?_0(e.refs).value:x0(xn(n.value)?e.ref.value:n.value,e)}var e3=(e,n,r,o)=>{const d={};for(const f of e){const h=Xe(n,f);h&&Yt(d,f,h._f)}return{criteriaMode:r,names:[...e],fields:d,shouldUseNativeValidation:o}},Vd=e=>e instanceof RegExp,vc=e=>xn(e)?e:Vd(e)?e.source:Tn(e)?Vd(e.value)?e.value.source:e.value:e,__=e=>({isOnSubmit:!e||e===ma.onSubmit,isOnBlur:e===ma.onBlur,isOnChange:e===ma.onChange,isOnAll:e===ma.all,isOnTouch:e===ma.onTouched});const x_="AsyncFunction";var t3=e=>!!e&&!!e.validate&&!!(pa(e.validate)&&e.validate.constructor.name===x_||Tn(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===x_)),n3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),b_=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length))));const Ec=(e,n,r,o)=>{for(const d of r||Object.keys(e)){const f=Xe(e,d);if(f){const{_f:h,...g}=f;if(h){if(h.refs&&h.refs[0]&&n(h.refs[0],d)&&!o)return!0;if(h.ref&&n(h.ref,h.name)&&!o)return!0;if(Ec(g,n))break}else if(Tn(g)&&Ec(g,n))break}}};function w_(e,n,r){const o=Xe(e,r);if(o||cf(r))return{error:o,name:r};const d=r.split(".");for(;d.length;){const f=d.join("."),h=Xe(n,f),g=Xe(e,f);if(h&&!Array.isArray(h)&&r!==f)return{name:r};if(g&&g.type)return{name:f,error:g};if(g&&g.root&&g.root.type)return{name:`${f}.root`,error:g.root};d.pop()}return{name:r}}var i3=(e,n,r,o)=>{r(e);const{name:d,...f}=e;return ii(f)||Object.keys(f).length>=Object.keys(n).length||Object.keys(f).find(h=>n[h]===(!o||ma.all))},a3=(e,n,r)=>!e||!n||e===n||Ac(e).some(o=>o&&(r?o===n:o.startsWith(n)||n.startsWith(o))),r3=(e,n,r,o,d)=>d.isOnAll?!1:!r&&d.isOnTouch?!(n||e):(r?o.isOnBlur:d.isOnBlur)?!e:(r?o.isOnChange:d.isOnChange)?e:!0,s3=(e,n)=>!_p(Xe(e,n)).length&&En(e,n),o3=(e,n,r)=>{const o=Ac(Xe(e,r));return Yt(o,"root",n[r]),Yt(e,r,o),e};function N_(e,n,r="validate"){if(Ri(e)||Array.isArray(e)&&e.every(Ri)||Ua(e)&&!e)return{type:r,message:Ri(e)?e:"",ref:n}}var Jo=e=>Tn(e)&&!Vd(e)?e:{value:e,message:""},S_=async(e,n,r,o,d,f)=>{const{ref:h,refs:g,required:x,maxLength:y,minLength:b,min:N,max:j,pattern:z,validate:E,name:T,valueAsNumber:A,mount:R}=e._f,U=Xe(r,T);if(!R||n.has(T))return{};const H=g?g[0]:h,P=te=>{d&&H.reportValidity&&(H.setCustomValidity(Ua(te)?"":te||""),H.reportValidity())},I={},Z=Np(h),J=Zc(h),F=Z||J,de=(A||wp(h))&&xn(h.value)&&xn(U)||Fd(h)&&h.value===""||U===""||Array.isArray(U)&&!U.length,ve=bp.bind(null,T,o,I),ge=(te,se,B,me=mr.maxLength,D=mr.minLength)=>{const oe=te?se:B;I[T]={type:te?me:D,message:oe,ref:h,...ve(te?me:D,oe)}};if(f?!Array.isArray(U)||!U.length:x&&(!F&&(de||wi(U))||Ua(U)&&!U||J&&!_0(g).isValid||Z&&!b0(g).isValid)){const{value:te,message:se}=Ri(x)?{value:!!x,message:x}:Jo(x);if(te&&(I[T]={type:mr.required,message:se,ref:H,...ve(mr.required,se)},!o))return P(se),I}if(!de&&(!wi(N)||!wi(j))){let te,se;const B=Jo(j),me=Jo(N);if(!wi(U)&&!isNaN(U)){const D=h.valueAsNumber||U&&+U;wi(B.value)||(te=D>B.value),wi(me.value)||(se=D<me.value)}else{const D=h.valueAsDate||new Date(U),oe=ce=>new Date(new Date().toDateString()+" "+ce),le=h.type=="time",Ae=h.type=="week";Ri(B.value)&&U&&(te=le?oe(U)>oe(B.value):Ae?U>B.value:D>new Date(B.value)),Ri(me.value)&&U&&(se=le?oe(U)<oe(me.value):Ae?U<me.value:D<new Date(me.value))}if((te||se)&&(ge(!!te,B.message,me.message,mr.max,mr.min),!o))return P(I[T].message),I}if((y||b)&&!de&&(Ri(U)||f&&Array.isArray(U))){const te=Jo(y),se=Jo(b),B=!wi(te.value)&&U.length>+te.value,me=!wi(se.value)&&U.length<+se.value;if((B||me)&&(ge(B,te.message,se.message),!o))return P(I[T].message),I}if(z&&!de&&Ri(U)){const{value:te,message:se}=Jo(z);if(Vd(te)&&!U.match(te)&&(I[T]={type:mr.pattern,message:se,ref:h,...ve(mr.pattern,se)},!o))return P(se),I}if(E){if(pa(E)){const te=await E(U,r),se=N_(te,H);if(se&&(I[T]={...se,...ve(mr.validate,se.message)},!o))return P(se.message),I}else if(Tn(E)){let te={};for(const se in E){if(!ii(te)&&!o)break;const B=N_(await E[se](U,r),H,se);B&&(te={...B,...ve(se,B.message)},P(B.message),o&&(I[T]=te))}if(!ii(te)&&(I[T]={ref:H,...te},!o))return I}}return P(!0),I};const l3={mode:ma.onSubmit,reValidateMode:ma.onChange,shouldFocusError:!0};function c3(e={}){let n={...l3,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pa(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},o={},d=Tn(n.defaultValues)||Tn(n.values)?Pn(n.defaultValues||n.values)||{}:{},f=n.shouldUnregister?{}:Pn(d),h={action:!1,mount:!1,watch:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,y=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let N={...b};const j={array:m_(),state:m_()},z=n.criteriaMode===ma.all,E=O=>K=>{clearTimeout(y),y=setTimeout(O,K)},T=async O=>{if(!n.disabled&&(b.isValid||N.isValid||O)){const K=n.resolver?ii((await J()).errors):await de(o,!0);K!==r.isValid&&j.state.next({isValid:K})}},A=(O,K)=>{!n.disabled&&(b.isValidating||b.validatingFields||N.isValidating||N.validatingFields)&&((O||Array.from(g.mount)).forEach(ee=>{ee&&(K?Yt(r.validatingFields,ee,K):En(r.validatingFields,ee))}),j.state.next({validatingFields:r.validatingFields,isValidating:!ii(r.validatingFields)}))},R=(O,K=[],ee,pe,V=!0,re=!0)=>{if(pe&&ee&&!n.disabled){if(h.action=!0,re&&Array.isArray(Xe(o,O))){const _e=ee(Xe(o,O),pe.argA,pe.argB);V&&Yt(o,O,_e)}if(re&&Array.isArray(Xe(r.errors,O))){const _e=ee(Xe(r.errors,O),pe.argA,pe.argB);V&&Yt(r.errors,O,_e),s3(r.errors,O)}if((b.touchedFields||N.touchedFields)&&re&&Array.isArray(Xe(r.touchedFields,O))){const _e=ee(Xe(r.touchedFields,O),pe.argA,pe.argB);V&&Yt(r.touchedFields,O,_e)}(b.dirtyFields||N.dirtyFields)&&(r.dirtyFields=el(d,f)),j.state.next({name:O,isDirty:ge(O,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Yt(f,O,K)},U=(O,K)=>{Yt(r.errors,O,K),j.state.next({errors:r.errors})},H=O=>{r.errors=O,j.state.next({errors:r.errors,isValid:!1})},P=(O,K,ee,pe)=>{const V=Xe(o,O);if(V){const re=Xe(f,O,xn(ee)?Xe(d,O):ee);xn(re)||pe&&pe.defaultChecked||K?Yt(f,O,K?re:y_(V._f)):B(O,re),h.mount&&!h.action&&T()}},I=(O,K,ee,pe,V)=>{let re=!1,_e=!1;const q={name:O};if(!n.disabled){if(!ee||pe){(b.isDirty||N.isDirty)&&(_e=r.isDirty,r.isDirty=q.isDirty=ge(),re=_e!==q.isDirty);const fe=ls(Xe(d,O),K);_e=!!Xe(r.dirtyFields,O),fe?En(r.dirtyFields,O):Yt(r.dirtyFields,O,!0),q.dirtyFields=r.dirtyFields,re=re||(b.dirtyFields||N.dirtyFields)&&_e!==!fe}if(ee){const fe=Xe(r.touchedFields,O);fe||(Yt(r.touchedFields,O,ee),q.touchedFields=r.touchedFields,re=re||(b.touchedFields||N.touchedFields)&&fe!==ee)}re&&V&&j.state.next(q)}return re?q:{}},Z=(O,K,ee,pe)=>{const V=Xe(r.errors,O),re=(b.isValid||N.isValid)&&Ua(K)&&r.isValid!==K;if(n.delayError&&ee?(x=E(()=>U(O,ee)),x(n.delayError)):(clearTimeout(y),x=null,ee?Yt(r.errors,O,ee):En(r.errors,O)),(ee?!ls(V,ee):V)||!ii(pe)||re){const _e={...pe,...re&&Ua(K)?{isValid:K}:{},errors:r.errors,name:O};r={...r,..._e},j.state.next(_e)}},J=async O=>{A(O,!0);const K=await n.resolver(f,n.context,e3(O||g.mount,o,n.criteriaMode,n.shouldUseNativeValidation));return A(O),K},F=async O=>{const{errors:K}=await J(O);if(O)for(const ee of O){const pe=Xe(K,ee);pe?Yt(r.errors,ee,pe):En(r.errors,ee)}else r.errors=K;return K},de=async(O,K,ee={valid:!0})=>{for(const pe in O){const V=O[pe];if(V){const{_f:re,..._e}=V;if(re){const q=g.array.has(re.name),fe=V._f&&t3(V._f);fe&&b.validatingFields&&A([re.name],!0);const Ze=await S_(V,g.disabled,f,z,n.shouldUseNativeValidation&&!K,q);if(fe&&b.validatingFields&&A([re.name]),Ze[re.name]&&(ee.valid=!1,K))break;!K&&(Xe(Ze,re.name)?q?o3(r.errors,Ze,re.name):Yt(r.errors,re.name,Ze[re.name]):En(r.errors,re.name))}!ii(_e)&&await de(_e,K,ee)}}return ee.valid},ve=()=>{for(const O of g.unMount){const K=Xe(o,O);K&&(K._f.refs?K._f.refs.every(ee=>!Em(ee)):!Em(K._f.ref))&&Le(O)}g.unMount=new Set},ge=(O,K)=>!n.disabled&&(O&&K&&Yt(f,O,K),!ls(ce(),d)),te=(O,K,ee)=>XS(O,g,{...h.mount?f:xn(K)?d:Ri(O)?{[O]:K}:K},ee,K),se=O=>_p(Xe(h.mount?f:d,O,n.shouldUnregister?Xe(d,O,[]):[])),B=(O,K,ee={})=>{const pe=Xe(o,O);let V=K;if(pe){const re=pe._f;re&&(!re.disabled&&Yt(f,O,x0(K,re)),V=Fd(re.ref)&&wi(K)?"":K,v0(re.ref)?[...re.ref.options].forEach(_e=>_e.selected=V.includes(_e.value)):re.refs?Zc(re.ref)?re.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(V)?_e.checked=!!V.find(q=>q===_e.value):_e.checked=V===_e.value||!!V)}):re.refs.forEach(_e=>_e.checked=_e.value===V):wp(re.ref)?re.ref.value="":(re.ref.value=V,re.ref.type||j.state.next({name:O,values:Pn(f)})))}(ee.shouldDirty||ee.shouldTouch)&&I(O,V,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Ae(O)},me=(O,K,ee)=>{for(const pe in K){if(!K.hasOwnProperty(pe))return;const V=K[pe],re=O+"."+pe,_e=Xe(o,re);(g.array.has(O)||Tn(V)||_e&&!_e._f)&&!Qs(V)?me(re,V,ee):B(re,V,ee)}},D=(O,K,ee={})=>{const pe=Xe(o,O),V=g.array.has(O),re=Pn(K);Yt(f,O,re),V?(j.array.next({name:O,values:Pn(f)}),(b.isDirty||b.dirtyFields||N.isDirty||N.dirtyFields)&&ee.shouldDirty&&j.state.next({name:O,dirtyFields:el(d,f),isDirty:ge(O,re)})):pe&&!pe._f&&!wi(re)?me(O,re,ee):B(O,re,ee),b_(O,g)&&j.state.next({...r,name:O}),j.state.next({name:h.mount?O:void 0,values:Pn(f)})},oe=async O=>{h.mount=!0;const K=O.target;let ee=K.name,pe=!0;const V=Xe(o,ee),re=fe=>{pe=Number.isNaN(fe)||Qs(fe)&&isNaN(fe.getTime())||ls(fe,Xe(f,ee,fe))},_e=__(n.mode),q=__(n.reValidateMode);if(V){let fe,Ze;const ut=K.type?y_(V._f):HS(O),et=O.type===h_.BLUR||O.type===h_.FOCUS_OUT,Ct=!n3(V._f)&&!n.resolver&&!Xe(r.errors,ee)&&!V._f.deps||r3(et,Xe(r.touchedFields,ee),r.isSubmitted,q,_e),tn=b_(ee,g,et);Yt(f,ee,ut),et?(!K||!K.readOnly)&&(V._f.onBlur&&V._f.onBlur(O),x&&x(0)):V._f.onChange&&V._f.onChange(O);const St=I(ee,ut,et),Kt=!ii(St)||tn;if(!et&&j.state.next({name:ee,type:O.type,values:Pn(f)}),Ct)return(b.isValid||N.isValid)&&(n.mode==="onBlur"?et&&T():et||T()),Kt&&j.state.next({name:ee,...tn?{}:St});if(!et&&tn&&j.state.next({...r}),n.resolver){const{errors:$e}=await J([ee]);if(re(ut),pe){const Fe=w_(r.errors,o,ee),at=w_($e,o,Fe.name||ee);fe=at.error,ee=at.name,Ze=ii($e)}}else A([ee],!0),fe=(await S_(V,g.disabled,f,z,n.shouldUseNativeValidation))[ee],A([ee]),re(ut),pe&&(fe?Ze=!1:(b.isValid||N.isValid)&&(Ze=await de(o,!0)));pe&&(V._f.deps&&(!Array.isArray(V._f.deps)||V._f.deps.length>0)&&Ae(V._f.deps),Z(ee,Ze,fe,St))}},le=(O,K)=>{if(Xe(r.errors,K)&&O.focus)return O.focus(),1},Ae=async(O,K={})=>{let ee,pe;const V=Ac(O);if(n.resolver){const re=await F(xn(O)?O:V);ee=ii(re),pe=O?!V.some(_e=>Xe(re,_e)):ee}else O?(pe=(await Promise.all(V.map(async re=>{const _e=Xe(o,re);return await de(_e&&_e._f?{[re]:_e}:_e)}))).every(Boolean),!(!pe&&!r.isValid)&&T()):pe=ee=await de(o);return j.state.next({...!Ri(O)||(b.isValid||N.isValid)&&ee!==r.isValid?{}:{name:O},...n.resolver||!O?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!pe&&Ec(o,le,O?V:g.mount),pe},ce=(O,K)=>{let ee={...h.mount?f:d};return K&&(ee=g0(K.dirtyFields?r.dirtyFields:r.touchedFields,ee)),xn(O)?ee:Ri(O)?Xe(ee,O):O.map(pe=>Xe(ee,pe))},$=(O,K)=>({invalid:!!Xe((K||r).errors,O),isDirty:!!Xe((K||r).dirtyFields,O),error:Xe((K||r).errors,O),isValidating:!!Xe(r.validatingFields,O),isTouched:!!Xe((K||r).touchedFields,O)}),ae=O=>{O&&Ac(O).forEach(K=>En(r.errors,K)),j.state.next({errors:O?r.errors:{}})},Q=(O,K,ee)=>{const pe=(Xe(o,O,{_f:{}})._f||{}).ref,V=Xe(r.errors,O)||{},{ref:re,message:_e,type:q,...fe}=V;Yt(r.errors,O,{...fe,...K,ref:pe}),j.state.next({name:O,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&pe&&pe.focus&&pe.focus()},W=(O,K)=>pa(O)?j.state.subscribe({next:ee=>"values"in ee&&O(te(void 0,K),ee)}):te(O,K,!0),Ne=O=>j.state.subscribe({next:K=>{a3(O.name,K.name,O.exact)&&i3(K,O.formState||b,Tt,O.reRenderRoot)&&O.callback({values:{...f},...r,...K,defaultValues:d})}}).unsubscribe,Me=O=>(h.mount=!0,N={...N,...O.formState},Ne({...O,formState:N})),Le=(O,K={})=>{for(const ee of O?Ac(O):g.mount)g.mount.delete(ee),g.array.delete(ee),K.keepValue||(En(o,ee),En(f,ee)),!K.keepError&&En(r.errors,ee),!K.keepDirty&&En(r.dirtyFields,ee),!K.keepTouched&&En(r.touchedFields,ee),!K.keepIsValidating&&En(r.validatingFields,ee),!n.shouldUnregister&&!K.keepDefaultValue&&En(d,ee);j.state.next({values:Pn(f)}),j.state.next({...r,...K.keepDirty?{isDirty:ge()}:{}}),!K.keepIsValid&&T()},Y=({disabled:O,name:K})=>{(Ua(O)&&h.mount||O||g.disabled.has(K))&&(O?g.disabled.add(K):g.disabled.delete(K))},we=(O,K={})=>{let ee=Xe(o,O);const pe=Ua(K.disabled)||Ua(n.disabled);return Yt(o,O,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:O}},name:O,mount:!0,...K}}),g.mount.add(O),ee?Y({disabled:Ua(K.disabled)?K.disabled:n.disabled,name:O}):P(O,!0,K.value),{...pe?{disabled:K.disabled||n.disabled}:{},...n.progressive?{required:!!K.required,min:vc(K.min),max:vc(K.max),minLength:vc(K.minLength),maxLength:vc(K.maxLength),pattern:vc(K.pattern)}:{},name:O,onChange:oe,onBlur:oe,ref:V=>{if(V){we(O,K),ee=Xe(o,O);const re=xn(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,_e=QS(re),q=ee._f.refs||[];if(_e?q.find(fe=>fe===re):re===ee._f.ref)return;Yt(o,O,{_f:{...ee._f,..._e?{refs:[...q.filter(Em),re,...Array.isArray(Xe(d,O))?[{}]:[]],ref:{type:re.type,name:O}}:{ref:re}}}),P(O,!1,void 0,re)}else ee=Xe(o,O,{}),ee._f&&(ee._f.mount=!1),(n.shouldUnregister||K.shouldUnregister)&&!(FS(g.array,O)&&h.action)&&g.unMount.add(O)}}},De=()=>n.shouldFocusError&&Ec(o,le,g.mount),He=O=>{Ua(O)&&(j.state.next({disabled:O}),Ec(o,(K,ee)=>{const pe=Xe(o,ee);pe&&(K.disabled=pe._f.disabled||O,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(V=>{V.disabled=pe._f.disabled||O}))},0,!1))},st=(O,K)=>async ee=>{let pe;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let V=Pn(f);if(j.state.next({isSubmitting:!0}),n.resolver){const{errors:re,values:_e}=await J();r.errors=re,V=Pn(_e)}else await de(o);if(g.disabled.size)for(const re of g.disabled)En(V,re);if(En(r.errors,"root"),ii(r.errors)){j.state.next({errors:{}});try{await O(V,ee)}catch(re){pe=re}}else K&&await K({...r.errors},ee),De(),setTimeout(De);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ii(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},it=(O,K={})=>{Xe(o,O)&&(xn(K.defaultValue)?D(O,Pn(Xe(d,O))):(D(O,K.defaultValue),Yt(d,O,Pn(K.defaultValue))),K.keepTouched||En(r.touchedFields,O),K.keepDirty||(En(r.dirtyFields,O),r.isDirty=K.defaultValue?ge(O,Pn(Xe(d,O))):ge()),K.keepError||(En(r.errors,O),b.isValid&&T()),j.state.next({...r}))},Ve=(O,K={})=>{const ee=O?Pn(O):d,pe=Pn(ee),V=ii(O),re=V?d:pe;if(K.keepDefaultValues||(d=ee),!K.keepValues){if(K.keepDirtyValues){const _e=new Set([...g.mount,...Object.keys(el(d,f))]);for(const q of Array.from(_e))Xe(r.dirtyFields,q)?Yt(re,q,Xe(f,q)):D(q,Xe(re,q))}else{if(yp&&xn(O))for(const _e of g.mount){const q=Xe(o,_e);if(q&&q._f){const fe=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(Fd(fe)){const Ze=fe.closest("form");if(Ze){Ze.reset();break}}}}if(K.keepFieldsRef)for(const _e of g.mount)D(_e,Xe(re,_e));else o={}}f=n.shouldUnregister?K.keepDefaultValues?Pn(d):{}:Pn(re),j.array.next({values:{...re}}),j.state.next({values:{...re}})}g={mount:K.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!b.isValid||!!K.keepIsValid||!!K.keepDirtyValues||!n.shouldUnregister&&!ii(re),h.watch=!!n.shouldUnregister,h.action=!1,K.keepErrors||(r.errors={}),j.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:V?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!ls(O,d)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:V?{}:K.keepDirtyValues?K.keepDefaultValues&&f?el(d,f):r.dirtyFields:K.keepDefaultValues&&O?el(d,O):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:d})},tt=(O,K)=>Ve(pa(O)?O(f):O,K),Rt=(O,K={})=>{const ee=Xe(o,O),pe=ee&&ee._f;if(pe){const V=pe.refs?pe.refs[0]:pe.ref;V.focus&&(V.focus(),K.shouldSelect&&pa(V.select)&&V.select())}},Tt=O=>{r={...r,...O}},Te={control:{register:we,unregister:Le,getFieldState:$,handleSubmit:st,setError:Q,_subscribe:Ne,_runSchema:J,_focusError:De,_getWatch:te,_getDirty:ge,_setValid:T,_setFieldArray:R,_setDisabledField:Y,_setErrors:H,_getFieldArray:se,_reset:Ve,_resetDefaultValues:()=>pa(n.defaultValues)&&n.defaultValues().then(O=>{tt(O,n.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:He,_subjects:j,_proxyFormState:b,get _fields(){return o},get _formValues(){return f},get _state(){return h},set _state(O){h=O},get _defaultValues(){return d},get _names(){return g},set _names(O){g=O},get _formState(){return r},get _options(){return n},set _options(O){n={...n,...O}}},subscribe:Me,trigger:Ae,register:we,handleSubmit:st,watch:W,setValue:D,getValues:ce,reset:tt,resetField:it,clearErrors:ae,unregister:Le,setError:Q,setFocus:Rt,getFieldState:$};return{...Te,formControl:Te}}function u3(e={}){const n=kn.useRef(void 0),r=kn.useRef(void 0),[o,d]=kn.useState({isDirty:!1,isValidating:!1,isLoading:pa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pa(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:o},e.defaultValues&&!pa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:h,...g}=c3(e);n.current={...g,formState:o}}const f=n.current.control;return f._options=e,YS(()=>{const h=f._subscribe({formState:f._proxyFormState,callback:()=>d({...f._formState}),reRenderRoot:!0});return d(g=>({...g,isReady:!0})),f._formState.isReady=!0,h},[f]),kn.useEffect(()=>f._disableForm(e.disabled),[f,e.disabled]),kn.useEffect(()=>{e.mode&&(f._options.mode=e.mode),e.reValidateMode&&(f._options.reValidateMode=e.reValidateMode)},[f,e.mode,e.reValidateMode]),kn.useEffect(()=>{e.errors&&(f._setErrors(e.errors),f._focusError())},[f,e.errors]),kn.useEffect(()=>{e.shouldUnregister&&f._subjects.state.next({values:f._getWatch()})},[f,e.shouldUnregister]),kn.useEffect(()=>{if(f._proxyFormState.isDirty){const h=f._getDirty();h!==o.isDirty&&f._subjects.state.next({isDirty:h})}},[f,o.isDirty]),kn.useEffect(()=>{var h;e.values&&!ls(e.values,r.current)?(f._reset(e.values,{keepFieldsRef:!0,...f._options.resetOptions}),!((h=f._options.resetOptions)===null||h===void 0)&&h.keepIsValid||f._setValid(),r.current=e.values,d(g=>({...g}))):f._resetDefaultValues()},[f,e.values]),kn.useEffect(()=>{f._state.mount||(f._setValid(),f._state.mount=!0),f._state.watch&&(f._state.watch=!1,f._subjects.state.next({...f._formState})),f._removeUnmounted()}),n.current.formState=GS(o,f),n.current}const j_=(e,n,r)=>{if(e&&"reportValidity"in e){const o=Xe(r,n);e.setCustomValidity(o&&o.message||""),e.reportValidity()}},Fm=(e,n)=>{for(const r in n.fields){const o=n.fields[r];o&&o.ref&&"reportValidity"in o.ref?j_(o.ref,r,e):o&&o.refs&&o.refs.forEach(d=>j_(d,r,e))}},A_=(e,n)=>{n.shouldUseNativeValidation&&Fm(e,n);const r={};for(const o in e){const d=Xe(n.fields,o),f=Object.assign(e[o]||{},{ref:d&&d.ref});if(d3(n.names||Object.keys(e),o)){const h=Object.assign({},Xe(r,o));Yt(h,"root",f),Yt(r,o,h)}else Yt(r,o,f)}return r},d3=(e,n)=>{const r=E_(n);return e.some(o=>E_(o).match(`^${r}\\.\\d+`))};function E_(e){return e.replace(/\]|\[/g,"")}function Pe(e,n,r){function o(g,x){if(g._zod||Object.defineProperty(g,"_zod",{value:{def:x,constr:h,traits:new Set},enumerable:!1}),g._zod.traits.has(e))return;g._zod.traits.add(e),n(g,x);const y=h.prototype,b=Object.keys(y);for(let N=0;N<b.length;N++){const j=b[N];j in g||(g[j]=y[j].bind(g))}}const d=r?.Parent??Object;class f extends d{}Object.defineProperty(f,"name",{value:e});function h(g){var x;const y=r?.Parent?new f:this;o(y,g),(x=y._zod).deferred??(x.deferred=[]);for(const b of y._zod.deferred)b();return y}return Object.defineProperty(h,"init",{value:o}),Object.defineProperty(h,Symbol.hasInstance,{value:g=>r?.Parent&&g instanceof r.Parent?!0:g?._zod?.traits?.has(e)}),Object.defineProperty(h,"name",{value:e}),h}class al extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class w0 extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const N0={};function to(e){return N0}function f3(e){const n=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,d])=>n.indexOf(+o)===-1).map(([o,d])=>d)}function Vm(e,n){return typeof n=="bigint"?n.toString():n}function Sp(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function jp(e){return e==null}function Ap(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}const k_=Symbol("evaluating");function Qt(e,n,r){let o;Object.defineProperty(e,n,{get(){if(o!==k_)return o===void 0&&(o=k_,o=r()),o},set(d){Object.defineProperty(e,n,{value:d})},configurable:!0})}function so(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function oo(...e){const n={};for(const r of e){const o=Object.getOwnPropertyDescriptors(r);Object.assign(n,o)}return Object.defineProperties({},n)}function T_(e){return JSON.stringify(e)}function h3(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const S0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Id(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const m3=Sp(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Cc(e){if(Id(e)===!1)return!1;const n=e.constructor;if(n===void 0||typeof n!="function")return!0;const r=n.prototype;return!(Id(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function j0(e){return Cc(e)?{...e}:Array.isArray(e)?[...e]:e}const p3=new Set(["string","number","symbol"]);function uf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function hs(e,n,r){const o=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(o._zod.parent=e),o}function ot(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function g3(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}function v3(e,n){const r=e._zod.def,o=oo(e._zod.def,{get shape(){const d={};for(const f in n){if(!(f in r.shape))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(d[f]=r.shape[f])}return so(this,"shape",d),d},checks:[]});return hs(e,o)}function y3(e,n){const r=e._zod.def,o=oo(e._zod.def,{get shape(){const d={...e._zod.def.shape};for(const f in n){if(!(f in r.shape))throw new Error(`Unrecognized key: "${f}"`);n[f]&&delete d[f]}return so(this,"shape",d),d},checks:[]});return hs(e,o)}function _3(e,n){if(!Cc(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const d=oo(e._zod.def,{get shape(){const f={...e._zod.def.shape,...n};return so(this,"shape",f),f},checks:[]});return hs(e,d)}function x3(e,n){if(!Cc(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const o={...e._zod.def.shape,...n};return so(this,"shape",o),o},checks:e._zod.def.checks};return hs(e,r)}function b3(e,n){const r=oo(e._zod.def,{get shape(){const o={...e._zod.def.shape,...n._zod.def.shape};return so(this,"shape",o),o},get catchall(){return n._zod.def.catchall},checks:[]});return hs(e,r)}function w3(e,n,r){const o=oo(n._zod.def,{get shape(){const d=n._zod.def.shape,f={...d};if(r)for(const h in r){if(!(h in d))throw new Error(`Unrecognized key: "${h}"`);r[h]&&(f[h]=e?new e({type:"optional",innerType:d[h]}):d[h])}else for(const h in d)f[h]=e?new e({type:"optional",innerType:d[h]}):d[h];return so(this,"shape",f),f},checks:[]});return hs(n,o)}function N3(e,n,r){const o=oo(n._zod.def,{get shape(){const d=n._zod.def.shape,f={...d};if(r)for(const h in r){if(!(h in f))throw new Error(`Unrecognized key: "${h}"`);r[h]&&(f[h]=new e({type:"nonoptional",innerType:d[h]}))}else for(const h in d)f[h]=new e({type:"nonoptional",innerType:d[h]});return so(this,"shape",f),f},checks:[]});return hs(n,o)}function nl(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function A0(e,n){return n.map(r=>{var o;return(o=r).path??(o.path=[]),r.path.unshift(e),r})}function vd(e){return typeof e=="string"?e:e?.message}function no(e,n,r){const o={...e,path:e.path??[]};if(!e.message){const d=vd(e.inst?._zod.def?.error?.(e))??vd(n?.error?.(e))??vd(r.customError?.(e))??vd(r.localeError?.(e))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,n?.reportInput||delete o.input,o}function Ep(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function zc(...e){const[n,r,o]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:o}:{...n}}const E0=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Vm,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},kp=Pe("$ZodError",E0),df=Pe("$ZodError",E0,{Parent:Error});function S3(e,n=r=>r.message){const r={},o=[];for(const d of e.issues)d.path.length>0?(r[d.path[0]]=r[d.path[0]]||[],r[d.path[0]].push(n(d))):o.push(n(d));return{formErrors:o,fieldErrors:r}}function j3(e,n=r=>r.message){const r={_errors:[]},o=d=>{for(const f of d.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(h=>o({issues:h}));else if(f.code==="invalid_key")o({issues:f.issues});else if(f.code==="invalid_element")o({issues:f.issues});else if(f.path.length===0)r._errors.push(n(f));else{let h=r,g=0;for(;g<f.path.length;){const x=f.path[g];g===f.path.length-1?(h[x]=h[x]||{_errors:[]},h[x]._errors.push(n(f))):h[x]=h[x]||{_errors:[]},h=h[x],g++}}};return o(e),r}const ff=e=>(n,r,o,d)=>{const f=o?Object.assign(o,{async:!1}):{async:!1},h=n._zod.run({value:r,issues:[]},f);if(h instanceof Promise)throw new al;if(h.issues.length){const g=new(d?.Err??e)(h.issues.map(x=>no(x,f,to())));throw S0(g,d?.callee),g}return h.value},A3=ff(df),hf=e=>async(n,r,o,d)=>{const f=o?Object.assign(o,{async:!0}):{async:!0};let h=n._zod.run({value:r,issues:[]},f);if(h instanceof Promise&&(h=await h),h.issues.length){const g=new(d?.Err??e)(h.issues.map(x=>no(x,f,to())));throw S0(g,d?.callee),g}return h.value},E3=hf(df),mf=e=>(n,r,o)=>{const d=o?{...o,async:!1}:{async:!1},f=n._zod.run({value:r,issues:[]},d);if(f instanceof Promise)throw new al;return f.issues.length?{success:!1,error:new(e??kp)(f.issues.map(h=>no(h,d,to())))}:{success:!0,data:f.value}},k3=mf(df),pf=e=>async(n,r,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let f=n._zod.run({value:r,issues:[]},d);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new e(f.issues.map(h=>no(h,d,to())))}:{success:!0,data:f.value}},T3=pf(df),C3=e=>(n,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ff(e)(n,r,d)},z3=e=>(n,r,o)=>ff(e)(n,r,o),M3=e=>async(n,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return hf(e)(n,r,d)},L3=e=>async(n,r,o)=>hf(e)(n,r,o),O3=e=>(n,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return mf(e)(n,r,d)},R3=e=>(n,r,o)=>mf(e)(n,r,o),D3=e=>async(n,r,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return pf(e)(n,r,d)},$3=e=>async(n,r,o)=>pf(e)(n,r,o),P3=/^[cC][^\s-]{8,}$/,B3=/^[0-9a-z]+$/,U3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Z3=/^[0-9a-vA-V]{20}$/,H3=/^[A-Za-z0-9]{27}$/,q3=/^[a-zA-Z0-9_-]{21}$/,F3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,V3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,C_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,I3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,G3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Y3(){return new RegExp(G3,"u")}const X3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Q3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,K3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,J3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,k0=/^[A-Za-z0-9_-]*$/,ej=/^\+(?:[0-9]){6,14}[0-9]$/,T0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",tj=new RegExp(`^${T0}$`);function C0(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function nj(e){return new RegExp(`^${C0(e)}$`)}function ij(e){const n=C0({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${n}(?:${r.join("|")})`;return new RegExp(`^${T0}T(?:${o})$`)}const aj=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},rj=/^[^A-Z]*$/,sj=/^[^a-z]*$/,Ia=Pe("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),oj=Pe("$ZodCheckMaxLength",(e,n)=>{var r;Ia.init(e,n),(r=e._zod.def).when??(r.when=o=>{const d=o.value;return!jp(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<d&&(o._zod.bag.maximum=n.maximum)}),e._zod.check=o=>{const d=o.value;if(d.length<=n.maximum)return;const h=Ep(d);o.issues.push({origin:h,code:"too_big",maximum:n.maximum,inclusive:!0,input:d,inst:e,continue:!n.abort})}}),lj=Pe("$ZodCheckMinLength",(e,n)=>{var r;Ia.init(e,n),(r=e._zod.def).when??(r.when=o=>{const d=o.value;return!jp(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>d&&(o._zod.bag.minimum=n.minimum)}),e._zod.check=o=>{const d=o.value;if(d.length>=n.minimum)return;const h=Ep(d);o.issues.push({origin:h,code:"too_small",minimum:n.minimum,inclusive:!0,input:d,inst:e,continue:!n.abort})}}),cj=Pe("$ZodCheckLengthEquals",(e,n)=>{var r;Ia.init(e,n),(r=e._zod.def).when??(r.when=o=>{const d=o.value;return!jp(d)&&d.length!==void 0}),e._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=n.length,d.maximum=n.length,d.length=n.length}),e._zod.check=o=>{const d=o.value,f=d.length;if(f===n.length)return;const h=Ep(d),g=f>n.length;o.issues.push({origin:h,...g?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!n.abort})}}),gf=Pe("$ZodCheckStringFormat",(e,n)=>{var r,o;Ia.init(e,n),e._zod.onattach.push(d=>{const f=d._zod.bag;f.format=n.format,n.pattern&&(f.patterns??(f.patterns=new Set),f.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=d=>{n.pattern.lastIndex=0,!n.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:n.format,input:d.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(o=e._zod).check??(o.check=()=>{})}),uj=Pe("$ZodCheckRegex",(e,n)=>{gf.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),dj=Pe("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=rj),gf.init(e,n)}),fj=Pe("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=sj),gf.init(e,n)}),hj=Pe("$ZodCheckIncludes",(e,n)=>{Ia.init(e,n);const r=uf(n.includes),o=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=o,e._zod.onattach.push(d=>{const f=d._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(o)}),e._zod.check=d=>{d.value.includes(n.includes,n.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:d.value,inst:e,continue:!n.abort})}}),mj=Pe("$ZodCheckStartsWith",(e,n)=>{Ia.init(e,n);const r=new RegExp(`^${uf(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(r)}),e._zod.check=o=>{o.value.startsWith(n.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:o.value,inst:e,continue:!n.abort})}}),pj=Pe("$ZodCheckEndsWith",(e,n)=>{Ia.init(e,n);const r=new RegExp(`.*${uf(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(r)}),e._zod.check=o=>{o.value.endsWith(n.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:o.value,inst:e,continue:!n.abort})}}),gj=Pe("$ZodCheckOverwrite",(e,n)=>{Ia.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class vj{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const o=n.split(`
`).filter(h=>h),d=Math.min(...o.map(h=>h.length-h.trimStart().length)),f=o.map(h=>h.slice(d)).map(h=>" ".repeat(this.indent*2)+h);for(const h of f)this.content.push(h)}compile(){const n=Function,r=this?.args,d=[...(this?.content??[""]).map(f=>`  ${f}`)];return new n(...r,d.join(`
`))}}const yj={major:4,minor:1,patch:13},On=Pe("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=yj;const o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const d of o)for(const f of d._zod.onattach)f(e);if(o.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const d=(h,g,x)=>{let y=nl(h),b;for(const N of g){if(N._zod.def.when){if(!N._zod.def.when(h))continue}else if(y)continue;const j=h.issues.length,z=N._zod.check(h);if(z instanceof Promise&&x?.async===!1)throw new al;if(b||z instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await z,h.issues.length!==j&&(y||(y=nl(h,j)))});else{if(h.issues.length===j)continue;y||(y=nl(h,j))}}return b?b.then(()=>h):h},f=(h,g,x)=>{if(nl(h))return h.aborted=!0,h;const y=d(g,o,x);if(y instanceof Promise){if(x.async===!1)throw new al;return y.then(b=>e._zod.parse(b,x))}return e._zod.parse(y,x)};e._zod.run=(h,g)=>{if(g.skipChecks)return e._zod.parse(h,g);if(g.direction==="backward"){const y=e._zod.parse({value:h.value,issues:[]},{...g,skipChecks:!0});return y instanceof Promise?y.then(b=>f(b,h,g)):f(y,h,g)}const x=e._zod.parse(h,g);if(x instanceof Promise){if(g.async===!1)throw new al;return x.then(y=>d(y,o,g))}return d(x,o,g)}}e["~standard"]={validate:d=>{try{const f=k3(e,d);return f.success?{value:f.data}:{issues:f.error?.issues}}catch{return T3(e,d).then(h=>h.success?{value:h.data}:{issues:h.error?.issues})}},vendor:"zod",version:1}}),Tp=Pe("$ZodString",(e,n)=>{On.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??aj(e._zod.bag),e._zod.parse=(r,o)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),on=Pe("$ZodStringFormat",(e,n)=>{gf.init(e,n),Tp.init(e,n)}),_j=Pe("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=V3),on.init(e,n)}),xj=Pe("$ZodUUID",(e,n)=>{if(n.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(o===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=C_(o))}else n.pattern??(n.pattern=C_());on.init(e,n)}),bj=Pe("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=I3),on.init(e,n)}),wj=Pe("$ZodURL",(e,n)=>{on.init(e,n),e._zod.check=r=>{try{const o=r.value.trim(),d=new URL(o);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(d.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=d.href:r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),Nj=Pe("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=Y3()),on.init(e,n)}),Sj=Pe("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=q3),on.init(e,n)}),jj=Pe("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=P3),on.init(e,n)}),Aj=Pe("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=B3),on.init(e,n)}),Ej=Pe("$ZodULID",(e,n)=>{n.pattern??(n.pattern=U3),on.init(e,n)}),kj=Pe("$ZodXID",(e,n)=>{n.pattern??(n.pattern=Z3),on.init(e,n)}),Tj=Pe("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=H3),on.init(e,n)}),Cj=Pe("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=ij(n)),on.init(e,n)}),zj=Pe("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=tj),on.init(e,n)}),Mj=Pe("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=nj(n)),on.init(e,n)}),Lj=Pe("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=F3),on.init(e,n)}),Oj=Pe("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=X3),on.init(e,n),e._zod.bag.format="ipv4"}),Rj=Pe("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=Q3),on.init(e,n),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),Dj=Pe("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=K3),on.init(e,n)}),$j=Pe("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=J3),on.init(e,n),e._zod.check=r=>{const o=r.value.split("/");try{if(o.length!==2)throw new Error;const[d,f]=o;if(!f)throw new Error;const h=Number(f);if(`${h}`!==f)throw new Error;if(h<0||h>128)throw new Error;new URL(`http://[${d}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function z0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Pj=Pe("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=W3),on.init(e,n),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{z0(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function Bj(e){if(!k0.test(e))return!1;const n=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return z0(r)}const Uj=Pe("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=k0),on.init(e,n),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{Bj(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),Zj=Pe("$ZodE164",(e,n)=>{n.pattern??(n.pattern=ej),on.init(e,n)});function Hj(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[o]=r;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||n&&(!("alg"in d)||d.alg!==n))}catch{return!1}}const qj=Pe("$ZodJWT",(e,n)=>{on.init(e,n),e._zod.check=r=>{Hj(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),Fj=Pe("$ZodUnknown",(e,n)=>{On.init(e,n),e._zod.parse=r=>r}),Vj=Pe("$ZodNever",(e,n)=>{On.init(e,n),e._zod.parse=(r,o)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function z_(e,n,r){e.issues.length&&n.issues.push(...A0(r,e.issues)),n.value[r]=e.value}const Ij=Pe("$ZodArray",(e,n)=>{On.init(e,n),e._zod.parse=(r,o)=>{const d=r.value;if(!Array.isArray(d))return r.issues.push({expected:"array",code:"invalid_type",input:d,inst:e}),r;r.value=Array(d.length);const f=[];for(let h=0;h<d.length;h++){const g=d[h],x=n.element._zod.run({value:g,issues:[]},o);x instanceof Promise?f.push(x.then(y=>z_(y,r,h))):z_(x,r,h)}return f.length?Promise.all(f).then(()=>r):r}});function Gd(e,n,r,o){e.issues.length&&n.issues.push(...A0(r,e.issues)),e.value===void 0?r in o&&(n.value[r]=void 0):n.value[r]=e.value}function M0(e){const n=Object.keys(e.shape);for(const o of n)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=g3(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function L0(e,n,r,o,d,f){const h=[],g=d.keySet,x=d.catchall._zod,y=x.def.type;for(const b in n){if(g.has(b))continue;if(y==="never"){h.push(b);continue}const N=x.run({value:n[b],issues:[]},o);N instanceof Promise?e.push(N.then(j=>Gd(j,r,b,n))):Gd(N,r,b,n)}return h.length&&r.issues.push({code:"unrecognized_keys",keys:h,input:n,inst:f}),e.length?Promise.all(e).then(()=>r):r}const Gj=Pe("$ZodObject",(e,n)=>{if(On.init(e,n),!Object.getOwnPropertyDescriptor(n,"shape")?.get){const g=n.shape;Object.defineProperty(n,"shape",{get:()=>{const x={...g};return Object.defineProperty(n,"shape",{value:x}),x}})}const o=Sp(()=>M0(n));Qt(e._zod,"propValues",()=>{const g=n.shape,x={};for(const y in g){const b=g[y]._zod;if(b.values){x[y]??(x[y]=new Set);for(const N of b.values)x[y].add(N)}}return x});const d=Id,f=n.catchall;let h;e._zod.parse=(g,x)=>{h??(h=o.value);const y=g.value;if(!d(y))return g.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),g;g.value={};const b=[],N=h.shape;for(const j of h.keys){const E=N[j]._zod.run({value:y[j],issues:[]},x);E instanceof Promise?b.push(E.then(T=>Gd(T,g,j,y))):Gd(E,g,j,y)}return f?L0(b,y,g,x,o.value,e):b.length?Promise.all(b).then(()=>g):g}}),Yj=Pe("$ZodObjectJIT",(e,n)=>{Gj.init(e,n);const r=e._zod.parse,o=Sp(()=>M0(n)),d=j=>{const z=new vj(["shape","payload","ctx"]),E=o.value,T=H=>{const P=T_(H);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};z.write("const input = payload.value;");const A=Object.create(null);let R=0;for(const H of E.keys)A[H]=`key_${R++}`;z.write("const newResult = {};");for(const H of E.keys){const P=A[H],I=T_(H);z.write(`const ${P} = ${T(H)};`),z.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${I}, ...iss.path] : [${I}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${P}.value;
        }
        
      `)}z.write("payload.value = newResult;"),z.write("return payload;");const U=z.compile();return(H,P)=>U(j,H,P)};let f;const h=Id,g=!N0.jitless,y=g&&m3.value,b=n.catchall;let N;e._zod.parse=(j,z)=>{N??(N=o.value);const E=j.value;return h(E)?g&&y&&z?.async===!1&&z.jitless!==!0?(f||(f=d(n.shape)),j=f(j,z),b?L0([],E,j,z,N,e):j):r(j,z):(j.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),j)}});function M_(e,n,r,o){for(const f of e)if(f.issues.length===0)return n.value=f.value,n;const d=e.filter(f=>!nl(f));return d.length===1?(n.value=d[0].value,d[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(f=>f.issues.map(h=>no(h,o,to())))}),n)}const Xj=Pe("$ZodUnion",(e,n)=>{On.init(e,n),Qt(e._zod,"optin",()=>n.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Qt(e._zod,"optout",()=>n.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Qt(e._zod,"values",()=>{if(n.options.every(d=>d._zod.values))return new Set(n.options.flatMap(d=>Array.from(d._zod.values)))}),Qt(e._zod,"pattern",()=>{if(n.options.every(d=>d._zod.pattern)){const d=n.options.map(f=>f._zod.pattern);return new RegExp(`^(${d.map(f=>Ap(f.source)).join("|")})$`)}});const r=n.options.length===1,o=n.options[0]._zod.run;e._zod.parse=(d,f)=>{if(r)return o(d,f);let h=!1;const g=[];for(const x of n.options){const y=x._zod.run({value:d.value,issues:[]},f);if(y instanceof Promise)g.push(y),h=!0;else{if(y.issues.length===0)return y;g.push(y)}}return h?Promise.all(g).then(x=>M_(x,d,e,f)):M_(g,d,e,f)}}),Qj=Pe("$ZodIntersection",(e,n)=>{On.init(e,n),e._zod.parse=(r,o)=>{const d=r.value,f=n.left._zod.run({value:d,issues:[]},o),h=n.right._zod.run({value:d,issues:[]},o);return f instanceof Promise||h instanceof Promise?Promise.all([f,h]).then(([x,y])=>L_(r,x,y)):L_(r,f,h)}});function Im(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Cc(e)&&Cc(n)){const r=Object.keys(n),o=Object.keys(e).filter(f=>r.indexOf(f)!==-1),d={...e,...n};for(const f of o){const h=Im(e[f],n[f]);if(!h.valid)return{valid:!1,mergeErrorPath:[f,...h.mergeErrorPath]};d[f]=h.data}return{valid:!0,data:d}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let o=0;o<e.length;o++){const d=e[o],f=n[o],h=Im(d,f);if(!h.valid)return{valid:!1,mergeErrorPath:[o,...h.mergeErrorPath]};r.push(h.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function L_(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),nl(e))return e;const o=Im(n.value,r.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const Kj=Pe("$ZodEnum",(e,n)=>{On.init(e,n);const r=f3(n.entries),o=new Set(r);e._zod.values=o,e._zod.pattern=new RegExp(`^(${r.filter(d=>p3.has(typeof d)).map(d=>typeof d=="string"?uf(d):d.toString()).join("|")})$`),e._zod.parse=(d,f)=>{const h=d.value;return o.has(h)||d.issues.push({code:"invalid_value",values:r,input:h,inst:e}),d}}),Jj=Pe("$ZodTransform",(e,n)=>{On.init(e,n),e._zod.parse=(r,o)=>{if(o.direction==="backward")throw new w0(e.constructor.name);const d=n.transform(r.value,r);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(h=>(r.value=h,r));if(d instanceof Promise)throw new al;return r.value=d,r}});function O_(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const Wj=Pe("$ZodOptional",(e,n)=>{On.init(e,n),e._zod.optin="optional",e._zod.optout="optional",Qt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Qt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ap(r.source)})?$`):void 0}),e._zod.parse=(r,o)=>{if(n.innerType._zod.optin==="optional"){const d=n.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>O_(f,r.value)):O_(d,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,o)}}),e4=Pe("$ZodNullable",(e,n)=>{On.init(e,n),Qt(e._zod,"optin",()=>n.innerType._zod.optin),Qt(e._zod,"optout",()=>n.innerType._zod.optout),Qt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${Ap(r.source)}|null)$`):void 0}),Qt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,o)=>r.value===null?r:n.innerType._zod.run(r,o)}),t4=Pe("$ZodDefault",(e,n)=>{On.init(e,n),e._zod.optin="optional",Qt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,o)=>{if(o.direction==="backward")return n.innerType._zod.run(r,o);if(r.value===void 0)return r.value=n.defaultValue,r;const d=n.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>R_(f,n)):R_(d,n)}});function R_(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const n4=Pe("$ZodPrefault",(e,n)=>{On.init(e,n),e._zod.optin="optional",Qt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,o)=>(o.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,o))}),i4=Pe("$ZodNonOptional",(e,n)=>{On.init(e,n),Qt(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(o=>o!==void 0)):void 0}),e._zod.parse=(r,o)=>{const d=n.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>D_(f,e)):D_(d,e)}});function D_(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const a4=Pe("$ZodCatch",(e,n)=>{On.init(e,n),Qt(e._zod,"optin",()=>n.innerType._zod.optin),Qt(e._zod,"optout",()=>n.innerType._zod.optout),Qt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,o)=>{if(o.direction==="backward")return n.innerType._zod.run(r,o);const d=n.innerType._zod.run(r,o);return d instanceof Promise?d.then(f=>(r.value=f.value,f.issues.length&&(r.value=n.catchValue({...r,error:{issues:f.issues.map(h=>no(h,o,to()))},input:r.value}),r.issues=[]),r)):(r.value=d.value,d.issues.length&&(r.value=n.catchValue({...r,error:{issues:d.issues.map(f=>no(f,o,to()))},input:r.value}),r.issues=[]),r)}}),r4=Pe("$ZodPipe",(e,n)=>{On.init(e,n),Qt(e._zod,"values",()=>n.in._zod.values),Qt(e._zod,"optin",()=>n.in._zod.optin),Qt(e._zod,"optout",()=>n.out._zod.optout),Qt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,o)=>{if(o.direction==="backward"){const f=n.out._zod.run(r,o);return f instanceof Promise?f.then(h=>yd(h,n.in,o)):yd(f,n.in,o)}const d=n.in._zod.run(r,o);return d instanceof Promise?d.then(f=>yd(f,n.out,o)):yd(d,n.out,o)}});function yd(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const s4=Pe("$ZodReadonly",(e,n)=>{On.init(e,n),Qt(e._zod,"propValues",()=>n.innerType._zod.propValues),Qt(e._zod,"values",()=>n.innerType._zod.values),Qt(e._zod,"optin",()=>n.innerType?._zod?.optin),Qt(e._zod,"optout",()=>n.innerType?._zod?.optout),e._zod.parse=(r,o)=>{if(o.direction==="backward")return n.innerType._zod.run(r,o);const d=n.innerType._zod.run(r,o);return d instanceof Promise?d.then($_):$_(d)}});function $_(e){return e.value=Object.freeze(e.value),e}const o4=Pe("$ZodCustom",(e,n)=>{Ia.init(e,n),On.init(e,n),e._zod.parse=(r,o)=>r,e._zod.check=r=>{const o=r.value,d=n.fn(o);if(d instanceof Promise)return d.then(f=>P_(f,r,o,e));P_(d,r,o,e)}});function P_(e,n,r,o){if(!e){const d={code:"custom",input:r,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),n.issues.push(zc(d))}}var B_;class l4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const o=r[0];if(this._map.set(n,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const o={...this.get(r)??{}};delete o.id;const d={...o,...this._map.get(n)};return Object.keys(d).length?d:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function c4(){return new l4}(B_=globalThis).__zod_globalRegistry??(B_.__zod_globalRegistry=c4());const _d=globalThis.__zod_globalRegistry;function u4(e,n){return new e({type:"string",...ot(n)})}function d4(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ot(n)})}function U_(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ot(n)})}function f4(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ot(n)})}function h4(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ot(n)})}function m4(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ot(n)})}function p4(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ot(n)})}function g4(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ot(n)})}function v4(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ot(n)})}function y4(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ot(n)})}function _4(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ot(n)})}function x4(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ot(n)})}function b4(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ot(n)})}function w4(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ot(n)})}function N4(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ot(n)})}function S4(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ot(n)})}function j4(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ot(n)})}function A4(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ot(n)})}function E4(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ot(n)})}function k4(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ot(n)})}function T4(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ot(n)})}function C4(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ot(n)})}function z4(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ot(n)})}function M4(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ot(n)})}function L4(e,n){return new e({type:"string",format:"date",check:"string_format",...ot(n)})}function O4(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...ot(n)})}function R4(e,n){return new e({type:"string",format:"duration",check:"string_format",...ot(n)})}function D4(e){return new e({type:"unknown"})}function $4(e,n){return new e({type:"never",...ot(n)})}function O0(e,n){return new oj({check:"max_length",...ot(n),maximum:e})}function Yd(e,n){return new lj({check:"min_length",...ot(n),minimum:e})}function R0(e,n){return new cj({check:"length_equals",...ot(n),length:e})}function P4(e,n){return new uj({check:"string_format",format:"regex",...ot(n),pattern:e})}function B4(e){return new dj({check:"string_format",format:"lowercase",...ot(e)})}function U4(e){return new fj({check:"string_format",format:"uppercase",...ot(e)})}function Z4(e,n){return new hj({check:"string_format",format:"includes",...ot(n),includes:e})}function H4(e,n){return new mj({check:"string_format",format:"starts_with",...ot(n),prefix:e})}function q4(e,n){return new pj({check:"string_format",format:"ends_with",...ot(n),suffix:e})}function hl(e){return new gj({check:"overwrite",tx:e})}function F4(e){return hl(n=>n.normalize(e))}function V4(){return hl(e=>e.trim())}function I4(){return hl(e=>e.toLowerCase())}function G4(){return hl(e=>e.toUpperCase())}function Y4(){return hl(e=>h3(e))}function X4(e,n,r){return new e({type:"array",element:n,...ot(r)})}function Q4(e,n,r){return new e({type:"custom",check:"custom",fn:n,...ot(r)})}function K4(e){const n=J4(r=>(r.addIssue=o=>{if(typeof o=="string")r.issues.push(zc(o,r.value,n._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=n),d.continue??(d.continue=!n._zod.def.abort),r.issues.push(zc(d))}},e(r.value,r)));return n}function J4(e,n){const r=new Ia({check:"custom",...ot(n)});return r._zod.check=e,r}function Z_(e,n){try{var r=e()}catch(o){return n(o)}return r&&r.then?r.then(void 0,n):r}function W4(e,n){for(var r={};e.length;){var o=e[0],d=o.code,f=o.message,h=o.path.join(".");if(!r[h])if("unionErrors"in o){var g=o.unionErrors[0].errors[0];r[h]={message:g.message,type:g.code}}else r[h]={message:f,type:d};if("unionErrors"in o&&o.unionErrors.forEach(function(b){return b.errors.forEach(function(N){return e.push(N)})}),n){var x=r[h].types,y=x&&x[o.code];r[h]=bp(h,n,r,d,y?[].concat(y,o.message):o.message)}e.shift()}return r}function eA(e,n){for(var r={};e.length;){var o=e[0],d=o.code,f=o.message,h=o.path.join(".");if(!r[h])if(o.code==="invalid_union"&&o.errors.length>0){var g=o.errors[0][0];r[h]={message:g.message,type:g.code}}else r[h]={message:f,type:d};if(o.code==="invalid_union"&&o.errors.forEach(function(b){return b.forEach(function(N){return e.push(N)})}),n){var x=r[h].types,y=x&&x[o.code];r[h]=bp(h,n,r,d,y?[].concat(y,o.message):o.message)}e.shift()}return r}function tA(e,n,r){if(r===void 0&&(r={}),(function(o){return"_def"in o&&typeof o._def=="object"&&"typeName"in o._def})(e))return function(o,d,f){try{return Promise.resolve(Z_(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](o,n)).then(function(h){return f.shouldUseNativeValidation&&Fm({},f),{errors:{},values:r.raw?Object.assign({},o):h}})},function(h){if((function(g){return Array.isArray(g?.issues)})(h))return{values:{},errors:A_(W4(h.errors,!f.shouldUseNativeValidation&&f.criteriaMode==="all"),f)};throw h}))}catch(h){return Promise.reject(h)}};if((function(o){return"_zod"in o&&typeof o._zod=="object"})(e))return function(o,d,f){try{return Promise.resolve(Z_(function(){return Promise.resolve((r.mode==="sync"?A3:E3)(e,o,n)).then(function(h){return f.shouldUseNativeValidation&&Fm({},f),{errors:{},values:r.raw?Object.assign({},o):h}})},function(h){if((function(g){return g instanceof kp})(h))return{values:{},errors:A_(eA(h.issues,!f.shouldUseNativeValidation&&f.criteriaMode==="all"),f)};throw h}))}catch(h){return Promise.reject(h)}};throw new Error("Invalid input: not a Zod schema")}const nA=Pe("ZodISODateTime",(e,n)=>{Cj.init(e,n),un.init(e,n)});function iA(e){return M4(nA,e)}const aA=Pe("ZodISODate",(e,n)=>{zj.init(e,n),un.init(e,n)});function rA(e){return L4(aA,e)}const sA=Pe("ZodISOTime",(e,n)=>{Mj.init(e,n),un.init(e,n)});function oA(e){return O4(sA,e)}const lA=Pe("ZodISODuration",(e,n)=>{Lj.init(e,n),un.init(e,n)});function cA(e){return R4(lA,e)}const uA=(e,n)=>{kp.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>j3(e,r)},flatten:{value:r=>S3(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Vm,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Vm,2)}},isEmpty:{get(){return e.issues.length===0}}})},ea=Pe("ZodError",uA,{Parent:Error}),dA=ff(ea),fA=hf(ea),hA=mf(ea),mA=pf(ea),pA=C3(ea),gA=z3(ea),vA=M3(ea),yA=L3(ea),_A=O3(ea),xA=R3(ea),bA=D3(ea),wA=$3(ea),Bn=Pe("ZodType",(e,n)=>(On.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone(oo(n,{checks:[...n.checks??[],...r.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),e.clone=(r,o)=>hs(e,r,o),e.brand=()=>e,e.register=((r,o)=>(r.add(e,o),e)),e.parse=(r,o)=>dA(e,r,o,{callee:e.parse}),e.safeParse=(r,o)=>hA(e,r,o),e.parseAsync=async(r,o)=>fA(e,r,o,{callee:e.parseAsync}),e.safeParseAsync=async(r,o)=>mA(e,r,o),e.spa=e.safeParseAsync,e.encode=(r,o)=>pA(e,r,o),e.decode=(r,o)=>gA(e,r,o),e.encodeAsync=async(r,o)=>vA(e,r,o),e.decodeAsync=async(r,o)=>yA(e,r,o),e.safeEncode=(r,o)=>_A(e,r,o),e.safeDecode=(r,o)=>xA(e,r,o),e.safeEncodeAsync=async(r,o)=>bA(e,r,o),e.safeDecodeAsync=async(r,o)=>wA(e,r,o),e.refine=(r,o)=>e.check(mE(r,o)),e.superRefine=r=>e.check(pE(r)),e.overwrite=r=>e.check(hl(r)),e.optional=()=>F_(e),e.nullable=()=>V_(e),e.nullish=()=>F_(V_(e)),e.nonoptional=r=>oE(e,r),e.array=()=>IA(e),e.or=r=>QA([e,r]),e.and=r=>JA(e,r),e.transform=r=>I_(e,tE(r)),e.default=r=>aE(e,r),e.prefault=r=>sE(e,r),e.catch=r=>cE(e,r),e.pipe=r=>I_(e,r),e.readonly=()=>fE(e),e.describe=r=>{const o=e.clone();return _d.add(o,{description:r}),o},Object.defineProperty(e,"description",{get(){return _d.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return _d.get(e);const o=e.clone();return _d.add(o,r[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),D0=Pe("_ZodString",(e,n)=>{Tp.init(e,n),Bn.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...o)=>e.check(P4(...o)),e.includes=(...o)=>e.check(Z4(...o)),e.startsWith=(...o)=>e.check(H4(...o)),e.endsWith=(...o)=>e.check(q4(...o)),e.min=(...o)=>e.check(Yd(...o)),e.max=(...o)=>e.check(O0(...o)),e.length=(...o)=>e.check(R0(...o)),e.nonempty=(...o)=>e.check(Yd(1,...o)),e.lowercase=o=>e.check(B4(o)),e.uppercase=o=>e.check(U4(o)),e.trim=()=>e.check(V4()),e.normalize=(...o)=>e.check(F4(...o)),e.toLowerCase=()=>e.check(I4()),e.toUpperCase=()=>e.check(G4()),e.slugify=()=>e.check(Y4())}),NA=Pe("ZodString",(e,n)=>{Tp.init(e,n),D0.init(e,n),e.email=r=>e.check(d4(jA,r)),e.url=r=>e.check(g4(AA,r)),e.jwt=r=>e.check(z4(ZA,r)),e.emoji=r=>e.check(v4(EA,r)),e.guid=r=>e.check(U_(H_,r)),e.uuid=r=>e.check(f4(xd,r)),e.uuidv4=r=>e.check(h4(xd,r)),e.uuidv6=r=>e.check(m4(xd,r)),e.uuidv7=r=>e.check(p4(xd,r)),e.nanoid=r=>e.check(y4(kA,r)),e.guid=r=>e.check(U_(H_,r)),e.cuid=r=>e.check(_4(TA,r)),e.cuid2=r=>e.check(x4(CA,r)),e.ulid=r=>e.check(b4(zA,r)),e.base64=r=>e.check(k4(PA,r)),e.base64url=r=>e.check(T4(BA,r)),e.xid=r=>e.check(w4(MA,r)),e.ksuid=r=>e.check(N4(LA,r)),e.ipv4=r=>e.check(S4(OA,r)),e.ipv6=r=>e.check(j4(RA,r)),e.cidrv4=r=>e.check(A4(DA,r)),e.cidrv6=r=>e.check(E4($A,r)),e.e164=r=>e.check(C4(UA,r)),e.datetime=r=>e.check(iA(r)),e.date=r=>e.check(rA(r)),e.time=r=>e.check(oA(r)),e.duration=r=>e.check(cA(r))});function SA(e){return u4(NA,e)}const un=Pe("ZodStringFormat",(e,n)=>{on.init(e,n),D0.init(e,n)}),jA=Pe("ZodEmail",(e,n)=>{bj.init(e,n),un.init(e,n)}),H_=Pe("ZodGUID",(e,n)=>{_j.init(e,n),un.init(e,n)}),xd=Pe("ZodUUID",(e,n)=>{xj.init(e,n),un.init(e,n)}),AA=Pe("ZodURL",(e,n)=>{wj.init(e,n),un.init(e,n)}),EA=Pe("ZodEmoji",(e,n)=>{Nj.init(e,n),un.init(e,n)}),kA=Pe("ZodNanoID",(e,n)=>{Sj.init(e,n),un.init(e,n)}),TA=Pe("ZodCUID",(e,n)=>{jj.init(e,n),un.init(e,n)}),CA=Pe("ZodCUID2",(e,n)=>{Aj.init(e,n),un.init(e,n)}),zA=Pe("ZodULID",(e,n)=>{Ej.init(e,n),un.init(e,n)}),MA=Pe("ZodXID",(e,n)=>{kj.init(e,n),un.init(e,n)}),LA=Pe("ZodKSUID",(e,n)=>{Tj.init(e,n),un.init(e,n)}),OA=Pe("ZodIPv4",(e,n)=>{Oj.init(e,n),un.init(e,n)}),RA=Pe("ZodIPv6",(e,n)=>{Rj.init(e,n),un.init(e,n)}),DA=Pe("ZodCIDRv4",(e,n)=>{Dj.init(e,n),un.init(e,n)}),$A=Pe("ZodCIDRv6",(e,n)=>{$j.init(e,n),un.init(e,n)}),PA=Pe("ZodBase64",(e,n)=>{Pj.init(e,n),un.init(e,n)}),BA=Pe("ZodBase64URL",(e,n)=>{Uj.init(e,n),un.init(e,n)}),UA=Pe("ZodE164",(e,n)=>{Zj.init(e,n),un.init(e,n)}),ZA=Pe("ZodJWT",(e,n)=>{qj.init(e,n),un.init(e,n)}),HA=Pe("ZodUnknown",(e,n)=>{Fj.init(e,n),Bn.init(e,n)});function q_(){return D4(HA)}const qA=Pe("ZodNever",(e,n)=>{Vj.init(e,n),Bn.init(e,n)});function FA(e){return $4(qA,e)}const VA=Pe("ZodArray",(e,n)=>{Ij.init(e,n),Bn.init(e,n),e.element=n.element,e.min=(r,o)=>e.check(Yd(r,o)),e.nonempty=r=>e.check(Yd(1,r)),e.max=(r,o)=>e.check(O0(r,o)),e.length=(r,o)=>e.check(R0(r,o)),e.unwrap=()=>e.element});function IA(e,n){return X4(VA,e,n)}const GA=Pe("ZodObject",(e,n)=>{Yj.init(e,n),Bn.init(e,n),Qt(e,"shape",()=>n.shape),e.keyof=()=>WA(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:q_()}),e.loose=()=>e.clone({...e._zod.def,catchall:q_()}),e.strict=()=>e.clone({...e._zod.def,catchall:FA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>_3(e,r),e.safeExtend=r=>x3(e,r),e.merge=r=>b3(e,r),e.pick=r=>v3(e,r),e.omit=r=>y3(e,r),e.partial=(...r)=>w3($0,e,r[0]),e.required=(...r)=>N3(P0,e,r[0])});function YA(e,n){const r={type:"object",shape:e??{},...ot(n)};return new GA(r)}const XA=Pe("ZodUnion",(e,n)=>{Xj.init(e,n),Bn.init(e,n),e.options=n.options});function QA(e,n){return new XA({type:"union",options:e,...ot(n)})}const KA=Pe("ZodIntersection",(e,n)=>{Qj.init(e,n),Bn.init(e,n)});function JA(e,n){return new KA({type:"intersection",left:e,right:n})}const Gm=Pe("ZodEnum",(e,n)=>{Kj.init(e,n),Bn.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(o,d)=>{const f={};for(const h of o)if(r.has(h))f[h]=n.entries[h];else throw new Error(`Key ${h} not found in enum`);return new Gm({...n,checks:[],...ot(d),entries:f})},e.exclude=(o,d)=>{const f={...n.entries};for(const h of o)if(r.has(h))delete f[h];else throw new Error(`Key ${h} not found in enum`);return new Gm({...n,checks:[],...ot(d),entries:f})}});function WA(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new Gm({type:"enum",entries:r,...ot(n)})}const eE=Pe("ZodTransform",(e,n)=>{Jj.init(e,n),Bn.init(e,n),e._zod.parse=(r,o)=>{if(o.direction==="backward")throw new w0(e.constructor.name);r.addIssue=f=>{if(typeof f=="string")r.issues.push(zc(f,r.value,n));else{const h=f;h.fatal&&(h.continue=!1),h.code??(h.code="custom"),h.input??(h.input=r.value),h.inst??(h.inst=e),r.issues.push(zc(h))}};const d=n.transform(r.value,r);return d instanceof Promise?d.then(f=>(r.value=f,r)):(r.value=d,r)}});function tE(e){return new eE({type:"transform",transform:e})}const $0=Pe("ZodOptional",(e,n)=>{Wj.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function F_(e){return new $0({type:"optional",innerType:e})}const nE=Pe("ZodNullable",(e,n)=>{e4.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function V_(e){return new nE({type:"nullable",innerType:e})}const iE=Pe("ZodDefault",(e,n)=>{t4.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function aE(e,n){return new iE({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():j0(n)}})}const rE=Pe("ZodPrefault",(e,n)=>{n4.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function sE(e,n){return new rE({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():j0(n)}})}const P0=Pe("ZodNonOptional",(e,n)=>{i4.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function oE(e,n){return new P0({type:"nonoptional",innerType:e,...ot(n)})}const lE=Pe("ZodCatch",(e,n)=>{a4.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function cE(e,n){return new lE({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const uE=Pe("ZodPipe",(e,n)=>{r4.init(e,n),Bn.init(e,n),e.in=n.in,e.out=n.out});function I_(e,n){return new uE({type:"pipe",in:e,out:n})}const dE=Pe("ZodReadonly",(e,n)=>{s4.init(e,n),Bn.init(e,n),e.unwrap=()=>e._zod.def.innerType});function fE(e){return new dE({type:"readonly",innerType:e})}const hE=Pe("ZodCustom",(e,n)=>{o4.init(e,n),Bn.init(e,n)});function mE(e,n={}){return Q4(hE,e,n)}function pE(e){return K4(e)}const G_=e=>{let n;const r=new Set,o=(y,b)=>{const N=typeof y=="function"?y(n):y;if(!Object.is(N,n)){const j=n;n=b??(typeof N!="object"||N===null)?N:Object.assign({},n,N),r.forEach(z=>z(n,j))}},d=()=>n,g={setState:o,getState:d,getInitialState:()=>x,subscribe:y=>(r.add(y),()=>r.delete(y))},x=n=e(o,d,g);return g},gE=(e=>e?G_(e):G_),vE=e=>e;function yE(e,n=vE){const r=kn.useSyncExternalStore(e.subscribe,kn.useCallback(()=>n(e.getState()),[e,n]),kn.useCallback(()=>n(e.getInitialState()),[e,n]));return kn.useDebugValue(r),r}const Y_=e=>{const n=gE(e),r=o=>yE(n,o);return Object.assign(r,n),r},_E=(e=>e?Y_(e):Y_),B0=localStorage.getItem("theme")||"light";document.documentElement.classList.remove("light","dark");document.documentElement.classList.add(B0);const dn=_E(e=>({theme:B0,toggleTheme:()=>e(n=>{const r=n.theme==="light"?"dark":"light";return localStorage.setItem("theme",r),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r),{theme:r}})}));function U0(e,n){return function(){return e.apply(n,arguments)}}const{toString:xE}=Object.prototype,{getPrototypeOf:Cp}=Object,{iterator:vf,toStringTag:Z0}=Symbol,yf=(e=>n=>{const r=xE.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ba=e=>(e=e.toLowerCase(),n=>yf(n)===e),_f=e=>n=>typeof n===e,{isArray:ml}=Array,ol=_f("undefined");function Hc(e){return e!==null&&!ol(e)&&e.constructor!==null&&!ol(e.constructor)&&Si(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const H0=ba("ArrayBuffer");function bE(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&H0(e.buffer),n}const wE=_f("string"),Si=_f("function"),q0=_f("number"),qc=e=>e!==null&&typeof e=="object",NE=e=>e===!0||e===!1,Ld=e=>{if(yf(e)!=="object")return!1;const n=Cp(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Z0 in e)&&!(vf in e)},SE=e=>{if(!qc(e)||Hc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},jE=ba("Date"),AE=ba("File"),EE=ba("Blob"),kE=ba("FileList"),TE=e=>qc(e)&&Si(e.pipe),CE=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Si(e.append)&&((n=yf(e))==="formdata"||n==="object"&&Si(e.toString)&&e.toString()==="[object FormData]"))},zE=ba("URLSearchParams"),[ME,LE,OE,RE]=["ReadableStream","Request","Response","Headers"].map(ba),DE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fc(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let o,d;if(typeof e!="object"&&(e=[e]),ml(e))for(o=0,d=e.length;o<d;o++)n.call(null,e[o],o,e);else{if(Hc(e))return;const f=r?Object.getOwnPropertyNames(e):Object.keys(e),h=f.length;let g;for(o=0;o<h;o++)g=f[o],n.call(null,e[g],g,e)}}function F0(e,n){if(Hc(e))return null;n=n.toLowerCase();const r=Object.keys(e);let o=r.length,d;for(;o-- >0;)if(d=r[o],n===d.toLowerCase())return d;return null}const Ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,V0=e=>!ol(e)&&e!==Ks;function Ym(){const{caseless:e,skipUndefined:n}=V0(this)&&this||{},r={},o=(d,f)=>{const h=e&&F0(r,f)||f;Ld(r[h])&&Ld(d)?r[h]=Ym(r[h],d):Ld(d)?r[h]=Ym({},d):ml(d)?r[h]=d.slice():(!n||!ol(d))&&(r[h]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&Fc(arguments[d],o);return r}const $E=(e,n,r,{allOwnKeys:o}={})=>(Fc(n,(d,f)=>{r&&Si(d)?e[f]=U0(d,r):e[f]=d},{allOwnKeys:o}),e),PE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BE=(e,n,r,o)=>{e.prototype=Object.create(n.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},UE=(e,n,r,o)=>{let d,f,h;const g={};if(n=n||{},e==null)return n;do{for(d=Object.getOwnPropertyNames(e),f=d.length;f-- >0;)h=d[f],(!o||o(h,e,n))&&!g[h]&&(n[h]=e[h],g[h]=!0);e=r!==!1&&Cp(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},ZE=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const o=e.indexOf(n,r);return o!==-1&&o===r},HE=e=>{if(!e)return null;if(ml(e))return e;let n=e.length;if(!q0(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},qE=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Cp(Uint8Array)),FE=(e,n)=>{const o=(e&&e[vf]).call(e);let d;for(;(d=o.next())&&!d.done;){const f=d.value;n.call(e,f[0],f[1])}},VE=(e,n)=>{let r;const o=[];for(;(r=e.exec(n))!==null;)o.push(r);return o},IE=ba("HTMLFormElement"),GE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,d){return o.toUpperCase()+d}),X_=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),YE=ba("RegExp"),I0=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),o={};Fc(r,(d,f)=>{let h;(h=n(d,f,e))!==!1&&(o[f]=h||d)}),Object.defineProperties(e,o)},XE=e=>{I0(e,(n,r)=>{if(Si(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=e[r];if(Si(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},QE=(e,n)=>{const r={},o=d=>{d.forEach(f=>{r[f]=!0})};return ml(e)?o(e):o(String(e).split(n)),r},KE=()=>{},JE=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function WE(e){return!!(e&&Si(e.append)&&e[Z0]==="FormData"&&e[vf])}const ek=e=>{const n=new Array(10),r=(o,d)=>{if(qc(o)){if(n.indexOf(o)>=0)return;if(Hc(o))return o;if(!("toJSON"in o)){n[d]=o;const f=ml(o)?[]:{};return Fc(o,(h,g)=>{const x=r(h,d+1);!ol(x)&&(f[g]=x)}),n[d]=void 0,f}}return o};return r(e,0)},tk=ba("AsyncFunction"),nk=e=>e&&(qc(e)||Si(e))&&Si(e.then)&&Si(e.catch),G0=((e,n)=>e?setImmediate:n?((r,o)=>(Ks.addEventListener("message",({source:d,data:f})=>{d===Ks&&f===r&&o.length&&o.shift()()},!1),d=>{o.push(d),Ks.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Si(Ks.postMessage)),ik=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||G0,ak=e=>e!=null&&Si(e[vf]),Ee={isArray:ml,isArrayBuffer:H0,isBuffer:Hc,isFormData:CE,isArrayBufferView:bE,isString:wE,isNumber:q0,isBoolean:NE,isObject:qc,isPlainObject:Ld,isEmptyObject:SE,isReadableStream:ME,isRequest:LE,isResponse:OE,isHeaders:RE,isUndefined:ol,isDate:jE,isFile:AE,isBlob:EE,isRegExp:YE,isFunction:Si,isStream:TE,isURLSearchParams:zE,isTypedArray:qE,isFileList:kE,forEach:Fc,merge:Ym,extend:$E,trim:DE,stripBOM:PE,inherits:BE,toFlatObject:UE,kindOf:yf,kindOfTest:ba,endsWith:ZE,toArray:HE,forEachEntry:FE,matchAll:VE,isHTMLForm:IE,hasOwnProperty:X_,hasOwnProp:X_,reduceDescriptors:I0,freezeMethods:XE,toObjectSet:QE,toCamelCase:GE,noop:KE,toFiniteNumber:JE,findKey:F0,global:Ks,isContextDefined:V0,isSpecCompliantForm:WE,toJSONObject:ek,isAsyncFn:tk,isThenable:nk,setImmediate:G0,asap:ik,isIterable:ak};function ht(e,n,r,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}Ee.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const Y0=ht.prototype,X0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{X0[e]={value:e}});Object.defineProperties(ht,X0);Object.defineProperty(Y0,"isAxiosError",{value:!0});ht.from=(e,n,r,o,d,f)=>{const h=Object.create(Y0);Ee.toFlatObject(e,h,function(b){return b!==Error.prototype},y=>y!=="isAxiosError");const g=e&&e.message?e.message:"Error",x=n==null&&e?e.code:n;return ht.call(h,g,x,r,o,d),e&&h.cause==null&&Object.defineProperty(h,"cause",{value:e,configurable:!0}),h.name=e&&e.name||"Error",f&&Object.assign(h,f),h};const rk=null;function Xm(e){return Ee.isPlainObject(e)||Ee.isArray(e)}function Q0(e){return Ee.endsWith(e,"[]")?e.slice(0,-2):e}function Q_(e,n,r){return e?e.concat(n).map(function(d,f){return d=Q0(d),!r&&f?"["+d+"]":d}).join(r?".":""):n}function sk(e){return Ee.isArray(e)&&!e.some(Xm)}const ok=Ee.toFlatObject(Ee,{},null,function(n){return/^is[A-Z]/.test(n)});function xf(e,n,r){if(!Ee.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=Ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!Ee.isUndefined(A[T])});const o=r.metaTokens,d=r.visitor||b,f=r.dots,h=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(n);if(!Ee.isFunction(d))throw new TypeError("visitor must be a function");function y(E){if(E===null)return"";if(Ee.isDate(E))return E.toISOString();if(Ee.isBoolean(E))return E.toString();if(!x&&Ee.isBlob(E))throw new ht("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(E)||Ee.isTypedArray(E)?x&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function b(E,T,A){let R=E;if(E&&!A&&typeof E=="object"){if(Ee.endsWith(T,"{}"))T=o?T:T.slice(0,-2),E=JSON.stringify(E);else if(Ee.isArray(E)&&sk(E)||(Ee.isFileList(E)||Ee.endsWith(T,"[]"))&&(R=Ee.toArray(E)))return T=Q0(T),R.forEach(function(H,P){!(Ee.isUndefined(H)||H===null)&&n.append(h===!0?Q_([T],P,f):h===null?T:T+"[]",y(H))}),!1}return Xm(E)?!0:(n.append(Q_(A,T,f),y(E)),!1)}const N=[],j=Object.assign(ok,{defaultVisitor:b,convertValue:y,isVisitable:Xm});function z(E,T){if(!Ee.isUndefined(E)){if(N.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));N.push(E),Ee.forEach(E,function(R,U){(!(Ee.isUndefined(R)||R===null)&&d.call(n,R,Ee.isString(U)?U.trim():U,T,j))===!0&&z(R,T?T.concat(U):[U])}),N.pop()}}if(!Ee.isObject(e))throw new TypeError("data must be an object");return z(e),n}function K_(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function zp(e,n){this._pairs=[],e&&xf(e,this,n)}const K0=zp.prototype;K0.append=function(n,r){this._pairs.push([n,r])};K0.toString=function(n){const r=n?function(o){return n.call(this,o,K_)}:K_;return this._pairs.map(function(d){return r(d[0])+"="+r(d[1])},"").join("&")};function lk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function J0(e,n,r){if(!n)return e;const o=r&&r.encode||lk;Ee.isFunction(r)&&(r={serialize:r});const d=r&&r.serialize;let f;if(d?f=d(n,r):f=Ee.isURLSearchParams(n)?n.toString():new zp(n,r).toString(o),f){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class J_{constructor(){this.handlers=[]}use(n,r,o){return this.handlers.push({fulfilled:n,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Ee.forEach(this.handlers,function(o){o!==null&&n(o)})}}const W0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ck=typeof URLSearchParams<"u"?URLSearchParams:zp,uk=typeof FormData<"u"?FormData:null,dk=typeof Blob<"u"?Blob:null,fk={isBrowser:!0,classes:{URLSearchParams:ck,FormData:uk,Blob:dk},protocols:["http","https","file","blob","url","data"]},Mp=typeof window<"u"&&typeof document<"u",Qm=typeof navigator=="object"&&navigator||void 0,hk=Mp&&(!Qm||["ReactNative","NativeScript","NS"].indexOf(Qm.product)<0),mk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pk=Mp&&window.location.href||"http://localhost",gk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mp,hasStandardBrowserEnv:hk,hasStandardBrowserWebWorkerEnv:mk,navigator:Qm,origin:pk},Symbol.toStringTag,{value:"Module"})),Kn={...gk,...fk};function vk(e,n){return xf(e,new Kn.classes.URLSearchParams,{visitor:function(r,o,d,f){return Kn.isNode&&Ee.isBuffer(r)?(this.append(o,r.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...n})}function yk(e){return Ee.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function _k(e){const n={},r=Object.keys(e);let o;const d=r.length;let f;for(o=0;o<d;o++)f=r[o],n[f]=e[f];return n}function eb(e){function n(r,o,d,f){let h=r[f++];if(h==="__proto__")return!0;const g=Number.isFinite(+h),x=f>=r.length;return h=!h&&Ee.isArray(d)?d.length:h,x?(Ee.hasOwnProp(d,h)?d[h]=[d[h],o]:d[h]=o,!g):((!d[h]||!Ee.isObject(d[h]))&&(d[h]=[]),n(r,o,d[h],f)&&Ee.isArray(d[h])&&(d[h]=_k(d[h])),!g)}if(Ee.isFormData(e)&&Ee.isFunction(e.entries)){const r={};return Ee.forEachEntry(e,(o,d)=>{n(yk(o),d,r,0)}),r}return null}function xk(e,n,r){if(Ee.isString(e))try{return(n||JSON.parse)(e),Ee.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(e)}const Vc={transitional:W0,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const o=r.getContentType()||"",d=o.indexOf("application/json")>-1,f=Ee.isObject(n);if(f&&Ee.isHTMLForm(n)&&(n=new FormData(n)),Ee.isFormData(n))return d?JSON.stringify(eb(n)):n;if(Ee.isArrayBuffer(n)||Ee.isBuffer(n)||Ee.isStream(n)||Ee.isFile(n)||Ee.isBlob(n)||Ee.isReadableStream(n))return n;if(Ee.isArrayBufferView(n))return n.buffer;if(Ee.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let g;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return vk(n,this.formSerializer).toString();if((g=Ee.isFileList(n))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return xf(g?{"files[]":n}:n,x&&new x,this.formSerializer)}}return f||d?(r.setContentType("application/json",!1),xk(n)):n}],transformResponse:[function(n){const r=this.transitional||Vc.transitional,o=r&&r.forcedJSONParsing,d=this.responseType==="json";if(Ee.isResponse(n)||Ee.isReadableStream(n))return n;if(n&&Ee.isString(n)&&(o&&!this.responseType||d)){const h=!(r&&r.silentJSONParsing)&&d;try{return JSON.parse(n,this.parseReviver)}catch(g){if(h)throw g.name==="SyntaxError"?ht.from(g,ht.ERR_BAD_RESPONSE,this,null,this.response):g}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],e=>{Vc.headers[e]={}});const bk=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wk=e=>{const n={};let r,o,d;return e&&e.split(`
`).forEach(function(h){d=h.indexOf(":"),r=h.substring(0,d).trim().toLowerCase(),o=h.substring(d+1).trim(),!(!r||n[r]&&bk[r])&&(r==="set-cookie"?n[r]?n[r].push(o):n[r]=[o]:n[r]=n[r]?n[r]+", "+o:o)}),n},W_=Symbol("internals");function yc(e){return e&&String(e).trim().toLowerCase()}function Od(e){return e===!1||e==null?e:Ee.isArray(e)?e.map(Od):String(e)}function Nk(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(e);)n[o[1]]=o[2];return n}const Sk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function km(e,n,r,o,d){if(Ee.isFunction(o))return o.call(this,n,r);if(d&&(n=r),!!Ee.isString(n)){if(Ee.isString(o))return n.indexOf(o)!==-1;if(Ee.isRegExp(o))return o.test(n)}}function jk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,o)=>r.toUpperCase()+o)}function Ak(e,n){const r=Ee.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+r,{value:function(d,f,h){return this[o].call(this,n,d,f,h)},configurable:!0})})}let ji=class{constructor(n){n&&this.set(n)}set(n,r,o){const d=this;function f(g,x,y){const b=yc(x);if(!b)throw new Error("header name must be a non-empty string");const N=Ee.findKey(d,b);(!N||d[N]===void 0||y===!0||y===void 0&&d[N]!==!1)&&(d[N||x]=Od(g))}const h=(g,x)=>Ee.forEach(g,(y,b)=>f(y,b,x));if(Ee.isPlainObject(n)||n instanceof this.constructor)h(n,r);else if(Ee.isString(n)&&(n=n.trim())&&!Sk(n))h(wk(n),r);else if(Ee.isObject(n)&&Ee.isIterable(n)){let g={},x,y;for(const b of n){if(!Ee.isArray(b))throw TypeError("Object iterator must return a key-value pair");g[y=b[0]]=(x=g[y])?Ee.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}h(g,r)}else n!=null&&f(r,n,o);return this}get(n,r){if(n=yc(n),n){const o=Ee.findKey(this,n);if(o){const d=this[o];if(!r)return d;if(r===!0)return Nk(d);if(Ee.isFunction(r))return r.call(this,d,o);if(Ee.isRegExp(r))return r.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=yc(n),n){const o=Ee.findKey(this,n);return!!(o&&this[o]!==void 0&&(!r||km(this,this[o],o,r)))}return!1}delete(n,r){const o=this;let d=!1;function f(h){if(h=yc(h),h){const g=Ee.findKey(o,h);g&&(!r||km(o,o[g],g,r))&&(delete o[g],d=!0)}}return Ee.isArray(n)?n.forEach(f):f(n),d}clear(n){const r=Object.keys(this);let o=r.length,d=!1;for(;o--;){const f=r[o];(!n||km(this,this[f],f,n,!0))&&(delete this[f],d=!0)}return d}normalize(n){const r=this,o={};return Ee.forEach(this,(d,f)=>{const h=Ee.findKey(o,f);if(h){r[h]=Od(d),delete r[f];return}const g=n?jk(f):String(f).trim();g!==f&&delete r[f],r[g]=Od(d),o[g]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return Ee.forEach(this,(o,d)=>{o!=null&&o!==!1&&(r[d]=n&&Ee.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const o=new this(n);return r.forEach(d=>o.set(d)),o}static accessor(n){const o=(this[W_]=this[W_]={accessors:{}}).accessors,d=this.prototype;function f(h){const g=yc(h);o[g]||(Ak(d,h),o[g]=!0)}return Ee.isArray(n)?n.forEach(f):f(n),this}};ji.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(ji.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(o){this[r]=o}}});Ee.freezeMethods(ji);function Tm(e,n){const r=this||Vc,o=n||r,d=ji.from(o.headers);let f=o.data;return Ee.forEach(e,function(g){f=g.call(r,f,d.normalize(),n?n.status:void 0)}),d.normalize(),f}function tb(e){return!!(e&&e.__CANCEL__)}function pl(e,n,r){ht.call(this,e??"canceled",ht.ERR_CANCELED,n,r),this.name="CanceledError"}Ee.inherits(pl,ht,{__CANCEL__:!0});function nb(e,n,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):n(new ht("Request failed with status code "+r.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ek(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function kk(e,n){e=e||10;const r=new Array(e),o=new Array(e);let d=0,f=0,h;return n=n!==void 0?n:1e3,function(x){const y=Date.now(),b=o[f];h||(h=y),r[d]=x,o[d]=y;let N=f,j=0;for(;N!==d;)j+=r[N++],N=N%e;if(d=(d+1)%e,d===f&&(f=(f+1)%e),y-h<n)return;const z=b&&y-b;return z?Math.round(j*1e3/z):void 0}}function Tk(e,n){let r=0,o=1e3/n,d,f;const h=(y,b=Date.now())=>{r=b,d=null,f&&(clearTimeout(f),f=null),e(...y)};return[(...y)=>{const b=Date.now(),N=b-r;N>=o?h(y,b):(d=y,f||(f=setTimeout(()=>{f=null,h(d)},o-N)))},()=>d&&h(d)]}const Xd=(e,n,r=3)=>{let o=0;const d=kk(50,250);return Tk(f=>{const h=f.loaded,g=f.lengthComputable?f.total:void 0,x=h-o,y=d(x),b=h<=g;o=h;const N={loaded:h,total:g,progress:g?h/g:void 0,bytes:x,rate:y||void 0,estimated:y&&g&&b?(g-h)/y:void 0,event:f,lengthComputable:g!=null,[n?"download":"upload"]:!0};e(N)},r)},ex=(e,n)=>{const r=e!=null;return[o=>n[0]({lengthComputable:r,total:e,loaded:o}),n[1]]},tx=e=>(...n)=>Ee.asap(()=>e(...n)),Ck=Kn.hasStandardBrowserEnv?((e,n)=>r=>(r=new URL(r,Kn.origin),e.protocol===r.protocol&&e.host===r.host&&(n||e.port===r.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,zk=Kn.hasStandardBrowserEnv?{write(e,n,r,o,d,f,h){if(typeof document>"u")return;const g=[`${e}=${encodeURIComponent(n)}`];Ee.isNumber(r)&&g.push(`expires=${new Date(r).toUTCString()}`),Ee.isString(o)&&g.push(`path=${o}`),Ee.isString(d)&&g.push(`domain=${d}`),f===!0&&g.push("secure"),Ee.isString(h)&&g.push(`SameSite=${h}`),document.cookie=g.join("; ")},read(e){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lk(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function ib(e,n,r){let o=!Mk(n);return e&&(o||r==!1)?Lk(e,n):n}const nx=e=>e instanceof ji?{...e}:e;function io(e,n){n=n||{};const r={};function o(y,b,N,j){return Ee.isPlainObject(y)&&Ee.isPlainObject(b)?Ee.merge.call({caseless:j},y,b):Ee.isPlainObject(b)?Ee.merge({},b):Ee.isArray(b)?b.slice():b}function d(y,b,N,j){if(Ee.isUndefined(b)){if(!Ee.isUndefined(y))return o(void 0,y,N,j)}else return o(y,b,N,j)}function f(y,b){if(!Ee.isUndefined(b))return o(void 0,b)}function h(y,b){if(Ee.isUndefined(b)){if(!Ee.isUndefined(y))return o(void 0,y)}else return o(void 0,b)}function g(y,b,N){if(N in n)return o(y,b);if(N in e)return o(void 0,y)}const x={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:g,headers:(y,b,N)=>d(nx(y),nx(b),N,!0)};return Ee.forEach(Object.keys({...e,...n}),function(b){const N=x[b]||d,j=N(e[b],n[b],b);Ee.isUndefined(j)&&N!==g||(r[b]=j)}),r}const ab=e=>{const n=io({},e);let{data:r,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:h,auth:g}=n;if(n.headers=h=ji.from(h),n.url=J0(ib(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&h.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Ee.isFormData(r)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(Ee.isFunction(r.getHeaders)){const x=r.getHeaders(),y=["content-type","content-length"];Object.entries(x).forEach(([b,N])=>{y.includes(b.toLowerCase())&&h.set(b,N)})}}if(Kn.hasStandardBrowserEnv&&(o&&Ee.isFunction(o)&&(o=o(n)),o||o!==!1&&Ck(n.url))){const x=d&&f&&zk.read(f);x&&h.set(d,x)}return n},Ok=typeof XMLHttpRequest<"u",Rk=Ok&&function(e){return new Promise(function(r,o){const d=ab(e);let f=d.data;const h=ji.from(d.headers).normalize();let{responseType:g,onUploadProgress:x,onDownloadProgress:y}=d,b,N,j,z,E;function T(){z&&z(),E&&E(),d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}let A=new XMLHttpRequest;A.open(d.method.toUpperCase(),d.url,!0),A.timeout=d.timeout;function R(){if(!A)return;const H=ji.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),I={data:!g||g==="text"||g==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:H,config:e,request:A};nb(function(J){r(J),T()},function(J){o(J),T()},I),A=null}"onloadend"in A?A.onloadend=R:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(R)},A.onabort=function(){A&&(o(new ht("Request aborted",ht.ECONNABORTED,e,A)),A=null)},A.onerror=function(P){const I=P&&P.message?P.message:"Network Error",Z=new ht(I,ht.ERR_NETWORK,e,A);Z.event=P||null,o(Z),A=null},A.ontimeout=function(){let P=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const I=d.transitional||W0;d.timeoutErrorMessage&&(P=d.timeoutErrorMessage),o(new ht(P,I.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,A)),A=null},f===void 0&&h.setContentType(null),"setRequestHeader"in A&&Ee.forEach(h.toJSON(),function(P,I){A.setRequestHeader(I,P)}),Ee.isUndefined(d.withCredentials)||(A.withCredentials=!!d.withCredentials),g&&g!=="json"&&(A.responseType=d.responseType),y&&([j,E]=Xd(y,!0),A.addEventListener("progress",j)),x&&A.upload&&([N,z]=Xd(x),A.upload.addEventListener("progress",N),A.upload.addEventListener("loadend",z)),(d.cancelToken||d.signal)&&(b=H=>{A&&(o(!H||H.type?new pl(null,e,A):H),A.abort(),A=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b)));const U=Ek(d.url);if(U&&Kn.protocols.indexOf(U)===-1){o(new ht("Unsupported protocol "+U+":",ht.ERR_BAD_REQUEST,e));return}A.send(f||null)})},Dk=(e,n)=>{const{length:r}=e=e?e.filter(Boolean):[];if(n||r){let o=new AbortController,d;const f=function(y){if(!d){d=!0,g();const b=y instanceof Error?y:this.reason;o.abort(b instanceof ht?b:new pl(b instanceof Error?b.message:b))}};let h=n&&setTimeout(()=>{h=null,f(new ht(`timeout ${n} of ms exceeded`,ht.ETIMEDOUT))},n);const g=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(y=>{y.unsubscribe?y.unsubscribe(f):y.removeEventListener("abort",f)}),e=null)};e.forEach(y=>y.addEventListener("abort",f));const{signal:x}=o;return x.unsubscribe=()=>Ee.asap(g),x}},$k=function*(e,n){let r=e.byteLength;if(r<n){yield e;return}let o=0,d;for(;o<r;)d=o+n,yield e.slice(o,d),o=d},Pk=async function*(e,n){for await(const r of Bk(e))yield*$k(r,n)},Bk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:r,value:o}=await n.read();if(r)break;yield o}}finally{await n.cancel()}},ix=(e,n,r,o)=>{const d=Pk(e,n);let f=0,h,g=x=>{h||(h=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:y,value:b}=await d.next();if(y){g(),x.close();return}let N=b.byteLength;if(r){let j=f+=N;r(j)}x.enqueue(new Uint8Array(b))}catch(y){throw g(y),y}},cancel(x){return g(x),d.return()}},{highWaterMark:2})},ax=64*1024,{isFunction:bd}=Ee,Uk=(({Request:e,Response:n})=>({Request:e,Response:n}))(Ee.global),{ReadableStream:rx,TextEncoder:sx}=Ee.global,ox=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Zk=e=>{e=Ee.merge.call({skipUndefined:!0},Uk,e);const{fetch:n,Request:r,Response:o}=e,d=n?bd(n):typeof fetch=="function",f=bd(r),h=bd(o);if(!d)return!1;const g=d&&bd(rx),x=d&&(typeof sx=="function"?(E=>T=>E.encode(T))(new sx):async E=>new Uint8Array(await new r(E).arrayBuffer())),y=f&&g&&ox(()=>{let E=!1;const T=new r(Kn.origin,{body:new rx,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!T}),b=h&&g&&ox(()=>Ee.isReadableStream(new o("").body)),N={stream:b&&(E=>E.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!N[E]&&(N[E]=(T,A)=>{let R=T&&T[E];if(R)return R.call(T);throw new ht(`Response type '${E}' is not supported`,ht.ERR_NOT_SUPPORT,A)})});const j=async E=>{if(E==null)return 0;if(Ee.isBlob(E))return E.size;if(Ee.isSpecCompliantForm(E))return(await new r(Kn.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(E)||Ee.isArrayBuffer(E))return E.byteLength;if(Ee.isURLSearchParams(E)&&(E=E+""),Ee.isString(E))return(await x(E)).byteLength},z=async(E,T)=>{const A=Ee.toFiniteNumber(E.getContentLength());return A??j(T)};return async E=>{let{url:T,method:A,data:R,signal:U,cancelToken:H,timeout:P,onDownloadProgress:I,onUploadProgress:Z,responseType:J,headers:F,withCredentials:de="same-origin",fetchOptions:ve}=ab(E),ge=n||fetch;J=J?(J+"").toLowerCase():"text";let te=Dk([U,H&&H.toAbortSignal()],P),se=null;const B=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let me;try{if(Z&&y&&A!=="get"&&A!=="head"&&(me=await z(F,R))!==0){let $=new r(T,{method:"POST",body:R,duplex:"half"}),ae;if(Ee.isFormData(R)&&(ae=$.headers.get("content-type"))&&F.setContentType(ae),$.body){const[Q,W]=ex(me,Xd(tx(Z)));R=ix($.body,ax,Q,W)}}Ee.isString(de)||(de=de?"include":"omit");const D=f&&"credentials"in r.prototype,oe={...ve,signal:te,method:A.toUpperCase(),headers:F.normalize().toJSON(),body:R,duplex:"half",credentials:D?de:void 0};se=f&&new r(T,oe);let le=await(f?ge(se,ve):ge(T,oe));const Ae=b&&(J==="stream"||J==="response");if(b&&(I||Ae&&B)){const $={};["status","statusText","headers"].forEach(Ne=>{$[Ne]=le[Ne]});const ae=Ee.toFiniteNumber(le.headers.get("content-length")),[Q,W]=I&&ex(ae,Xd(tx(I),!0))||[];le=new o(ix(le.body,ax,Q,()=>{W&&W(),B&&B()}),$)}J=J||"text";let ce=await N[Ee.findKey(N,J)||"text"](le,E);return!Ae&&B&&B(),await new Promise(($,ae)=>{nb($,ae,{data:ce,headers:ji.from(le.headers),status:le.status,statusText:le.statusText,config:E,request:se})})}catch(D){throw B&&B(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,E,se),{cause:D.cause||D}):ht.from(D,D&&D.code,E,se)}}},Hk=new Map,rb=e=>{let n=e&&e.env||{};const{fetch:r,Request:o,Response:d}=n,f=[o,d,r];let h=f.length,g=h,x,y,b=Hk;for(;g--;)x=f[g],y=b.get(x),y===void 0&&b.set(x,y=g?new Map:Zk(n)),b=y;return y};rb();const Lp={http:rk,xhr:Rk,fetch:{get:rb}};Ee.forEach(Lp,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const lx=e=>`- ${e}`,qk=e=>Ee.isFunction(e)||e===null||e===!1;function Fk(e,n){e=Ee.isArray(e)?e:[e];const{length:r}=e;let o,d;const f={};for(let h=0;h<r;h++){o=e[h];let g;if(d=o,!qk(o)&&(d=Lp[(g=String(o)).toLowerCase()],d===void 0))throw new ht(`Unknown adapter '${g}'`);if(d&&(Ee.isFunction(d)||(d=d.get(n))))break;f[g||"#"+h]=d}if(!d){const h=Object.entries(f).map(([x,y])=>`adapter ${x} `+(y===!1?"is not supported by the environment":"is not available in the build"));let g=r?h.length>1?`since :
`+h.map(lx).join(`
`):" "+lx(h[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return d}const sb={getAdapter:Fk,adapters:Lp};function Cm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pl(null,e)}function cx(e){return Cm(e),e.headers=ji.from(e.headers),e.data=Tm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sb.getAdapter(e.adapter||Vc.adapter,e)(e).then(function(o){return Cm(e),o.data=Tm.call(e,e.transformResponse,o),o.headers=ji.from(o.headers),o},function(o){return tb(o)||(Cm(e),o&&o.response&&(o.response.data=Tm.call(e,e.transformResponse,o.response),o.response.headers=ji.from(o.response.headers))),Promise.reject(o)})}const ob="1.13.2",bf={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{bf[e]=function(o){return typeof o===e||"a"+(n<1?"n ":" ")+e}});const ux={};bf.transitional=function(n,r,o){function d(f,h){return"[Axios v"+ob+"] Transitional option '"+f+"'"+h+(o?". "+o:"")}return(f,h,g)=>{if(n===!1)throw new ht(d(h," has been removed"+(r?" in "+r:"")),ht.ERR_DEPRECATED);return r&&!ux[h]&&(ux[h]=!0,console.warn(d(h," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(f,h,g):!0}};bf.spelling=function(n){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function Vk(e,n,r){if(typeof e!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let d=o.length;for(;d-- >0;){const f=o[d],h=n[f];if(h){const g=e[f],x=g===void 0||h(g,f,e);if(x!==!0)throw new ht("option "+f+" must be "+x,ht.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ht("Unknown option "+f,ht.ERR_BAD_OPTION)}}const Rd={assertOptions:Vk,validators:bf},Ba=Rd.validators;let Ws=class{constructor(n){this.defaults=n||{},this.interceptors={request:new J_,response:new J_}}async request(n,r){try{return await this._request(n,r)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=io(this.defaults,r);const{transitional:o,paramsSerializer:d,headers:f}=r;o!==void 0&&Rd.assertOptions(o,{silentJSONParsing:Ba.transitional(Ba.boolean),forcedJSONParsing:Ba.transitional(Ba.boolean),clarifyTimeoutError:Ba.transitional(Ba.boolean)},!1),d!=null&&(Ee.isFunction(d)?r.paramsSerializer={serialize:d}:Rd.assertOptions(d,{encode:Ba.function,serialize:Ba.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Rd.assertOptions(r,{baseUrl:Ba.spelling("baseURL"),withXsrfToken:Ba.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=f&&Ee.merge(f.common,f[r.method]);f&&Ee.forEach(["delete","get","head","post","put","patch","common"],E=>{delete f[E]}),r.headers=ji.concat(h,f);const g=[];let x=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(r)===!1||(x=x&&T.synchronous,g.unshift(T.fulfilled,T.rejected))});const y=[];this.interceptors.response.forEach(function(T){y.push(T.fulfilled,T.rejected)});let b,N=0,j;if(!x){const E=[cx.bind(this),void 0];for(E.unshift(...g),E.push(...y),j=E.length,b=Promise.resolve(r);N<j;)b=b.then(E[N++],E[N++]);return b}j=g.length;let z=r;for(;N<j;){const E=g[N++],T=g[N++];try{z=E(z)}catch(A){T.call(this,A);break}}try{b=cx.call(this,z)}catch(E){return Promise.reject(E)}for(N=0,j=y.length;N<j;)b=b.then(y[N++],y[N++]);return b}getUri(n){n=io(this.defaults,n);const r=ib(n.baseURL,n.url,n.allowAbsoluteUrls);return J0(r,n.params,n.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(n){Ws.prototype[n]=function(r,o){return this.request(io(o||{},{method:n,url:r,data:(o||{}).data}))}});Ee.forEach(["post","put","patch"],function(n){function r(o){return function(f,h,g){return this.request(io(g||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Ws.prototype[n]=r(),Ws.prototype[n+"Form"]=r(!0)});let Ik=class lb{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(f){r=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const h=new Promise(g=>{o.subscribe(g),f=g}).then(d);return h.cancel=function(){o.unsubscribe(f)},h},n(function(f,h,g){o.reason||(o.reason=new pl(f,h,g),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=o=>{n.abort(o)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new lb(function(d){n=d}),cancel:n}}};function Gk(e){return function(r){return e.apply(null,r)}}function Yk(e){return Ee.isObject(e)&&e.isAxiosError===!0}const Km={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Km).forEach(([e,n])=>{Km[n]=e});function cb(e){const n=new Ws(e),r=U0(Ws.prototype.request,n);return Ee.extend(r,Ws.prototype,n,{allOwnKeys:!0}),Ee.extend(r,n,null,{allOwnKeys:!0}),r.create=function(d){return cb(io(e,d))},r}const bn=cb(Vc);bn.Axios=Ws;bn.CanceledError=pl;bn.CancelToken=Ik;bn.isCancel=tb;bn.VERSION=ob;bn.toFormData=xf;bn.AxiosError=ht;bn.Cancel=bn.CanceledError;bn.all=function(n){return Promise.all(n)};bn.spread=Gk;bn.isAxiosError=Yk;bn.mergeConfig=io;bn.AxiosHeaders=ji;bn.formToJSON=e=>eb(Ee.isHTMLForm(e)?new FormData(e):e);bn.getAdapter=sb.getAdapter;bn.HttpStatusCode=Km;bn.default=bn;const{Axios:NL,AxiosError:SL,CanceledError:jL,isCancel:AL,CancelToken:EL,VERSION:kL,all:TL,Cancel:CL,isAxiosError:zL,spread:ML,toFormData:LL,AxiosHeaders:OL,HttpStatusCode:RL,formToJSON:DL,getAdapter:$L,mergeConfig:PL}=bn,Xk=(()=>{if(typeof window<"u"){const n=window.location.hostname;if(n==="localhost"||n==="127.0.0.1"||n.startsWith("192.168."))return"http://localhost:5000"}return"https://server.rootsmaghreb.com"})(),Qk=Xk.replace(/\/+$/,""),Ie=bn.create({baseURL:`${Qk}/api`,timeout:15e3,headers:{Accept:"application/json"},withCredentials:!1}),ub=(e,n)=>{if(!(typeof window>"u"))try{window.dispatchEvent(new CustomEvent(e,{detail:n}))}catch{}},Kk=e=>{const n=String(e||"");if(!n)return"";if(n.startsWith("http://")||n.startsWith("https://"))try{return new URL(n).pathname||n}catch{return n}return n};Ie.interceptors.request.use(e=>{const n=localStorage.getItem("token"),r=String(e?.url||""),o=Kk(r),d=o.includes("/my/")||o.includes("/admin/")||o.includes("/auth/me")||o.includes("/auth/logout");if(!n&&d){ub("auth:missing",{url:r,path:o});const f=new Error("AUTH_MISSING");throw f.code="AUTH_MISSING",f.isAuthError=!0,f}return n&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e));Ie.interceptors.response.use(e=>e,e=>{const n=e?.response?.status;return n===401&&(localStorage.removeItem("token"),ub("auth:expired",{status:n}),typeof window<"u"&&!window.location.pathname.startsWith("/login")&&(window.location.href="/login")),Promise.reject(e)});const db=k.createContext(null);function Jk({children:e}){const[n,r]=k.useState(null),[o,d]=k.useState(!0),f=j=>String(j||"").trim().toLowerCase(),h=k.useCallback(async()=>{if(!localStorage.getItem("token"))return r(null),null;try{const z=await Ie.get("/auth/me");return r(z.data),z.data}catch{return localStorage.removeItem("token"),r(null),null}},[]);k.useEffect(()=>{if(!localStorage.getItem("token")){d(!1);return}h().finally(()=>d(!1))},[h]),k.useEffect(()=>{const j=()=>{localStorage.removeItem("token"),r(null),d(!1)},z=()=>{r(null),d(!1)};return window.addEventListener("auth:expired",j),window.addEventListener("auth:missing",z),()=>{window.removeEventListener("auth:expired",j),window.removeEventListener("auth:missing",z)}},[]);const g=(j,z,E,T)=>Ie.post("/auth/signup",{fullName:j?.trim(),phone:z?.trim(),email:f(E),password:T}),x=async(j,z)=>{const E=await Ie.post("/auth/login",{email:f(j),password:z});return console.log("AuthContext login response:",E.data),localStorage.setItem("token",E.data.token),r(E.data.user),E.data.user},y=j=>Ie.post("/auth/reset",{email:f(j)}),b=(j,z,E)=>Ie.post("/auth/reset/verify",{email:f(j),code:String(z||"").trim(),newPassword:E}),N=async()=>{try{await Ie.post("/auth/logout")}catch{}finally{localStorage.removeItem("token"),r(null)}};return l.jsx(db.Provider,{value:{user:n,loading:o,signup:g,login:x,requestReset:y,verifyReset:b,logout:N,refreshMe:h},children:e})}const Di=()=>k.useContext(db),Dd="en",dx=["en","fr","ar","es"],Wk=e=>e==="ar",fx=e=>{switch(e){case"fr":return"FR";case"ar":return"AR";case"es":return"ES";case"en":default:return"EN"}},zm={en:{home:"Home",library:"Library",research:"Research",periods:"Periods",archives:"Archives",contact:"Contact",login:"Login",logout:"Logout",dashboard:"Dashboard",admin:"Admin",search:"Search...",menu:"Menu",language:"Language",loading:"Loading...",no_results:"No suggestions",trees:"Family Trees",home_hero_title:"Discover Your Maghreb Heritage",start_exploring:"Start Exploring",family_tree_builder:"Family Tree Builder",see_more:"See more",ancestral_stories:"Ancestral Stories",library_title:"North African Genealogy Library",archives_and_sources:"Archives and Sources",join_our_community:"Join Our Community",join_now:"Join Now",users:"Users",books:"Books",settings:"Settings",activity:"Activity Log",unknown:"Unknown",back_to_main:"Back to Main Site",gallery:"Gallery",photo_gallery:"Photo Gallery",gallery_intro:"Explore our collection of historical photos, family memories, and cultural heritage",search_photos:"Search photos, locations, years...",loading_gallery:"Loading gallery...",no_results_found:"No results found",no_photos_available:"No photos available yet",images_unavailable:"Images are temporarily unavailable.",try_different_search:"Try a different search term",check_back_later:"Check back later for new content",showing_photos:"Showing",photo:"photo",photos:"photos",archive_information:"Archive Information",archive_source:"Archive Source",document_code:"Document Code",location:"Location",year:"Year",photographer:"Photographer",uploaded_by:"Uploaded by",anonymous:"Anonymous",fill_required_fields:"Please fill all required fields",update_success:"Photo updated successfully!",image_required:"Please select an image",upload_success:"Photo uploaded successfully!",operation_failed:"Operation failed",confirm_delete:"Are you sure you want to delete this item?",delete_success:"Photo deleted successfully!",delete_failed:"Failed to delete",gallery_management:"Gallery Management",edit_photo:"Edit Photo",upload_new_photo:"Upload New Photo",cancel:"Cancel",select_image:"Select Image",current_image:"Current Image",click_to_upload:"Click to upload image",title:"Title",enter_title:"Enter photo title...",make_public:"Make public (visible to all users)",description:"Description",enter_description:"Enter description...",archive_metadata:"Archive Metadata",optional:"Optional",save_changes:"Save Changes",saving:"Saving...",uploading:"Uploading...",upload:"Upload",uploaded_photos:"Uploaded Photos",no_photos_yet:"No photos uploaded yet",auto_saved:"Auto-saved.",auto_saving:"Auto-saving...",canvas:"Canvas",canvas_hint:"Import a file or add people to start.",clear:"Clear",clear_canvas:"Clear canvas",delete_tree:"Delete Tree",deleting:"Deleting...",tree_details:"Tree Details",new_tree:"New Tree",tree_title:"Tree title",tree_title_required:"Tree title is required.",tree_deleted:"Tree deleted.",trees_builder:"Family Tree Builder",refresh:"Refresh",my_trees:"My Trees",public_trees:"Public Trees",search_trees:"Search trees...",no_trees_found:"No trees found.",trees_unavailable:"Trees are temporarily unavailable.",has_file:"Has file",no_file:"No file",private:"Private",public:"Public",save_tree:"Save Tree",save_empty_tree_confirm:"Save this tree without any people yet?",update_tree:"Update Tree",explore_by_category:"Explore by Category",all_categories:"All Categories",download:"Download",open:"Open",books_admin_desc:"Upload and manage your genealogy library.",add_book:"Add Book",upload_book:"Upload Book",upload_book_desc:"Add a PDF or document to the library.",add_cover:"Add cover",cover_image:"Cover Image",public_visible:"Public (visible on website)",actions:"Actions",category:"Category",downloads:"Downloads",file:"File",date:"Date",public_books:"Public Books",my_books:"My Books",admin_panel:"ROOTS MAGHREB ADMIN",admin_tip:"Use this panel to manage collections, trees, and gallery content.",preferences:"Preferences",close:"Close",dark_mode:"Dark mode",light_mode:"Light mode",sources:"Sources",access_reliability:"Access & Reliability",images:"Images",library_intro:"Books, family trees, and archival photography in one curated library.",library_search:"Search the library",search_library:"Search books, trees, images...",all_content:"All content",all_trees:"All Trees",with_gedcom:"With GEDCOM file",all_locations:"All Locations",all_years:"All Years",latest_updates:"Latest uploads",latest_book:"Latest book",latest_tree:"Latest tree",latest_image:"Latest image",no_description:"No description.",uncategorized:"Uncategorized",newsletter:"Newsletter",newsletter_prompt:"Leave your email and we will reach out to you.",subscribe:"Subscribe",subscribing:"Subscribing...",newsletter_email_required:"Email is required.",newsletter_success:"Thanks! We will reach out to you soon.",newsletter_failed:"Failed to subscribe.",email:"Email",archives_title:"Archives & Civil Status Repositories",archives_intro:"Navigate Ottoman court registers, colonial archives, and municipal civil status offices that preserve Maghreb genealogy.",archives_access:"How to Access Archives",sources_title:"Primary Sources for Maghreb Genealogy",sources_intro:"Combine documentary evidence with oral narratives to reconstruct family histories.",primary_sources:"Primary Sources",secondary_sources:"Secondary Sources",access_title:"Access & Reliability of Sources",access_intro:"Understand archive access rules and validate the reliability of every genealogy source.",access_guidelines:"Access Guidelines",reliability_checks:"Reliability Checks",yes:"Yes",no:"No",tree_saved:"Tree saved.",tree_updated:"Tree updated.",tree_loaded:"Tree loaded.",trees_loaded:"Trees loaded.",person_added:"Person added.",person_updated:"Person updated.",person_deleted:"Person deleted.",confirm_delete_tree:"Delete this tree? This action cannot be undone.",books_loaded:"Books loaded.",book_uploaded:"Book uploaded.",book_deleted:"Book deleted.",confirm_delete_book:"Delete this book?",title_required:"Title is required",file_required:"File is required",cover_required:"Cover image is required",gallery_loaded:"Images loaded.",gallery_created:"Image uploaded.",gallery_updated:"Image updated.",gallery_deleted:"Image deleted.",users_loaded:"Users loaded.",user_created:"User created.",user_updated:"User updated.",user_deleted:"User deleted.",confirm_delete_user:"Delete this user?",cannot_delete_self:"You cannot delete your own account.",no_books_found:"No books found.",books_unavailable:"Books are temporarily unavailable.",file_label:"File",downloads_label:"Downloads",library_category_manuscripts:"Manuscripts",library_category_photos:"Photo Archives",archives_ottoman_title:"Ottoman Archives",archives_ottoman_desc:"Registers from the Beylik, Qadi courts, and administrative diwans preserve pre-colonial lineage records.",archives_ottoman_b1:"Qadi court registers (marriage, inheritance, guardianship)",archives_ottoman_b2:"Habous & waqf property ledgers",archives_ottoman_b3:"Beylik taxation and census notes",archives_colonial_title:"Colonial Archives (ANOM)",archives_colonial_desc:"Colonial civil status records provide structured birth, marriage, and death documents.",archives_colonial_b1:"Surnames fixation records (1882 onward)",archives_colonial_b2:"Colonial censuses & conscription rolls",archives_colonial_b3:"Land surveys and settlement maps",archives_apc_title:"Post-Independence APC Records",archives_apc_desc:"Municipal civil status offices hold modern files that bridge families into the present.",archives_apc_b1:"Birth/marriage/death registers",archives_apc_b2:"Family booklets & ID archives",archives_apc_b3:"Municipal migration documentation",archives_maps_title:"Maps & Territorial Archives",archives_maps_desc:"Historical cartography traces family territories, tribal borders, and migration routes.",archives_maps_b1:"Senatus-consulte tribal maps (1863)",archives_maps_b2:"Ottoman land surveys",archives_maps_b3:"Colonial cadastral charts",archives_manuscripts_title:"Manuscripts & Nasab Texts",archives_manuscripts_desc:"Genealogical manuscripts, zawiya registries, and tribal chronicles provide narrative context.",archives_manuscripts_b1:"Tribal nasab manuscripts",archives_manuscripts_b2:"Zawiya registers and lineage notes",archives_manuscripts_b3:"Regional chronicle compilations",archives_private_title:"Private Collections",archives_private_desc:"Family-held deeds, letters, and oral histories often fill missing branches in public records.",archives_private_b1:"Property deeds and waqf deeds",archives_private_b2:"Family correspondences",archives_private_b3:"Oral testimonies and photos",archives_access_step1_title:"Plan your archive visit",archives_access_step1_desc:"Confirm opening hours, required IDs, and file request procedures before you travel.",archives_access_step2_title:"Use catalog references",archives_access_step2_desc:"Record shelf codes, archive boxes, and series numbers to retrieve documents efficiently.",archives_access_step3_title:"Document provenance",archives_access_step3_desc:"Capture archive citations and metadata to validate sources later.",sources_manuscripts_title:"Manuscripts & Nasab",sources_manuscripts_desc:"Genealogical manuscripts and zawiya registries capture lineage chains and tribal narratives.",sources_civil_title:"Civil Status Records",sources_civil_desc:"Birth, marriage, and death certificates anchor relationships with verified dates.",sources_oral_title:"Oral Histories",sources_oral_desc:"Recorded testimonies from elders provide context for migrations, alliances, and patronymics.",sources_private_title:"Private Family Archives",sources_private_desc:"Letters, property deeds, and family notebooks often contain missing branches.",sources_academic_title:"Academic Studies",sources_academic_desc:"Anthropology and history publications contextualize tribal movements and social structures.",sources_digital_title:"Digital Collections",sources_digital_desc:"ANOM, Gallica, and regional digitization portals provide searchable scans.",access_requirements_title:"Access Requirements",access_requirements_desc:"Some archives require appointment letters, national IDs, or family proof. Always confirm before visiting.",access_reference_title:"Reference Tracking",access_reference_desc:"Record archive box codes, shelf numbers, and page references to validate each citation.",access_protection_title:"Data Protection",access_protection_desc:"Respect privacy laws for modern civil records and avoid publishing sensitive personal data.",reliability_cross_title:"Cross-check sources",reliability_cross_desc:"Validate the same lineage across multiple registers and oral testimonies.",reliability_gaps_title:"Identify gaps",reliability_gaps_desc:"Flag missing years, name variations, and inconsistent patronymics.",reliability_balance_title:"Balance narratives",reliability_balance_desc:"Combine written documentation with oral histories to avoid biased records.",periods_hero_label:"Historical Periods",periods_hero_title:"Maghreb Genealogy Through Time",periods_hero_intro:"Chart the shifts from Ottoman patronymics through colonial surname reforms to modern civil archives.",periods_timeline_title:"Timeline Overview",periods_research_focus_title:"Research Focus by Period",periods_ottoman_title:"Ottoman Period (1516-1830)",periods_ottoman_desc:"Patronymic lineages, Qadi archives, waqf documents, and tribal authority defined family structures.",periods_ottoman_b1:"Patronymic naming: Ahmed ben Mohamed ben Ali",periods_ottoman_b2:"Qadi court registers for marriage & inheritance",periods_ottoman_b3:"Habous & religious property documentation",periods_ottoman_b4:"Tribal councils and zawiya genealogies",periods_transition_title:"Transition (1830-1882)",periods_transition_desc:"French military governance introduced civil status experiments alongside traditional systems.",periods_transition_b1:"Arab Bureau colonial oversight",periods_transition_b2:"Early census and registration attempts",periods_transition_b3:"Ethnographic reports on tribal structure",periods_transition_b4:"Military records for controlled regions",periods_colonial_title:"Colonial Era (1882-1962)",periods_colonial_desc:"Fixed surnames and modern civil architecture created systematic records preserved at ANOM.",periods_colonial_b1:"Surnames fixation law (1882)",periods_colonial_b2:"Municipal birth/marriage/death registries",periods_colonial_b3:"ANOM-digitized colonial files",periods_colonial_b4:"Land surveys and civil cadastre",periods_independence_title:"Independence & Beyond (1962-Present)",periods_independence_desc:"Municipal APC offices maintain up-to-date civil status with national identity and migration logs.",periods_independence_b1:"National ID registration files",periods_independence_b2:"APC birth/marriage/death records",periods_independence_b3:"Regional migration studies",periods_independence_b4:"Diaspora documentation and reunification",periods_timeline_ottoman:"1516-1830 - Ottoman Rule",periods_timeline_ottoman_desc:"Patronymic traditions, Qadi rulings, waqf endowments.",periods_timeline_transition:"1830-1882 - Transition",periods_timeline_transition_desc:"Military rule, first census data, Balkan-style reforms.",periods_timeline_colonial:"1882-1962 - Colonial Era",periods_timeline_colonial_desc:"Permanent surnames, civil registers, ANOM archives.",periods_timeline_independence:"1962-Present - Independence",periods_timeline_independence_desc:"APC civil records, migration tracking, digital archives.",periods_highlight_ottoman_title:"Ottoman Records",periods_highlight_ottoman_desc:"Qadi rulings, waqf deeds, and tribal convenings are often preserved in regional archives.",periods_highlight_colonial_title:"Colonial Registers",periods_highlight_colonial_desc:"Civil status files and cadastral records anchor surname transitions and family locations.",periods_highlight_modern_title:"Modern Civil Status",periods_highlight_modern_desc:"APC offices maintain certified birth, marriage, and death extracts used for verification.",periods_highlight_migration_title:"Migration Maps",periods_highlight_migration_desc:"Administrative reports and cartography trace movement between oases, coasts, and hinterlands."},fr:{home:"Accueil",library:"Bibliothque",research:"Recherche",periods:"Priodes",archives:"Archives",contact:"Contact",login:"Connexion",logout:"Dconnexion",dashboard:"Tableau de bord",admin:"Admin",search:"Rechercher...",menu:"Menu",language:"Langue",loading:"Chargement...",no_results:"Aucun rsultat",trees:"Arbres Gnalogiques",home_hero_title:"Dcouvrez Votre Hritage Maghrbin",start_exploring:"Commencer l'exploration",family_tree_builder:"Constructeur d'Arbre Gnalogique",see_more:"Voir plus",ancestral_stories:"Histoires Ancestrales",library_title:"Bibliothque Gnalogique Nord-Africaine",archives_and_sources:"Archives et Sources",join_our_community:"Rejoignez Notre Communaut",join_now:"Rejoindre",users:"Utilisateurs",books:"Livres",settings:"Paramtres",activity:"Journal d'activit",unknown:"Inconnu",back_to_main:"Retour au site",gallery:"Galerie",photo_gallery:"Galerie Photo",gallery_intro:"Explorez notre collection de photos historiques, souvenirs familiaux et patrimoine culturel",search_photos:"Recherchez des photos, lieux, annes...",loading_gallery:"Chargement de la galerie",no_results_found:"Aucun rsultat trouv",no_photos_available:"Aucune photo disponible pour l'instant",try_different_search:"Essayez un autre mot-cl",check_back_later:"Revenez plus tard pour du nouveau contenu",showing_photos:"Affichage de",photo:"photo",photos:"photos",archive_information:"Informations d'archive",archive_source:"Source d'archive",document_code:"Code du document",location:"Lieu",year:"Anne",photographer:"Photographe",uploaded_by:"Tlcharg par",anonymous:"Anonyme",fill_required_fields:"Veuillez remplir tous les champs requis",update_success:"Photo mise  jour avec succs !",image_required:"Veuillez slectionner une image",upload_success:"Photo tlcharge avec succs !",operation_failed:"Opration choue",confirm_delete:"tes-vous sr de vouloir supprimer cet lment ?",delete_success:"Photo supprime avec succs !",delete_failed:"Suppression choue",gallery_management:"Gestion de la galerie",edit_photo:"Modifier la photo",upload_new_photo:"Tlcharger une nouvelle photo",cancel:"Annuler",select_image:"Slectionner une image",current_image:"Image actuelle",click_to_upload:"Cliquez pour tlcharger une image",title:"Titre",enter_title:"Entrez le titre de la photo...",make_public:"Rendre public (visible par tous)",description:"Description",enter_description:"Entrez une description...",archive_metadata:"Mtadonnes d'archive",optional:"Optionnel",save_changes:"Enregistrer les modifications",saving:"Enregistrement...",uploading:"Tlchargement...",upload:"Tlcharger",uploaded_photos:"Photos tlcharges",no_photos_yet:"Aucune photo tlcharge pour l'instant",auto_saved:"Enregistr automatiquement.",auto_saving:"Enregistrement automatique...",canvas:"Zone de dessin",canvas_hint:"Importez un fichier ou ajoutez des personnes pour commencer.",clear:"Effacer",clear_canvas:"Effacer la zone",delete_tree:"Supprimer l'arbre",deleting:"Suppression...",tree_details:"Dtails de l'arbre",new_tree:"Nouvel arbre",tree_title:"Titre de l'arbre",tree_title_required:"Le titre de l'arbre est requis.",tree_deleted:"Arbre supprim.",trees_builder:"Constructeur d'arbre gnalogique",refresh:"Rafrachir",my_trees:"Mes arbres",public_trees:"Arbres publics",search_trees:"Rechercher des arbres...",no_trees_found:"Aucun arbre trouv.",has_file:"Contient un fichier",no_file:"Pas de fichier",private:"Priv",public:"Public",save_tree:"Enregistrer l'arbre",save_empty_tree_confirm:"Enregistrer cet arbre sans personne pour l'instant ?",update_tree:"Mettre  jour l'arbre",explore_by_category:"Explorer par catgorie",all_categories:"Toutes les catgories",download:"Tlcharger",open:"Ouvrir",books_admin_desc:"Tlchargez et grez votre bibliothque gnalogique.",add_book:"Ajouter un livre",upload_book:"Tlcharger un livre",upload_book_desc:"Ajoutez un PDF ou document  la bibliothque.",add_cover:"Ajouter une couverture",cover_image:"Image de couverture",public_visible:"Public (visible sur le site)",actions:"Actions",category:"Catgorie",downloads:"Tlchargements",file:"Fichier",date:"Date",public_books:"Livres publics",my_books:"Mes livres",admin_panel:"ADMIN ROOTS MAGHREB",admin_tip:"Utilisez ce panneau pour grer les collections, les arbres et la galerie.",preferences:"Prfrences",close:"Fermer",dark_mode:"Mode sombre",light_mode:"Mode clair"},ar:{home:"",library:"",research:"",periods:" ",archives:"",contact:" ",login:"",logout:"",dashboard:" ",admin:"",search:"...",menu:"",language:"",loading:" ...",no_results:"  ",trees:" ",home_hero_title:"  ",start_exploring:" ",family_tree_builder:"  ",see_more:" ",ancestral_stories:" ",library_title:"   ",archives_and_sources:" ",join_our_community:"  ",join_now:" ",users:"",books:"",settings:"",activity:" ",unknown:"",back_to_main:" ",gallery:"",photo_gallery:" ",gallery_intro:"        ",search_photos:"    ...",loading_gallery:"  ...",no_results_found:"    ",no_photos_available:"    ",try_different_search:"   ",check_back_later:"   ",showing_photos:"",photo:"",photos:"",archive_information:" ",archive_source:" ",document_code:" ",location:"",year:"",photographer:"",uploaded_by:"  ",anonymous:"",fill_required_fields:"    ",update_success:"   !",image_required:"  ",upload_success:"   !",operation_failed:" ",confirm_delete:"       ",delete_success:"   !",delete_failed:" ",gallery_management:" ",edit_photo:" ",upload_new_photo:"  ",cancel:"",select_image:" ",current_image:" ",click_to_upload:"  ",title:"",enter_title:"  ...",make_public:"  ( )",description:"",enter_description:" ...",archive_metadata:"  ",optional:"",save_changes:" ",saving:" ...",uploading:" ...",upload:"",uploaded_photos:" ",no_photos_yet:"     ",auto_saved:"  .",auto_saving:"  ...",canvas:" ",canvas_hint:"     .",clear:"",clear_canvas:" ",delete_tree:" ",deleting:" ...",tree_details:" ",new_tree:" ",tree_title:" ",tree_title_required:"  .",tree_deleted:"  .",trees_builder:"  ",refresh:"",my_trees:"",public_trees:" ",search_trees:"  ...",no_trees_found:"    .",has_file:" ",no_file:"  ",private:"",public:"",save_tree:" ",save_empty_tree_confirm:"       ",update_tree:" ",explore_by_category:"  ",all_categories:" ",download:"",open:"",books_admin_desc:"    .",add_book:" ",upload_book:" ",upload_book_desc:"  PDF    .",add_cover:" ",cover_image:" ",public_visible:" (  )",actions:"",category:"",downloads:" ",file:"",date:"",public_books:" ",my_books:"",admin_panel:"   ",admin_tip:"       .",preferences:"",close:"",dark_mode:" ",light_mode:" "},es:{home:"Inicio",library:"Biblioteca",research:"Investigacin",periods:"Perodos",archives:"Archivos",contact:"Contacto",login:"Iniciar sesin",logout:"Cerrar sesin",dashboard:"Tablero",admin:"Admin",search:"Buscar...",menu:"Men",language:"Idioma",loading:"Cargando...",no_results:"Sin resultados",trees:"rboles Genealgicos",home_hero_title:"Descubre Tu Herencia Magreb",start_exploring:"Empezar a explorar",family_tree_builder:"Constructor de rbol Genealgico",see_more:"Ver ms",ancestral_stories:"Historias Ancestrales",library_title:"Biblioteca Genealgica del Norte de frica",archives_and_sources:"Archivos y Fuentes",join_our_community:"nete a Nuestra Comunidad",join_now:"nete Ahora",users:"Usuarios",books:"Libros",settings:"Configuracin",activity:"Registro de actividad",unknown:"Desconocido",back_to_main:"Volver al sitio",gallery:"Galera",photo_gallery:"Galera de Fotos",gallery_intro:"Explora nuestra coleccin de fotos histricas, recuerdos familiares y patrimonio cultural",search_photos:"Busca fotos, ubicaciones, aos...",loading_gallery:"Cargando galera...",no_results_found:"No se encontraron resultados",no_photos_available:"An no hay fotos disponibles",try_different_search:"Prueba con otro trmino de bsqueda",check_back_later:"Vuelve ms tarde para ver nuevo contenido",showing_photos:"Mostrando",photo:"foto",photos:"fotos",archive_information:"Informacin del archivo",archive_source:"Fuente del archivo",document_code:"Cdigo del documento",location:"Ubicacin",year:"Ao",photographer:"Fotgrafo",uploaded_by:"Subido por",anonymous:"Annimo",fill_required_fields:"Por favor completa todos los campos obligatorios",update_success:"Foto actualizada correctamente!",image_required:"Selecciona una imagen",upload_success:"Foto subida correctamente!",operation_failed:"Operacin fallida",confirm_delete:"Seguro que deseas eliminar este elemento?",delete_success:"Foto eliminada correctamente!",delete_failed:"Error al eliminar",gallery_management:"Gestin de la galera",edit_photo:"Editar foto",upload_new_photo:"Subir nueva foto",cancel:"Cancelar",select_image:"Selecciona una imagen",current_image:"Imagen actual",click_to_upload:"Haz clic para subir una imagen",title:"Ttulo",enter_title:"Introduce el ttulo de la foto...",make_public:"Hazlo pblico (visible para todos)",description:"Descripcin",enter_description:"Introduce una descripcin...",archive_metadata:"Metadatos del archivo",optional:"Opcional",save_changes:"Guardar cambios",saving:"Guardando...",uploading:"Subiendo...",upload:"Subir",uploaded_photos:"Fotos subidas",no_photos_yet:"An no se han subido fotos",auto_saved:"Guardado automticamente.",auto_saving:"Guardando automticamente...",canvas:"Lienzo",canvas_hint:"Importa un archivo o aade personas para comenzar.",clear:"Borrar",clear_canvas:"Limpiar lienzo",delete_tree:"Eliminar rbol",deleting:"Eliminando...",tree_details:"Detalles del rbol",new_tree:"Nuevo rbol",tree_title:"Ttulo del rbol",tree_title_required:"El ttulo del rbol es obligatorio.",tree_deleted:"rbol eliminado.",trees_builder:"Constructor de rbol genealgico",refresh:"Actualizar",my_trees:"Mis rboles",public_trees:"rboles pblicos",search_trees:"Buscar rboles...",no_trees_found:"No se encontraron rboles.",has_file:"Tiene archivo",no_file:"Sin archivo",private:"Privado",public:"Pblico",save_tree:"Guardar rbol",save_empty_tree_confirm:"Guardar este rbol sin personas an?",update_tree:"Actualizar rbol",explore_by_category:"Explorar por categora",all_categories:"Todas las categoras",download:"Descargar",open:"Abrir",books_admin_desc:"Sube y administra tu biblioteca genealgica.",add_book:"Agregar libro",upload_book:"Subir libro",upload_book_desc:"Aade un PDF o documento a la biblioteca.",add_cover:"Aadir portada",cover_image:"Imagen de portada",public_visible:"Pblico (visible en el sitio web)",actions:"Acciones",category:"Categora",downloads:"Descargas",file:"Archivo",date:"Fecha",public_books:"Libros pblicos",my_books:"Mis libros",admin_panel:"ADMIN ROOTS MAGHREB",admin_tip:"Usa este panel para gestionar colecciones, rboles y contenido de la galera.",preferences:"Preferencias",close:"Cerrar",dark_mode:"Modo oscuro",light_mode:"Modo claro"}},e5=(e,n,r)=>{const d=(zm[e]||zm[Dd])[n];if(d)return d;if(e!==Dd){const f=zm[Dd][n];if(f)return f}return r||n},hx="locale",fb=k.createContext(null);function t5({children:e}){const[n,r]=k.useState(()=>{const f=localStorage.getItem(hx);return dx.includes(f)?f:Dd}),o=Wk(n)?"rtl":"ltr";k.useEffect(()=>{try{localStorage.setItem(hx,n)}catch{}},[n]),k.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=o},[n,o]);const d=k.useMemo(()=>({locale:n,dir:o,locales:dx,setLocale:r,t:(f,h)=>e5(n,f,h)}),[n,o]);return l.jsx(fb.Provider,{value:d,children:e})}function fn(){const e=k.useContext(fb);if(!e)throw new Error("useTranslation must be used within TranslationProvider");return e}const n5=e=>{switch(e){case"fr":return"Francais";case"ar":return"Arabic";case"es":return"Espanol";case"en":default:return"English"}};function Qd({className:e="",buttonClassName:n="",align:r="right"}){const{theme:o}=dn(),d=o==="dark",{locale:f,locales:h,setLocale:g,t:x}=fn(),[y,b]=k.useState(!1),N=k.useRef(null);k.useEffect(()=>{if(!y)return;const E=T=>{N.current&&(N.current.contains(T.target)||b(!1))};return document.addEventListener("mousedown",E),document.addEventListener("touchstart",E,{passive:!0}),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("touchstart",E)}},[y]);const j=k.useMemo(()=>`absolute ${r==="left"?"left-0":"right-0"} mt-2 w-48 rounded-md border ${d?"border-[#3e2723]":"border-[#e8dfca]"} ${d?"bg-[#3e2723]":"bg-[#f8f5ef]"} ${d?"text-[#e8dfca]":"text-[#2c1810]"} shadow-[0_16px_40px_rgba(0,0,0,0.25)] overflow-hidden z-[999]`,[r,d]),z=k.useMemo(()=>`w-full flex items-center justify-between px-3 py-2 text-sm ${d?"hover:bg-white/10":"hover:bg-[#d4af37]/12"}`,[d]);return l.jsxs("div",{className:`relative ${e}`,ref:N,children:[l.jsx("button",{type:"button","aria-label":x("language","Language"),className:n,onClick:()=>b(E=>!E),children:l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(vp,{className:"w-5 h-5"}),l.jsx("span",{className:"text-[11px] font-semibold",children:fx(f)})]})}),y?l.jsx("div",{className:j,role:"menu","aria-label":"language-menu",children:h.map(E=>l.jsxs("button",{type:"button",className:`${z} ${E===f?"opacity-100":"opacity-90"}`,onClick:()=>{g(E),b(!1)},children:[l.jsx("span",{children:n5(E)}),E===f?l.jsx("span",{className:"text-[11px] font-semibold text-[#d4af37]",children:""}):l.jsx("span",{className:"text-xs opacity-60",children:fx(E)})]},E))}):null]})}const i5=YA({query:SA().min(1,"Search cannot be empty")});function a5(){const{theme:e,toggleTheme:n}=dn(),{user:r,logout:o}=Di(),{t:d}=fn(),[f,h]=k.useState(!1),[g,x]=k.useState({trees:[],people:[]}),[y,b]=k.useState(!1),[N,j]=k.useState(!1),[z,E]=k.useState(""),T=k.useRef(null),A=k.useRef(""),R=ro(),{register:U,handleSubmit:H,formState:{errors:P},watch:I,setValue:Z}=u3({resolver:tA(i5)}),J=U("query"),F=B=>{b(!1),h(!1),R(`/library?q=${encodeURIComponent(B.query)}`)},de=I("query")||"";k.useEffect(()=>{const B=String(de||"").trim();if(A.current=B,T.current&&clearTimeout(T.current),B.length<2){x({trees:[],people:[]}),b(!1),j(!1),E("");return}return T.current=setTimeout(async()=>{j(!0),E("");try{const{data:me}=await Ie.get(`/search/suggest?q=${encodeURIComponent(B)}`);if(A.current!==B)return;x({trees:Array.isArray(me?.trees)?me.trees:[],people:Array.isArray(me?.people)?me.people:[]}),b(!0)}catch(me){if(A.current!==B)return;E(me.response?.data?.message||"Failed to load suggestions"),x({trees:[],people:[]})}finally{A.current===B&&j(!1)}},300),()=>{T.current&&clearTimeout(T.current)}},[de]);const ve=()=>{String(de||"").trim().length>=2&&b(!0)},ge=()=>{window.setTimeout(()=>b(!1),150)},te=B=>{B&&(Z("query",B,{shouldValidate:!0}),b(!1),R(`/library?q=${encodeURIComponent(B)}`))},se=[{to:"/",label:d("home","Home")},{to:"/library",label:d("library","Library")},{to:"/periods",label:d("periods","Periods")},{to:"/archives",label:d("archives","Archives")},{to:"/sources",label:d("sources","Sources")},{to:"/access-reliability",label:d("access_reliability","Access & Reliability")}];return l.jsxs("header",{className:"heritage-header",children:[l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"header-content",children:[l.jsxs(Za,{to:"/",className:"logo","data-aos":"fade-right",children:[l.jsx("div",{className:"logo-icon",children:l.jsx(Vn,{size:32})}),l.jsxs("div",{className:"logo-text",children:["roots",l.jsx("span",{children:"maghreb"})]})]}),l.jsx("nav",{className:"header-nav hidden lg:flex","aria-label":"Primary",children:l.jsxs("ul",{className:"nav-links",children:[se.map(({to:B,label:me})=>l.jsx("li",{children:l.jsx(Qn,{to:B,className:({isActive:D})=>`header-link${D?" active":""}`,children:me})},B)),r&&l.jsx("li",{children:l.jsx(Qn,{to:"/admin",className:({isActive:B})=>`header-link${B?" active":""}`,children:r?.role===1?d("admin","Admin"):d("dashboard","Dashboard")})})]})}),l.jsxs("div",{className:"header-actions hidden lg:flex",children:[l.jsxs("form",{className:"header-search",onSubmit:H(F),children:[l.jsx(br,{className:"search-icon"}),l.jsx("input",{...J,type:"search",placeholder:d("search","Search..."),onFocus:ve,onBlur:ge,"aria-label":d("search","Search")}),y&&l.jsx("div",{className:"search-suggestions",children:N?l.jsx("p",{children:d("loading","Loading...")}):z?l.jsx("p",{className:"suggest-error",children:z}):g.trees.length||g.people.length?l.jsxs(l.Fragment,{children:[g.trees.map(B=>l.jsxs("button",{type:"button",onMouseDown:()=>te(B.title),children:[l.jsx("strong",{children:B.title}),l.jsx("span",{children:d("trees","Family Trees")})]},`tree-${B.id}`)),g.people.map(B=>l.jsxs("button",{type:"button",onMouseDown:()=>te(B.name||""),children:[l.jsx("strong",{children:B.name||"Unknown"}),l.jsx("span",{children:B.tree_title?`Tree: ${B.tree_title}`:"Person"})]},`person-${B.id}`))]}):l.jsx("p",{children:d("no_results","No suggestions")})})]}),l.jsx("button",{type:"button",onClick:n,className:"heritage-btn-icon","aria-label":"Toggle theme",children:e==="dark"?l.jsx(Um,{size:20}):l.jsx(Bm,{size:20})}),l.jsx(Qd,{buttonClassName:"roots-lang-btn"}),r?l.jsxs("button",{type:"button",onClick:o,className:"heritage-logout flex items-center gap-2",children:[l.jsx(u_,{size:18}),d("logout","Logout")]}):l.jsxs(Za,{to:"/login",className:"heritage-btn",children:[l.jsx(qd,{size:18}),d("login","Login")]})]}),l.jsx("button",{type:"button",className:"mobile-menu-btn lg:hidden",onClick:()=>h(B=>!B),"aria-label":d("menu","Menu"),children:f?l.jsx(_a,{size:24}):l.jsx(f0,{size:24})})]}),l.jsx("div",{className:`mobile-menu lg:hidden ${f?"active":""}`,children:l.jsxs("div",{className:"mobile-menu-content",children:[l.jsx("form",{className:"mobile-search",onSubmit:H(F),children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(br,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 opacity-50"}),l.jsx("input",{...J,type:"search",placeholder:d("search","Search..."),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-[#d4af37]/30 bg-white dark:bg-[#2c1810] focus:outline-none focus:ring-2 focus:ring-[#d4af37]"})]})}),l.jsxs("nav",{className:"mobile-nav-links",children:[se.map(({to:B,label:me})=>l.jsx(Qn,{to:B,className:({isActive:D})=>`mobile-nav-link${D?" active":""}`,onClick:()=>h(!1),children:me},B)),r&&l.jsx(Qn,{to:"/admin",className:({isActive:B})=>`mobile-nav-link${B?" active":""}`,onClick:()=>h(!1),children:r?.role===1?d("admin","Admin"):d("dashboard","Dashboard")})]}),l.jsxs("div",{className:"mobile-actions",children:[l.jsxs("button",{type:"button",onClick:()=>{n(),h(!1)},className:"mobile-action-btn",children:[e==="dark"?l.jsx(Um,{size:20}):l.jsx(Bm,{size:20}),l.jsx("span",{children:e==="dark"?d("light_mode","Light Mode"):d("dark_mode","Dark Mode")})]}),l.jsx(Qd,{buttonClassName:"mobile-action-btn w-full justify-start"}),r?l.jsxs("button",{type:"button",onClick:()=>{o(),h(!1)},className:"mobile-action-btn text-red-600 dark:text-red-400",children:[l.jsx(u_,{size:20}),l.jsx("span",{children:d("logout","Logout")})]}):l.jsxs(Za,{to:"/login",className:"mobile-action-btn bg-gradient-to-r from-[#5d4037] to-[#d4af37] text-white",onClick:()=>h(!1),children:[l.jsx(qd,{size:20}),l.jsx("span",{children:d("login","Login")})]})]})]})})]}),l.jsx("div",{className:`mobile-nav-overlay${f?" active":""}`,onClick:()=>h(!1)})]})}const wd={enabled:!0,fineprint:" Roots Maghreb. All rights reserved."};function hb({data:e}){const{t:n}=fn(),[r,o]=k.useState(e||wd),[d,f]=k.useState(!!e),[h,g]=k.useState(""),[x,y]=k.useState({type:"",message:""}),[b,N]=k.useState(!1);k.useEffect(()=>{let A=!0;return e?(o(e),f(!0),()=>{A=!1}):((async()=>{try{const{data:R}=await Ie.get("/footer");if(!A)return;const U=R?.footer&&typeof R.footer=="object"?R.footer:wd;o({...wd,...U})}catch{A&&o(wd)}finally{A&&f(!0)}})(),()=>{A=!1})},[e]);const j=k.useMemo(()=>[{label:n("home","Home"),href:"/"},{label:n("library","Library"),href:"/library"},{label:n("periods","Periods"),href:"/periods"},{label:n("archives","Archives"),href:"/archives"},{label:n("sources","Sources"),href:"/sources"},{label:n("access_reliability","Access & Reliability"),href:"/access-reliability"}],[n]),z=k.useMemo(()=>[{label:n("archives","Archives Directory"),href:"/archives"},{label:n("sources","Primary Sources"),href:"/sources"},{label:n("access_reliability","Access & Reliability"),href:"/access-reliability"},{label:n("library","Library"),href:"/library"},{label:n("periods","Periods Timeline"),href:"/periods"}],[n]),E=k.useMemo(()=>[{Icon:NN,href:"https://facebook.com"},{Icon:TS,href:"https://twitter.com"},{Icon:$N,href:"https://instagram.com"},{Icon:PS,href:"https://youtube.com"}],[]),T=async A=>{A.preventDefault();const R=h.trim();if(!R){y({type:"error",message:n("newsletter_email_required","Email is required.")});return}try{N(!0),y({type:"",message:""}),await Ie.post("/newsletter",{email:R}),g(""),y({type:"success",message:n("newsletter_success","Thanks! We will reach out to you soon.")})}catch(U){y({type:"error",message:U.response?.data?.message||n("newsletter_failed","Failed to subscribe.")})}finally{N(!1)}};return!d||r?.enabled===!1?null:l.jsxs("footer",{className:"heritage-footer",children:[l.jsxs("div",{className:"heritage-footer-grid",children:[l.jsxs("div",{className:"heritage-footer-column",children:[l.jsxs("div",{className:"heritage-logo",children:["roots",l.jsx("span",{children:"maghreb"})]}),l.jsx("p",{children:r.brandTagline||n("footer_desc","La rfrence pour prserver l'histoire familiale du Maghreb.")}),l.jsx("div",{className:"heritage-social-links",children:E.map(({Icon:A,href:R})=>l.jsx("a",{href:R,target:"_blank",rel:"noreferrer",children:l.jsx(A,{size:18})},R))})]}),l.jsxs("div",{className:"heritage-footer-column",children:[l.jsx("h3",{children:n("links","Liens rapides")}),l.jsx("ul",{className:"heritage-footer-links",children:j.map(A=>l.jsx("li",{children:l.jsx("a",{href:A.href,children:A.label})},A.href))})]}),l.jsxs("div",{className:"heritage-footer-column",children:[l.jsx("h3",{children:n("resources","Ressources")}),l.jsx("ul",{className:"heritage-footer-links",children:z.map(A=>l.jsx("li",{children:l.jsx("a",{href:A.href,children:A.label})},A.href))})]}),l.jsxs("div",{className:"heritage-footer-column",children:[l.jsx("h3",{children:n("contact","Contact")}),l.jsxs("ul",{className:"heritage-footer-links",children:[l.jsxs("li",{children:[l.jsx(Sc,{size:16,style:{marginRight:"5px"}}),"Location opening soon"]}),l.jsxs("li",{children:[l.jsx(Uc,{size:16,style:{marginRight:"5px"}}),"contact@rootsmaghreb.com"]}),l.jsxs("li",{children:[l.jsx(h0,{size:16,style:{marginRight:"5px"}}),"+961 36 26 082"]}),l.jsxs("li",{children:[l.jsx(JN,{size:16,style:{marginRight:"5px"}}),"WhatsApp: +961 36 26 082"]}),l.jsxs("li",{children:[l.jsx(hN,{size:16,style:{marginRight:"5px"}}),"Lun-Ven: 9h-17h"]})]}),l.jsxs("form",{className:"mt-6 space-y-3",onSubmit:T,children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#d4af37]",children:n("newsletter","Newsletter")}),l.jsx("p",{className:"text-sm opacity-80",children:n("newsletter_prompt","Leave your email and we will reach out to you.")}),l.jsx("input",{type:"email",value:h,onChange:A=>{g(A.target.value),x.message&&y({type:"",message:""})},placeholder:n("email","Email"),className:"heritage-input w-full px-4 py-2 rounded-lg","aria-label":n("email","Email")}),l.jsxs("button",{type:"submit",className:"heritage-btn w-full justify-center gap-2",disabled:b,children:[l.jsx(pS,{size:16}),b?n("subscribing","Subscribing..."):n("subscribe","Subscribe")]}),x.message?l.jsx("p",{className:`text-sm ${x.type==="success"?"text-green-300":"text-red-300"}`,children:x.message}):null]})]})]}),l.jsx("div",{className:"heritage-footer-meta",children:r.fineprint||" Roots Maghreb. Tous droits rservs."})]})}var r5={value:()=>{}};function Ic(){for(var e=0,n=arguments.length,r={},o;e<n;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new $d(r)}function $d(e){this._=e}function s5(e,n){return e.trim().split(/^|\s+/).map(function(r){var o="",d=r.indexOf(".");if(d>=0&&(o=r.slice(d+1),r=r.slice(0,d)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}$d.prototype=Ic.prototype={constructor:$d,on:function(e,n){var r=this._,o=s5(e+"",r),d,f=-1,h=o.length;if(arguments.length<2){for(;++f<h;)if((d=(e=o[f]).type)&&(d=o5(r[d],e.name)))return d;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++f<h;)if(d=(e=o[f]).type)r[d]=mx(r[d],e.name,n);else if(n==null)for(d in r)r[d]=mx(r[d],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new $d(e)},call:function(e,n){if((d=arguments.length-2)>0)for(var r=new Array(d),o=0,d,f;o<d;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=this._[e],o=0,d=f.length;o<d;++o)f[o].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],d=0,f=o.length;d<f;++d)o[d].value.apply(n,r)}};function o5(e,n){for(var r=0,o=e.length,d;r<o;++r)if((d=e[r]).name===n)return d.value}function mx(e,n,r){for(var o=0,d=e.length;o<d;++o)if(e[o].name===n){e[o]=r5,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:n,value:r}),e}var Jm="http://www.w3.org/1999/xhtml";const px={svg:"http://www.w3.org/2000/svg",xhtml:Jm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wf(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),px.hasOwnProperty(n)?{space:px[n],local:e}:e}function l5(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Jm&&n.documentElement.namespaceURI===Jm?n.createElement(e):n.createElementNS(r,e)}}function c5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mb(e){var n=wf(e);return(n.local?c5:l5)(n)}function u5(){}function Op(e){return e==null?u5:function(){return this.querySelector(e)}}function d5(e){typeof e!="function"&&(e=Op(e));for(var n=this._groups,r=n.length,o=new Array(r),d=0;d<r;++d)for(var f=n[d],h=f.length,g=o[d]=new Array(h),x,y,b=0;b<h;++b)(x=f[b])&&(y=e.call(x,x.__data__,b,f))&&("__data__"in x&&(y.__data__=x.__data__),g[b]=y);return new oi(o,this._parents)}function pb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function f5(){return[]}function gb(e){return e==null?f5:function(){return this.querySelectorAll(e)}}function h5(e){return function(){return pb(e.apply(this,arguments))}}function m5(e){typeof e=="function"?e=h5(e):e=gb(e);for(var n=this._groups,r=n.length,o=[],d=[],f=0;f<r;++f)for(var h=n[f],g=h.length,x,y=0;y<g;++y)(x=h[y])&&(o.push(e.call(x,x.__data__,y,h)),d.push(x));return new oi(o,d)}function vb(e){return function(){return this.matches(e)}}function yb(e){return function(n){return n.matches(e)}}var p5=Array.prototype.find;function g5(e){return function(){return p5.call(this.children,e)}}function v5(){return this.firstElementChild}function y5(e){return this.select(e==null?v5:g5(typeof e=="function"?e:yb(e)))}var _5=Array.prototype.filter;function x5(){return Array.from(this.children)}function b5(e){return function(){return _5.call(this.children,e)}}function w5(e){return this.selectAll(e==null?x5:b5(typeof e=="function"?e:yb(e)))}function N5(e){typeof e!="function"&&(e=vb(e));for(var n=this._groups,r=n.length,o=new Array(r),d=0;d<r;++d)for(var f=n[d],h=f.length,g=o[d]=[],x,y=0;y<h;++y)(x=f[y])&&e.call(x,x.__data__,y,f)&&g.push(x);return new oi(o,this._parents)}function _b(e){return new Array(e.length)}function S5(){return new oi(this._enter||this._groups.map(_b),this._parents)}function Kd(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Kd.prototype={constructor:Kd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function j5(e){return function(){return e}}function A5(e,n,r,o,d,f){for(var h=0,g,x=n.length,y=f.length;h<y;++h)(g=n[h])?(g.__data__=f[h],o[h]=g):r[h]=new Kd(e,f[h]);for(;h<x;++h)(g=n[h])&&(d[h]=g)}function E5(e,n,r,o,d,f,h){var g,x,y=new Map,b=n.length,N=f.length,j=new Array(b),z;for(g=0;g<b;++g)(x=n[g])&&(j[g]=z=h.call(x,x.__data__,g,n)+"",y.has(z)?d[g]=x:y.set(z,x));for(g=0;g<N;++g)z=h.call(e,f[g],g,f)+"",(x=y.get(z))?(o[g]=x,x.__data__=f[g],y.delete(z)):r[g]=new Kd(e,f[g]);for(g=0;g<b;++g)(x=n[g])&&y.get(j[g])===x&&(d[g]=x)}function k5(e){return e.__data__}function T5(e,n){if(!arguments.length)return Array.from(this,k5);var r=n?E5:A5,o=this._parents,d=this._groups;typeof e!="function"&&(e=j5(e));for(var f=d.length,h=new Array(f),g=new Array(f),x=new Array(f),y=0;y<f;++y){var b=o[y],N=d[y],j=N.length,z=C5(e.call(b,b&&b.__data__,y,o)),E=z.length,T=g[y]=new Array(E),A=h[y]=new Array(E),R=x[y]=new Array(j);r(b,N,T,A,R,z,n);for(var U=0,H=0,P,I;U<E;++U)if(P=T[U]){for(U>=H&&(H=U+1);!(I=A[H])&&++H<E;);P._next=I||null}}return h=new oi(h,o),h._enter=g,h._exit=x,h}function C5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z5(){return new oi(this._exit||this._groups.map(_b),this._parents)}function M5(e,n,r){var o=this.enter(),d=this,f=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),n!=null&&(d=n(d),d&&(d=d.selection())),r==null?f.remove():r(f),o&&d?o.merge(d).order():d}function L5(e){for(var n=e.selection?e.selection():e,r=this._groups,o=n._groups,d=r.length,f=o.length,h=Math.min(d,f),g=new Array(d),x=0;x<h;++x)for(var y=r[x],b=o[x],N=y.length,j=g[x]=new Array(N),z,E=0;E<N;++E)(z=y[E]||b[E])&&(j[E]=z);for(;x<d;++x)g[x]=r[x];return new oi(g,this._parents)}function O5(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var o=e[n],d=o.length-1,f=o[d],h;--d>=0;)(h=o[d])&&(f&&h.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(h,f),f=h);return this}function R5(e){e||(e=D5);function n(N,j){return N&&j?e(N.__data__,j.__data__):!N-!j}for(var r=this._groups,o=r.length,d=new Array(o),f=0;f<o;++f){for(var h=r[f],g=h.length,x=d[f]=new Array(g),y,b=0;b<g;++b)(y=h[b])&&(x[b]=y);x.sort(n)}return new oi(d,this._parents).order()}function D5(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function $5(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function P5(){return Array.from(this)}function B5(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],d=0,f=o.length;d<f;++d){var h=o[d];if(h)return h}return null}function U5(){let e=0;for(const n of this)++e;return e}function Z5(){return!this.node()}function H5(e){for(var n=this._groups,r=0,o=n.length;r<o;++r)for(var d=n[r],f=0,h=d.length,g;f<h;++f)(g=d[f])&&e.call(g,g.__data__,f,d);return this}function q5(e){return function(){this.removeAttribute(e)}}function F5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function V5(e,n){return function(){this.setAttribute(e,n)}}function I5(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function G5(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Y5(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function X5(e,n){var r=wf(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((n==null?r.local?F5:q5:typeof n=="function"?r.local?Y5:G5:r.local?I5:V5)(r,n))}function xb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Q5(e){return function(){this.style.removeProperty(e)}}function K5(e,n,r){return function(){this.style.setProperty(e,n,r)}}function J5(e,n,r){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function W5(e,n,r){return arguments.length>1?this.each((n==null?Q5:typeof n=="function"?J5:K5)(e,n,r??"")):ll(this.node(),e)}function ll(e,n){return e.style.getPropertyValue(n)||xb(e).getComputedStyle(e,null).getPropertyValue(n)}function eT(e){return function(){delete this[e]}}function tT(e,n){return function(){this[e]=n}}function nT(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function iT(e,n){return arguments.length>1?this.each((n==null?eT:typeof n=="function"?nT:tT)(e,n)):this.node()[e]}function bb(e){return e.trim().split(/^|\s+/)}function Rp(e){return e.classList||new wb(e)}function wb(e){this._node=e,this._names=bb(e.getAttribute("class")||"")}wb.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nb(e,n){for(var r=Rp(e),o=-1,d=n.length;++o<d;)r.add(n[o])}function Sb(e,n){for(var r=Rp(e),o=-1,d=n.length;++o<d;)r.remove(n[o])}function aT(e){return function(){Nb(this,e)}}function rT(e){return function(){Sb(this,e)}}function sT(e,n){return function(){(n.apply(this,arguments)?Nb:Sb)(this,e)}}function oT(e,n){var r=bb(e+"");if(arguments.length<2){for(var o=Rp(this.node()),d=-1,f=r.length;++d<f;)if(!o.contains(r[d]))return!1;return!0}return this.each((typeof n=="function"?sT:n?aT:rT)(r,n))}function lT(){this.textContent=""}function cT(e){return function(){this.textContent=e}}function uT(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function dT(e){return arguments.length?this.each(e==null?lT:(typeof e=="function"?uT:cT)(e)):this.node().textContent}function fT(){this.innerHTML=""}function hT(e){return function(){this.innerHTML=e}}function mT(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function pT(e){return arguments.length?this.each(e==null?fT:(typeof e=="function"?mT:hT)(e)):this.node().innerHTML}function gT(){this.nextSibling&&this.parentNode.appendChild(this)}function vT(){return this.each(gT)}function yT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _T(){return this.each(yT)}function xT(e){var n=typeof e=="function"?e:mb(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function bT(){return null}function wT(e,n){var r=typeof e=="function"?e:mb(e),o=n==null?bT:typeof n=="function"?n:Op(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function NT(){var e=this.parentNode;e&&e.removeChild(this)}function ST(){return this.each(NT)}function jT(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function AT(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ET(e){return this.select(e?AT:jT)}function kT(e){return arguments.length?this.property("__data__",e):this.node().__data__}function TT(e){return function(n){e.call(this,n,this.__data__)}}function CT(e){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");return o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),{type:n,name:r}})}function zT(e){return function(){var n=this.__on;if(n){for(var r=0,o=-1,d=n.length,f;r<d;++r)f=n[r],(!e.type||f.type===e.type)&&f.name===e.name?this.removeEventListener(f.type,f.listener,f.options):n[++o]=f;++o?n.length=o:delete this.__on}}}function MT(e,n,r){return function(){var o=this.__on,d,f=TT(n);if(o){for(var h=0,g=o.length;h<g;++h)if((d=o[h]).type===e.type&&d.name===e.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=r),d.value=n;return}}this.addEventListener(e.type,f,r),d={type:e.type,name:e.name,value:n,listener:f,options:r},o?o.push(d):this.__on=[d]}}function LT(e,n,r){var o=CT(e+""),d,f=o.length,h;if(arguments.length<2){var g=this.node().__on;if(g){for(var x=0,y=g.length,b;x<y;++x)for(d=0,b=g[x];d<f;++d)if((h=o[d]).type===b.type&&h.name===b.name)return b.value}return}for(g=n?MT:zT,d=0;d<f;++d)this.each(g(o[d],n,r));return this}function jb(e,n,r){var o=xb(e),d=o.CustomEvent;typeof d=="function"?d=new d(n,r):(d=o.document.createEvent("Event"),r?(d.initEvent(n,r.bubbles,r.cancelable),d.detail=r.detail):d.initEvent(n,!1,!1)),e.dispatchEvent(d)}function OT(e,n){return function(){return jb(this,e,n)}}function RT(e,n){return function(){return jb(this,e,n.apply(this,arguments))}}function DT(e,n){return this.each((typeof n=="function"?RT:OT)(e,n))}function*$T(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],d=0,f=o.length,h;d<f;++d)(h=o[d])&&(yield h)}var Dp=[null];function oi(e,n){this._groups=e,this._parents=n}function Gc(){return new oi([[document.documentElement]],Dp)}function PT(){return this}oi.prototype=Gc.prototype={constructor:oi,select:d5,selectAll:m5,selectChild:y5,selectChildren:w5,filter:N5,data:T5,enter:S5,exit:z5,join:M5,merge:L5,selection:PT,order:O5,sort:R5,call:$5,nodes:P5,node:B5,size:U5,empty:Z5,each:H5,attr:X5,style:W5,property:iT,classed:oT,text:dT,html:pT,raise:vT,lower:_T,append:xT,insert:wT,remove:ST,clone:ET,datum:kT,on:LT,dispatch:DT,[Symbol.iterator]:$T};function ai(e){return typeof e=="string"?new oi([[document.querySelector(e)]],[document.documentElement]):new oi([[e]],Dp)}function BT(e){let n;for(;n=e.sourceEvent;)e=n;return e}function gr(e,n){if(e=BT(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var d=n.getBoundingClientRect();return[e.clientX-d.left-n.clientLeft,e.clientY-d.top-n.clientTop]}}return[e.pageX,e.pageY]}function UT(e){return typeof e=="string"?new oi([document.querySelectorAll(e)],[document.documentElement]):new oi([pb(e)],Dp)}const ZT={passive:!1},Mc={capture:!0,passive:!1};function Mm(e){e.stopImmediatePropagation()}function rl(e){e.preventDefault(),e.stopImmediatePropagation()}function Ab(e){var n=e.document.documentElement,r=ai(e).on("dragstart.drag",rl,Mc);"onselectstart"in n?r.on("selectstart.drag",rl,Mc):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Eb(e,n){var r=e.document.documentElement,o=ai(e).on("dragstart.drag",null);n&&(o.on("click.drag",rl,Mc),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Nd=e=>()=>e;function Wm(e,{sourceEvent:n,subject:r,target:o,identifier:d,active:f,x:h,y:g,dx:x,dy:y,dispatch:b}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:d,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:g,enumerable:!0,configurable:!0},dx:{value:x,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:b}})}Wm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function HT(e){return!e.ctrlKey&&!e.button}function qT(){return this.parentNode}function FT(e,n){return n??{x:e.x,y:e.y}}function VT(){return navigator.maxTouchPoints||"ontouchstart"in this}function IT(){var e=HT,n=qT,r=FT,o=VT,d={},f=Ic("start","drag","end"),h=0,g,x,y,b,N=0;function j(P){P.on("mousedown.drag",z).filter(o).on("touchstart.drag",A).on("touchmove.drag",R,ZT).on("touchend.drag touchcancel.drag",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function z(P,I){if(!(b||!e.call(this,P,I))){var Z=H(this,n.call(this,P,I),P,I,"mouse");Z&&(ai(P.view).on("mousemove.drag",E,Mc).on("mouseup.drag",T,Mc),Ab(P.view),Mm(P),y=!1,g=P.clientX,x=P.clientY,Z("start",P))}}function E(P){if(rl(P),!y){var I=P.clientX-g,Z=P.clientY-x;y=I*I+Z*Z>N}d.mouse("drag",P)}function T(P){ai(P.view).on("mousemove.drag mouseup.drag",null),Eb(P.view,y),rl(P),d.mouse("end",P)}function A(P,I){if(e.call(this,P,I)){var Z=P.changedTouches,J=n.call(this,P,I),F=Z.length,de,ve;for(de=0;de<F;++de)(ve=H(this,J,P,I,Z[de].identifier,Z[de]))&&(Mm(P),ve("start",P,Z[de]))}}function R(P){var I=P.changedTouches,Z=I.length,J,F;for(J=0;J<Z;++J)(F=d[I[J].identifier])&&(rl(P),F("drag",P,I[J]))}function U(P){var I=P.changedTouches,Z=I.length,J,F;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),J=0;J<Z;++J)(F=d[I[J].identifier])&&(Mm(P),F("end",P,I[J]))}function H(P,I,Z,J,F,de){var ve=f.copy(),ge=gr(de||Z,I),te,se,B;if((B=r.call(P,new Wm("beforestart",{sourceEvent:Z,target:j,identifier:F,active:h,x:ge[0],y:ge[1],dx:0,dy:0,dispatch:ve}),J))!=null)return te=B.x-ge[0]||0,se=B.y-ge[1]||0,function me(D,oe,le){var Ae=ge,ce;switch(D){case"start":d[F]=me,ce=h++;break;case"end":delete d[F],--h;case"drag":ge=gr(le||oe,I),ce=h;break}ve.call(D,P,new Wm(D,{sourceEvent:oe,subject:B,target:j,identifier:F,active:ce,x:ge[0]+te,y:ge[1]+se,dx:ge[0]-Ae[0],dy:ge[1]-Ae[1],dispatch:ve}),J)}}return j.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Nd(!!P),j):e},j.container=function(P){return arguments.length?(n=typeof P=="function"?P:Nd(P),j):n},j.subject=function(P){return arguments.length?(r=typeof P=="function"?P:Nd(P),j):r},j.touchable=function(P){return arguments.length?(o=typeof P=="function"?P:Nd(!!P),j):o},j.on=function(){var P=f.on.apply(f,arguments);return P===f?j:P},j.clickDistance=function(P){return arguments.length?(N=(P=+P)*P,j):Math.sqrt(N)},j}function $p(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function kb(e,n){var r=Object.create(e.prototype);for(var o in n)r[o]=n[o];return r}function Yc(){}var Lc=.7,Jd=1/Lc,sl="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GT=/^#([0-9a-f]{3,8})$/,YT=new RegExp(`^rgb\\(${sl},${sl},${sl}\\)$`),XT=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),QT=new RegExp(`^rgba\\(${sl},${sl},${sl},${Oc}\\)$`),KT=new RegExp(`^rgba\\(${qa},${qa},${qa},${Oc}\\)$`),JT=new RegExp(`^hsl\\(${Oc},${qa},${qa}\\)$`),WT=new RegExp(`^hsla\\(${Oc},${qa},${qa},${Oc}\\)$`),gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$p(Yc,Rc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vx,formatHex:vx,formatHex8:eC,formatHsl:tC,formatRgb:yx,toString:yx});function vx(){return this.rgb().formatHex()}function eC(){return this.rgb().formatHex8()}function tC(){return Tb(this).formatHsl()}function yx(){return this.rgb().formatRgb()}function Rc(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=GT.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?_x(n):r===3?new Ni(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?Sd(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?Sd(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=YT.exec(e))?new Ni(n[1],n[2],n[3],1):(n=XT.exec(e))?new Ni(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=QT.exec(e))?Sd(n[1],n[2],n[3],n[4]):(n=KT.exec(e))?Sd(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=JT.exec(e))?wx(n[1],n[2]/100,n[3]/100,1):(n=WT.exec(e))?wx(n[1],n[2]/100,n[3]/100,n[4]):gx.hasOwnProperty(e)?_x(gx[e]):e==="transparent"?new Ni(NaN,NaN,NaN,0):null}function _x(e){return new Ni(e>>16&255,e>>8&255,e&255,1)}function Sd(e,n,r,o){return o<=0&&(e=n=r=NaN),new Ni(e,n,r,o)}function nC(e){return e instanceof Yc||(e=Rc(e)),e?(e=e.rgb(),new Ni(e.r,e.g,e.b,e.opacity)):new Ni}function ep(e,n,r,o){return arguments.length===1?nC(e):new Ni(e,n,r,o??1)}function Ni(e,n,r,o){this.r=+e,this.g=+n,this.b=+r,this.opacity=+o}$p(Ni,ep,kb(Yc,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lc:Math.pow(Lc,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ni(eo(this.r),eo(this.g),eo(this.b),Wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xx,formatHex:xx,formatHex8:iC,formatRgb:bx,toString:bx}));function xx(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}`}function iC(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}${Js((isNaN(this.opacity)?1:this.opacity)*255)}`}function bx(){const e=Wd(this.opacity);return`${e===1?"rgb(":"rgba("}${eo(this.r)}, ${eo(this.g)}, ${eo(this.b)}${e===1?")":`, ${e})`}`}function Wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Js(e){return e=eo(e),(e<16?"0":"")+e.toString(16)}function wx(e,n,r,o){return o<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new ga(e,n,r,o)}function Tb(e){if(e instanceof ga)return new ga(e.h,e.s,e.l,e.opacity);if(e instanceof Yc||(e=Rc(e)),!e)return new ga;if(e instanceof ga)return e;e=e.rgb();var n=e.r/255,r=e.g/255,o=e.b/255,d=Math.min(n,r,o),f=Math.max(n,r,o),h=NaN,g=f-d,x=(f+d)/2;return g?(n===f?h=(r-o)/g+(r<o)*6:r===f?h=(o-n)/g+2:h=(n-r)/g+4,g/=x<.5?f+d:2-f-d,h*=60):g=x>0&&x<1?0:h,new ga(h,g,x,e.opacity)}function aC(e,n,r,o){return arguments.length===1?Tb(e):new ga(e,n,r,o??1)}function ga(e,n,r,o){this.h=+e,this.s=+n,this.l=+r,this.opacity=+o}$p(ga,aC,kb(Yc,{brighter(e){return e=e==null?Jd:Math.pow(Jd,e),new ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lc:Math.pow(Lc,e),new ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*n,d=2*r-o;return new Ni(Lm(e>=240?e-240:e+120,d,o),Lm(e,d,o),Lm(e<120?e+240:e-120,d,o),this.opacity)},clamp(){return new ga(Nx(this.h),jd(this.s),jd(this.l),Wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wd(this.opacity);return`${e===1?"hsl(":"hsla("}${Nx(this.h)}, ${jd(this.s)*100}%, ${jd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nx(e){return e=(e||0)%360,e<0?e+360:e}function jd(e){return Math.max(0,Math.min(1,e||0))}function Lm(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const Cb=e=>()=>e;function rC(e,n){return function(r){return e+r*n}}function sC(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(o){return Math.pow(e+o*n,r)}}function oC(e){return(e=+e)==1?zb:function(n,r){return r-n?sC(n,r,e):Cb(isNaN(n)?r:n)}}function zb(e,n){var r=n-e;return r?rC(e,r):Cb(isNaN(e)?n:e)}const Sx=(function e(n){var r=oC(n);function o(d,f){var h=r((d=ep(d)).r,(f=ep(f)).r),g=r(d.g,f.g),x=r(d.b,f.b),y=zb(d.opacity,f.opacity);return function(b){return d.r=h(b),d.g=g(b),d.b=x(b),d.opacity=y(b),d+""}}return o.gamma=e,o})(1);function os(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var tp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Om=new RegExp(tp.source,"g");function lC(e){return function(){return e}}function cC(e){return function(n){return e(n)+""}}function uC(e,n){var r=tp.lastIndex=Om.lastIndex=0,o,d,f,h=-1,g=[],x=[];for(e=e+"",n=n+"";(o=tp.exec(e))&&(d=Om.exec(n));)(f=d.index)>r&&(f=n.slice(r,f),g[h]?g[h]+=f:g[++h]=f),(o=o[0])===(d=d[0])?g[h]?g[h]+=d:g[++h]=d:(g[++h]=null,x.push({i:h,x:os(o,d)})),r=Om.lastIndex;return r<n.length&&(f=n.slice(r),g[h]?g[h]+=f:g[++h]=f),g.length<2?x[0]?cC(x[0].x):lC(n):(n=x.length,function(y){for(var b=0,N;b<n;++b)g[(N=x[b]).i]=N.x(y);return g.join("")})}var jx=180/Math.PI,np={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mb(e,n,r,o,d,f){var h,g,x;return(h=Math.sqrt(e*e+n*n))&&(e/=h,n/=h),(x=e*r+n*o)&&(r-=e*x,o-=n*x),(g=Math.sqrt(r*r+o*o))&&(r/=g,o/=g,x/=g),e*o<n*r&&(e=-e,n=-n,x=-x,h=-h),{translateX:d,translateY:f,rotate:Math.atan2(n,e)*jx,skewX:Math.atan(x)*jx,scaleX:h,scaleY:g}}var Ad;function dC(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?np:Mb(n.a,n.b,n.c,n.d,n.e,n.f)}function fC(e){return e==null||(Ad||(Ad=document.createElementNS("http://www.w3.org/2000/svg","g")),Ad.setAttribute("transform",e),!(e=Ad.transform.baseVal.consolidate()))?np:(e=e.matrix,Mb(e.a,e.b,e.c,e.d,e.e,e.f))}function Lb(e,n,r,o){function d(y){return y.length?y.pop()+" ":""}function f(y,b,N,j,z,E){if(y!==N||b!==j){var T=z.push("translate(",null,n,null,r);E.push({i:T-4,x:os(y,N)},{i:T-2,x:os(b,j)})}else(N||j)&&z.push("translate("+N+n+j+r)}function h(y,b,N,j){y!==b?(y-b>180?b+=360:b-y>180&&(y+=360),j.push({i:N.push(d(N)+"rotate(",null,o)-2,x:os(y,b)})):b&&N.push(d(N)+"rotate("+b+o)}function g(y,b,N,j){y!==b?j.push({i:N.push(d(N)+"skewX(",null,o)-2,x:os(y,b)}):b&&N.push(d(N)+"skewX("+b+o)}function x(y,b,N,j,z,E){if(y!==N||b!==j){var T=z.push(d(z)+"scale(",null,",",null,")");E.push({i:T-4,x:os(y,N)},{i:T-2,x:os(b,j)})}else(N!==1||j!==1)&&z.push(d(z)+"scale("+N+","+j+")")}return function(y,b){var N=[],j=[];return y=e(y),b=e(b),f(y.translateX,y.translateY,b.translateX,b.translateY,N,j),h(y.rotate,b.rotate,N,j),g(y.skewX,b.skewX,N,j),x(y.scaleX,y.scaleY,b.scaleX,b.scaleY,N,j),y=b=null,function(z){for(var E=-1,T=j.length,A;++E<T;)N[(A=j[E]).i]=A.x(z);return N.join("")}}}var hC=Lb(dC,"px, ","px)","deg)"),mC=Lb(fC,", ",")",")"),pC=1e-12;function Ax(e){return((e=Math.exp(e))+1/e)/2}function gC(e){return((e=Math.exp(e))-1/e)/2}function vC(e){return((e=Math.exp(2*e))-1)/(e+1)}const yC=(function e(n,r,o){function d(f,h){var g=f[0],x=f[1],y=f[2],b=h[0],N=h[1],j=h[2],z=b-g,E=N-x,T=z*z+E*E,A,R;if(T<pC)R=Math.log(j/y)/n,A=function(J){return[g+J*z,x+J*E,y*Math.exp(n*J*R)]};else{var U=Math.sqrt(T),H=(j*j-y*y+o*T)/(2*y*r*U),P=(j*j-y*y-o*T)/(2*j*r*U),I=Math.log(Math.sqrt(H*H+1)-H),Z=Math.log(Math.sqrt(P*P+1)-P);R=(Z-I)/n,A=function(J){var F=J*R,de=Ax(I),ve=y/(r*U)*(de*vC(n*F+I)-gC(I));return[g+ve*z,x+ve*E,y*de/Ax(n*F+I)]}}return A.duration=R*1e3*n/Math.SQRT2,A}return d.rho=function(f){var h=Math.max(.001,+f),g=h*h,x=g*g;return e(h,g,x)},d})(Math.SQRT2,2,4);var cl=0,bc=0,_c=0,Ob=1e3,ef,wc,tf=0,ao=0,Nf=0,Dc=typeof performance=="object"&&performance.now?performance:Date,Rb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Pp(){return ao||(Rb(_C),ao=Dc.now()+Nf)}function _C(){ao=0}function nf(){this._call=this._time=this._next=null}nf.prototype=Bp.prototype={constructor:nf,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Pp():+r)+(n==null?0:+n),!this._next&&wc!==this&&(wc?wc._next=this:ef=this,wc=this),this._call=e,this._time=r,ip()},stop:function(){this._call&&(this._call=null,this._time=1/0,ip())}};function Bp(e,n,r){var o=new nf;return o.restart(e,n,r),o}function xC(){Pp(),++cl;for(var e=ef,n;e;)(n=ao-e._time)>=0&&e._call.call(void 0,n),e=e._next;--cl}function Ex(){ao=(tf=Dc.now())+Nf,cl=bc=0;try{xC()}finally{cl=0,wC(),ao=0}}function bC(){var e=Dc.now(),n=e-tf;n>Ob&&(Nf-=n,tf=e)}function wC(){for(var e,n=ef,r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:ef=r);wc=e,ip(o)}function ip(e){if(!cl){bc&&(bc=clearTimeout(bc));var n=e-ao;n>24?(e<1/0&&(bc=setTimeout(Ex,e-Dc.now()-Nf)),_c&&(_c=clearInterval(_c))):(_c||(tf=Dc.now(),_c=setInterval(bC,Ob)),cl=1,Rb(Ex))}}function kx(e,n,r){var o=new nf;return n=n==null?0:+n,o.restart(d=>{o.stop(),e(d+n)},n,r),o}var NC=Ic("start","end","cancel","interrupt"),SC=[],Db=0,Tx=1,ap=2,Pd=3,Cx=4,rp=5,Bd=6;function Sf(e,n,r,o,d,f){var h=e.__transition;if(!h)e.__transition={};else if(r in h)return;jC(e,r,{name:n,index:o,group:d,on:NC,tween:SC,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:Db})}function Up(e,n){var r=wa(e,n);if(r.state>Db)throw new Error("too late; already scheduled");return r}function Ga(e,n){var r=wa(e,n);if(r.state>Pd)throw new Error("too late; already running");return r}function wa(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function jC(e,n,r){var o=e.__transition,d;o[n]=r,r.timer=Bp(f,0,r.time);function f(y){r.state=Tx,r.timer.restart(h,r.delay,r.time),r.delay<=y&&h(y-r.delay)}function h(y){var b,N,j,z;if(r.state!==Tx)return x();for(b in o)if(z=o[b],z.name===r.name){if(z.state===Pd)return kx(h);z.state===Cx?(z.state=Bd,z.timer.stop(),z.on.call("interrupt",e,e.__data__,z.index,z.group),delete o[b]):+b<n&&(z.state=Bd,z.timer.stop(),z.on.call("cancel",e,e.__data__,z.index,z.group),delete o[b])}if(kx(function(){r.state===Pd&&(r.state=Cx,r.timer.restart(g,r.delay,r.time),g(y))}),r.state=ap,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ap){for(r.state=Pd,d=new Array(j=r.tween.length),b=0,N=-1;b<j;++b)(z=r.tween[b].value.call(e,e.__data__,r.index,r.group))&&(d[++N]=z);d.length=N+1}}function g(y){for(var b=y<r.duration?r.ease.call(null,y/r.duration):(r.timer.restart(x),r.state=rp,1),N=-1,j=d.length;++N<j;)d[N].call(e,b);r.state===rp&&(r.on.call("end",e,e.__data__,r.index,r.group),x())}function x(){r.state=Bd,r.timer.stop(),delete o[n];for(var y in o)return;delete e.__transition}}function Ud(e,n){var r=e.__transition,o,d,f=!0,h;if(r){n=n==null?null:n+"";for(h in r){if((o=r[h]).name!==n){f=!1;continue}d=o.state>ap&&o.state<rp,o.state=Bd,o.timer.stop(),o.on.call(d?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[h]}f&&delete e.__transition}}function AC(e){return this.each(function(){Ud(this,e)})}function EC(e,n){var r,o;return function(){var d=Ga(this,e),f=d.tween;if(f!==r){o=r=f;for(var h=0,g=o.length;h<g;++h)if(o[h].name===n){o=o.slice(),o.splice(h,1);break}}d.tween=o}}function kC(e,n,r){var o,d;if(typeof r!="function")throw new Error;return function(){var f=Ga(this,e),h=f.tween;if(h!==o){d=(o=h).slice();for(var g={name:n,value:r},x=0,y=d.length;x<y;++x)if(d[x].name===n){d[x]=g;break}x===y&&d.push(g)}f.tween=d}}function TC(e,n){var r=this._id;if(e+="",arguments.length<2){for(var o=wa(this.node(),r).tween,d=0,f=o.length,h;d<f;++d)if((h=o[d]).name===e)return h.value;return null}return this.each((n==null?EC:kC)(r,e,n))}function Zp(e,n,r){var o=e._id;return e.each(function(){var d=Ga(this,o);(d.value||(d.value={}))[n]=r.apply(this,arguments)}),function(d){return wa(d,o).value[n]}}function $b(e,n){var r;return(typeof n=="number"?os:n instanceof Rc?Sx:(r=Rc(n))?(n=r,Sx):uC)(e,n)}function CC(e){return function(){this.removeAttribute(e)}}function zC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MC(e,n,r){var o,d=r+"",f;return function(){var h=this.getAttribute(e);return h===d?null:h===o?f:f=n(o=h,r)}}function LC(e,n,r){var o,d=r+"",f;return function(){var h=this.getAttributeNS(e.space,e.local);return h===d?null:h===o?f:f=n(o=h,r)}}function OC(e,n,r){var o,d,f;return function(){var h,g=r(this),x;return g==null?void this.removeAttribute(e):(h=this.getAttribute(e),x=g+"",h===x?null:h===o&&x===d?f:(d=x,f=n(o=h,g)))}}function RC(e,n,r){var o,d,f;return function(){var h,g=r(this),x;return g==null?void this.removeAttributeNS(e.space,e.local):(h=this.getAttributeNS(e.space,e.local),x=g+"",h===x?null:h===o&&x===d?f:(d=x,f=n(o=h,g)))}}function DC(e,n){var r=wf(e),o=r==="transform"?mC:$b;return this.attrTween(e,typeof n=="function"?(r.local?RC:OC)(r,o,Zp(this,"attr."+e,n)):n==null?(r.local?zC:CC)(r):(r.local?LC:MC)(r,o,n))}function $C(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function PC(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function BC(e,n){var r,o;function d(){var f=n.apply(this,arguments);return f!==o&&(r=(o=f)&&PC(e,f)),r}return d._value=n,d}function UC(e,n){var r,o;function d(){var f=n.apply(this,arguments);return f!==o&&(r=(o=f)&&$C(e,f)),r}return d._value=n,d}function ZC(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var o=wf(e);return this.tween(r,(o.local?BC:UC)(o,n))}function HC(e,n){return function(){Up(this,e).delay=+n.apply(this,arguments)}}function qC(e,n){return n=+n,function(){Up(this,e).delay=n}}function FC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?HC:qC)(n,e)):wa(this.node(),n).delay}function VC(e,n){return function(){Ga(this,e).duration=+n.apply(this,arguments)}}function IC(e,n){return n=+n,function(){Ga(this,e).duration=n}}function GC(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?VC:IC)(n,e)):wa(this.node(),n).duration}function YC(e,n){if(typeof n!="function")throw new Error;return function(){Ga(this,e).ease=n}}function XC(e){var n=this._id;return arguments.length?this.each(YC(n,e)):wa(this.node(),n).ease}function QC(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;Ga(this,e).ease=r}}function KC(e){if(typeof e!="function")throw new Error;return this.each(QC(this._id,e))}function JC(e){typeof e!="function"&&(e=vb(e));for(var n=this._groups,r=n.length,o=new Array(r),d=0;d<r;++d)for(var f=n[d],h=f.length,g=o[d]=[],x,y=0;y<h;++y)(x=f[y])&&e.call(x,x.__data__,y,f)&&g.push(x);return new wr(o,this._parents,this._name,this._id)}function WC(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,o=n.length,d=r.length,f=Math.min(o,d),h=new Array(o),g=0;g<f;++g)for(var x=n[g],y=r[g],b=x.length,N=h[g]=new Array(b),j,z=0;z<b;++z)(j=x[z]||y[z])&&(N[z]=j);for(;g<o;++g)h[g]=n[g];return new wr(h,this._parents,this._name,this._id)}function ez(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function tz(e,n,r){var o,d,f=ez(n)?Up:Ga;return function(){var h=f(this,e),g=h.on;g!==o&&(d=(o=g).copy()).on(n,r),h.on=d}}function nz(e,n){var r=this._id;return arguments.length<2?wa(this.node(),r).on.on(e):this.each(tz(r,e,n))}function iz(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function az(){return this.on("end.remove",iz(this._id))}function rz(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Op(e));for(var o=this._groups,d=o.length,f=new Array(d),h=0;h<d;++h)for(var g=o[h],x=g.length,y=f[h]=new Array(x),b,N,j=0;j<x;++j)(b=g[j])&&(N=e.call(b,b.__data__,j,g))&&("__data__"in b&&(N.__data__=b.__data__),y[j]=N,Sf(y[j],n,r,j,y,wa(b,r)));return new wr(f,this._parents,n,r)}function sz(e){var n=this._name,r=this._id;typeof e!="function"&&(e=gb(e));for(var o=this._groups,d=o.length,f=[],h=[],g=0;g<d;++g)for(var x=o[g],y=x.length,b,N=0;N<y;++N)if(b=x[N]){for(var j=e.call(b,b.__data__,N,x),z,E=wa(b,r),T=0,A=j.length;T<A;++T)(z=j[T])&&Sf(z,n,r,T,j,E);f.push(j),h.push(b)}return new wr(f,h,n,r)}var oz=Gc.prototype.constructor;function lz(){return new oz(this._groups,this._parents)}function cz(e,n){var r,o,d;return function(){var f=ll(this,e),h=(this.style.removeProperty(e),ll(this,e));return f===h?null:f===r&&h===o?d:d=n(r=f,o=h)}}function Pb(e){return function(){this.style.removeProperty(e)}}function uz(e,n,r){var o,d=r+"",f;return function(){var h=ll(this,e);return h===d?null:h===o?f:f=n(o=h,r)}}function dz(e,n,r){var o,d,f;return function(){var h=ll(this,e),g=r(this),x=g+"";return g==null&&(x=g=(this.style.removeProperty(e),ll(this,e))),h===x?null:h===o&&x===d?f:(d=x,f=n(o=h,g))}}function fz(e,n){var r,o,d,f="style."+n,h="end."+f,g;return function(){var x=Ga(this,e),y=x.on,b=x.value[f]==null?g||(g=Pb(n)):void 0;(y!==r||d!==b)&&(o=(r=y).copy()).on(h,d=b),x.on=o}}function hz(e,n,r){var o=(e+="")=="transform"?hC:$b;return n==null?this.styleTween(e,cz(e,o)).on("end.style."+e,Pb(e)):typeof n=="function"?this.styleTween(e,dz(e,o,Zp(this,"style."+e,n))).each(fz(this._id,e)):this.styleTween(e,uz(e,o,n),r).on("end.style."+e,null)}function mz(e,n,r){return function(o){this.style.setProperty(e,n.call(this,o),r)}}function pz(e,n,r){var o,d;function f(){var h=n.apply(this,arguments);return h!==d&&(o=(d=h)&&mz(e,h,r)),o}return f._value=n,f}function gz(e,n,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,pz(e,n,r??""))}function vz(e){return function(){this.textContent=e}}function yz(e){return function(){var n=e(this);this.textContent=n??""}}function _z(e){return this.tween("text",typeof e=="function"?yz(Zp(this,"text",e)):vz(e==null?"":e+""))}function xz(e){return function(n){this.textContent=e.call(this,n)}}function bz(e){var n,r;function o(){var d=e.apply(this,arguments);return d!==r&&(n=(r=d)&&xz(d)),n}return o._value=e,o}function wz(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,bz(e))}function Nz(){for(var e=this._name,n=this._id,r=Bb(),o=this._groups,d=o.length,f=0;f<d;++f)for(var h=o[f],g=h.length,x,y=0;y<g;++y)if(x=h[y]){var b=wa(x,n);Sf(x,e,r,y,h,{time:b.time+b.delay+b.duration,delay:0,duration:b.duration,ease:b.ease})}return new wr(o,this._parents,e,r)}function Sz(){var e,n,r=this,o=r._id,d=r.size();return new Promise(function(f,h){var g={value:h},x={value:function(){--d===0&&f()}};r.each(function(){var y=Ga(this,o),b=y.on;b!==e&&(n=(e=b).copy(),n._.cancel.push(g),n._.interrupt.push(g),n._.end.push(x)),y.on=n}),d===0&&f()})}var jz=0;function wr(e,n,r,o){this._groups=e,this._parents=n,this._name=r,this._id=o}function Bb(){return++jz}var pr=Gc.prototype;wr.prototype={constructor:wr,select:rz,selectAll:sz,selectChild:pr.selectChild,selectChildren:pr.selectChildren,filter:JC,merge:WC,selection:lz,transition:Nz,call:pr.call,nodes:pr.nodes,node:pr.node,size:pr.size,empty:pr.empty,each:pr.each,on:nz,attr:DC,attrTween:ZC,style:hz,styleTween:gz,text:_z,textTween:wz,remove:az,tween:TC,delay:FC,duration:GC,ease:XC,easeVarying:KC,end:Sz,[Symbol.iterator]:pr[Symbol.iterator]};function Az(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ez={time:null,delay:0,duration:250,ease:Az};function kz(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function Tz(e){var n,r;e instanceof wr?(n=e._id,e=e._name):(n=Bb(),(r=Ez).time=Pp(),e=e==null?null:e+"");for(var o=this._groups,d=o.length,f=0;f<d;++f)for(var h=o[f],g=h.length,x,y=0;y<g;++y)(x=h[y])&&Sf(x,e,n,y,h,r||kz(x,n));return new wr(o,this._parents,e,n)}Gc.prototype.interrupt=AC;Gc.prototype.transition=Tz;function Cz(e,n){var r,o=1;e==null&&(e=0),n==null&&(n=0);function d(){var f,h=r.length,g,x=0,y=0;for(f=0;f<h;++f)g=r[f],x+=g.x,y+=g.y;for(x=(x/h-e)*o,y=(y/h-n)*o,f=0;f<h;++f)g=r[f],g.x-=x,g.y-=y}return d.initialize=function(f){r=f},d.x=function(f){return arguments.length?(e=+f,d):e},d.y=function(f){return arguments.length?(n=+f,d):n},d.strength=function(f){return arguments.length?(o=+f,d):o},d}function zz(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return Ub(this.cover(n,r),n,r,e)}function Ub(e,n,r,o){if(isNaN(n)||isNaN(r))return e;var d,f=e._root,h={data:o},g=e._x0,x=e._y0,y=e._x1,b=e._y1,N,j,z,E,T,A,R,U;if(!f)return e._root=h,e;for(;f.length;)if((T=n>=(N=(g+y)/2))?g=N:y=N,(A=r>=(j=(x+b)/2))?x=j:b=j,d=f,!(f=f[R=A<<1|T]))return d[R]=h,e;if(z=+e._x.call(null,f.data),E=+e._y.call(null,f.data),n===z&&r===E)return h.next=f,d?d[R]=h:e._root=h,e;do d=d?d[R]=new Array(4):e._root=new Array(4),(T=n>=(N=(g+y)/2))?g=N:y=N,(A=r>=(j=(x+b)/2))?x=j:b=j;while((R=A<<1|T)===(U=(E>=j)<<1|z>=N));return d[U]=f,d[R]=h,e}function Mz(e){var n,r,o=e.length,d,f,h=new Array(o),g=new Array(o),x=1/0,y=1/0,b=-1/0,N=-1/0;for(r=0;r<o;++r)isNaN(d=+this._x.call(null,n=e[r]))||isNaN(f=+this._y.call(null,n))||(h[r]=d,g[r]=f,d<x&&(x=d),d>b&&(b=d),f<y&&(y=f),f>N&&(N=f));if(x>b||y>N)return this;for(this.cover(x,y).cover(b,N),r=0;r<o;++r)Ub(this,h[r],g[r],e[r]);return this}function Lz(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,o=this._y0,d=this._x1,f=this._y1;if(isNaN(r))d=(r=Math.floor(e))+1,f=(o=Math.floor(n))+1;else{for(var h=d-r||1,g=this._root,x,y;r>e||e>=d||o>n||n>=f;)switch(y=(n<o)<<1|e<r,x=new Array(4),x[y]=g,g=x,h*=2,y){case 0:d=r+h,f=o+h;break;case 1:r=d-h,f=o+h;break;case 2:d=r+h,o=f-h;break;case 3:r=d-h,o=f-h;break}this._root&&this._root.length&&(this._root=g)}return this._x0=r,this._y0=o,this._x1=d,this._y1=f,this}function Oz(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Rz(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ri(e,n,r,o,d){this.node=e,this.x0=n,this.y0=r,this.x1=o,this.y1=d}function Dz(e,n,r){var o,d=this._x0,f=this._y0,h,g,x,y,b=this._x1,N=this._y1,j=[],z=this._root,E,T;for(z&&j.push(new ri(z,d,f,b,N)),r==null?r=1/0:(d=e-r,f=n-r,b=e+r,N=n+r,r*=r);E=j.pop();)if(!(!(z=E.node)||(h=E.x0)>b||(g=E.y0)>N||(x=E.x1)<d||(y=E.y1)<f))if(z.length){var A=(h+x)/2,R=(g+y)/2;j.push(new ri(z[3],A,R,x,y),new ri(z[2],h,R,A,y),new ri(z[1],A,g,x,R),new ri(z[0],h,g,A,R)),(T=(n>=R)<<1|e>=A)&&(E=j[j.length-1],j[j.length-1]=j[j.length-1-T],j[j.length-1-T]=E)}else{var U=e-+this._x.call(null,z.data),H=n-+this._y.call(null,z.data),P=U*U+H*H;if(P<r){var I=Math.sqrt(r=P);d=e-I,f=n-I,b=e+I,N=n+I,o=z.data}}return o}function $z(e){if(isNaN(b=+this._x.call(null,e))||isNaN(N=+this._y.call(null,e)))return this;var n,r=this._root,o,d,f,h=this._x0,g=this._y0,x=this._x1,y=this._y1,b,N,j,z,E,T,A,R;if(!r)return this;if(r.length)for(;;){if((E=b>=(j=(h+x)/2))?h=j:x=j,(T=N>=(z=(g+y)/2))?g=z:y=z,n=r,!(r=r[A=T<<1|E]))return this;if(!r.length)break;(n[A+1&3]||n[A+2&3]||n[A+3&3])&&(o=n,R=A)}for(;r.data!==e;)if(d=r,!(r=r.next))return this;return(f=r.next)&&delete r.next,d?(f?d.next=f:delete d.next,this):n?(f?n[A]=f:delete n[A],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[R]=r:this._root=r),this):(this._root=f,this)}function Pz(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Bz(){return this._root}function Uz(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Zz(e){var n=[],r,o=this._root,d,f,h,g,x;for(o&&n.push(new ri(o,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(o=r.node,f=r.x0,h=r.y0,g=r.x1,x=r.y1)&&o.length){var y=(f+g)/2,b=(h+x)/2;(d=o[3])&&n.push(new ri(d,y,b,g,x)),(d=o[2])&&n.push(new ri(d,f,b,y,x)),(d=o[1])&&n.push(new ri(d,y,h,g,b)),(d=o[0])&&n.push(new ri(d,f,h,y,b))}return this}function Hz(e){var n=[],r=[],o;for(this._root&&n.push(new ri(this._root,this._x0,this._y0,this._x1,this._y1));o=n.pop();){var d=o.node;if(d.length){var f,h=o.x0,g=o.y0,x=o.x1,y=o.y1,b=(h+x)/2,N=(g+y)/2;(f=d[0])&&n.push(new ri(f,h,g,b,N)),(f=d[1])&&n.push(new ri(f,b,g,x,N)),(f=d[2])&&n.push(new ri(f,h,N,b,y)),(f=d[3])&&n.push(new ri(f,b,N,x,y))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function qz(e){return e[0]}function Fz(e){return arguments.length?(this._x=e,this):this._x}function Vz(e){return e[1]}function Iz(e){return arguments.length?(this._y=e,this):this._y}function Hp(e,n,r){var o=new qp(n??qz,r??Vz,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function qp(e,n,r,o,d,f){this._x=e,this._y=n,this._x0=r,this._y0=o,this._x1=d,this._y1=f,this._root=void 0}function zx(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var li=Hp.prototype=qp.prototype;li.copy=function(){var e=new qp(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=zx(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var d=0;d<4;++d)(o=n.source[d])&&(o.length?r.push({source:o,target:n.target[d]=new Array(4)}):n.target[d]=zx(o));return e};li.add=zz;li.addAll=Mz;li.cover=Lz;li.data=Oz;li.extent=Rz;li.find=Dz;li.remove=$z;li.removeAll=Pz;li.root=Bz;li.size=Uz;li.visit=Zz;li.visitAfter=Hz;li.x=Fz;li.y=Iz;function si(e){return function(){return e}}function fs(e){return(e()-.5)*1e-6}function Gz(e){return e.x+e.vx}function Yz(e){return e.y+e.vy}function Xz(e){var n,r,o,d=1,f=1;typeof e!="function"&&(e=si(e==null?1:+e));function h(){for(var y,b=n.length,N,j,z,E,T,A,R=0;R<f;++R)for(N=Hp(n,Gz,Yz).visitAfter(g),y=0;y<b;++y)j=n[y],T=r[j.index],A=T*T,z=j.x+j.vx,E=j.y+j.vy,N.visit(U);function U(H,P,I,Z,J){var F=H.data,de=H.r,ve=T+de;if(F){if(F.index>j.index){var ge=z-F.x-F.vx,te=E-F.y-F.vy,se=ge*ge+te*te;se<ve*ve&&(ge===0&&(ge=fs(o),se+=ge*ge),te===0&&(te=fs(o),se+=te*te),se=(ve-(se=Math.sqrt(se)))/se*d,j.vx+=(ge*=se)*(ve=(de*=de)/(A+de)),j.vy+=(te*=se)*ve,F.vx-=ge*(ve=1-ve),F.vy-=te*ve)}return}return P>z+ve||Z<z-ve||I>E+ve||J<E-ve}}function g(y){if(y.data)return y.r=r[y.data.index];for(var b=y.r=0;b<4;++b)y[b]&&y[b].r>y.r&&(y.r=y[b].r)}function x(){if(n){var y,b=n.length,N;for(r=new Array(b),y=0;y<b;++y)N=n[y],r[N.index]=+e(N,y,n)}}return h.initialize=function(y,b){n=y,o=b,x()},h.iterations=function(y){return arguments.length?(f=+y,h):f},h.strength=function(y){return arguments.length?(d=+y,h):d},h.radius=function(y){return arguments.length?(e=typeof y=="function"?y:si(+y),x(),h):e},h}function Qz(e){return e.index}function Mx(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Kz(e){var n=Qz,r=N,o,d=si(30),f,h,g,x,y,b=1;e==null&&(e=[]);function N(A){return 1/Math.min(g[A.source.index],g[A.target.index])}function j(A){for(var R=0,U=e.length;R<b;++R)for(var H=0,P,I,Z,J,F,de,ve;H<U;++H)P=e[H],I=P.source,Z=P.target,J=Z.x+Z.vx-I.x-I.vx||fs(y),F=Z.y+Z.vy-I.y-I.vy||fs(y),de=Math.sqrt(J*J+F*F),de=(de-f[H])/de*A*o[H],J*=de,F*=de,Z.vx-=J*(ve=x[H]),Z.vy-=F*ve,I.vx+=J*(ve=1-ve),I.vy+=F*ve}function z(){if(h){var A,R=h.length,U=e.length,H=new Map(h.map((I,Z)=>[n(I,Z,h),I])),P;for(A=0,g=new Array(R);A<U;++A)P=e[A],P.index=A,typeof P.source!="object"&&(P.source=Mx(H,P.source)),typeof P.target!="object"&&(P.target=Mx(H,P.target)),g[P.source.index]=(g[P.source.index]||0)+1,g[P.target.index]=(g[P.target.index]||0)+1;for(A=0,x=new Array(U);A<U;++A)P=e[A],x[A]=g[P.source.index]/(g[P.source.index]+g[P.target.index]);o=new Array(U),E(),f=new Array(U),T()}}function E(){if(h)for(var A=0,R=e.length;A<R;++A)o[A]=+r(e[A],A,e)}function T(){if(h)for(var A=0,R=e.length;A<R;++A)f[A]=+d(e[A],A,e)}return j.initialize=function(A,R){h=A,y=R,z()},j.links=function(A){return arguments.length?(e=A,z(),j):e},j.id=function(A){return arguments.length?(n=A,j):n},j.iterations=function(A){return arguments.length?(b=+A,j):b},j.strength=function(A){return arguments.length?(r=typeof A=="function"?A:si(+A),E(),j):r},j.distance=function(A){return arguments.length?(d=typeof A=="function"?A:si(+A),T(),j):d},j}const Jz=1664525,Wz=1013904223,Lx=4294967296;function eM(){let e=1;return()=>(e=(Jz*e+Wz)%Lx)/Lx}function tM(e){return e.x}function nM(e){return e.y}var iM=10,aM=Math.PI*(3-Math.sqrt(5));function rM(e){var n,r=1,o=.001,d=1-Math.pow(o,1/300),f=0,h=.6,g=new Map,x=Bp(N),y=Ic("tick","end"),b=eM();e==null&&(e=[]);function N(){j(),y.call("tick",n),r<o&&(x.stop(),y.call("end",n))}function j(T){var A,R=e.length,U;T===void 0&&(T=1);for(var H=0;H<T;++H)for(r+=(f-r)*d,g.forEach(function(P){P(r)}),A=0;A<R;++A)U=e[A],U.fx==null?U.x+=U.vx*=h:(U.x=U.fx,U.vx=0),U.fy==null?U.y+=U.vy*=h:(U.y=U.fy,U.vy=0);return n}function z(){for(var T=0,A=e.length,R;T<A;++T){if(R=e[T],R.index=T,R.fx!=null&&(R.x=R.fx),R.fy!=null&&(R.y=R.fy),isNaN(R.x)||isNaN(R.y)){var U=iM*Math.sqrt(.5+T),H=T*aM;R.x=U*Math.cos(H),R.y=U*Math.sin(H)}(isNaN(R.vx)||isNaN(R.vy))&&(R.vx=R.vy=0)}}function E(T){return T.initialize&&T.initialize(e,b),T}return z(),n={tick:j,restart:function(){return x.restart(N),n},stop:function(){return x.stop(),n},nodes:function(T){return arguments.length?(e=T,z(),g.forEach(E),n):e},alpha:function(T){return arguments.length?(r=+T,n):r},alphaMin:function(T){return arguments.length?(o=+T,n):o},alphaDecay:function(T){return arguments.length?(d=+T,n):+d},alphaTarget:function(T){return arguments.length?(f=+T,n):f},velocityDecay:function(T){return arguments.length?(h=1-T,n):1-h},randomSource:function(T){return arguments.length?(b=T,g.forEach(E),n):b},force:function(T,A){return arguments.length>1?(A==null?g.delete(T):g.set(T,E(A)),n):g.get(T)},find:function(T,A,R){var U=0,H=e.length,P,I,Z,J,F;for(R==null?R=1/0:R*=R,U=0;U<H;++U)J=e[U],P=T-J.x,I=A-J.y,Z=P*P+I*I,Z<R&&(F=J,R=Z);return F},on:function(T,A){return arguments.length>1?(y.on(T,A),n):y.on(T)}}}function sM(){var e,n,r,o,d=si(-30),f,h=1,g=1/0,x=.81;function y(z){var E,T=e.length,A=Hp(e,tM,nM).visitAfter(N);for(o=z,E=0;E<T;++E)n=e[E],A.visit(j)}function b(){if(e){var z,E=e.length,T;for(f=new Array(E),z=0;z<E;++z)T=e[z],f[T.index]=+d(T,z,e)}}function N(z){var E=0,T,A,R=0,U,H,P;if(z.length){for(U=H=P=0;P<4;++P)(T=z[P])&&(A=Math.abs(T.value))&&(E+=T.value,R+=A,U+=A*T.x,H+=A*T.y);z.x=U/R,z.y=H/R}else{T=z,T.x=T.data.x,T.y=T.data.y;do E+=f[T.data.index];while(T=T.next)}z.value=E}function j(z,E,T,A){if(!z.value)return!0;var R=z.x-n.x,U=z.y-n.y,H=A-E,P=R*R+U*U;if(H*H/x<P)return P<g&&(R===0&&(R=fs(r),P+=R*R),U===0&&(U=fs(r),P+=U*U),P<h&&(P=Math.sqrt(h*P)),n.vx+=R*z.value*o/P,n.vy+=U*z.value*o/P),!0;if(z.length||P>=g)return;(z.data!==n||z.next)&&(R===0&&(R=fs(r),P+=R*R),U===0&&(U=fs(r),P+=U*U),P<h&&(P=Math.sqrt(h*P)));do z.data!==n&&(H=f[z.data.index]*o/P,n.vx+=R*H,n.vy+=U*H);while(z=z.next)}return y.initialize=function(z,E){e=z,r=E,b()},y.strength=function(z){return arguments.length?(d=typeof z=="function"?z:si(+z),b(),y):d},y.distanceMin=function(z){return arguments.length?(h=z*z,y):Math.sqrt(h)},y.distanceMax=function(z){return arguments.length?(g=z*z,y):Math.sqrt(g)},y.theta=function(z){return arguments.length?(x=z*z,y):Math.sqrt(x)},y}function oM(e){var n=si(.1),r,o,d;typeof e!="function"&&(e=si(e==null?0:+e));function f(g){for(var x=0,y=r.length,b;x<y;++x)b=r[x],b.vx+=(d[x]-b.x)*o[x]*g}function h(){if(r){var g,x=r.length;for(o=new Array(x),d=new Array(x),g=0;g<x;++g)o[g]=isNaN(d[g]=+e(r[g],g,r))?0:+n(r[g],g,r)}}return f.initialize=function(g){r=g,h()},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:si(+g),h(),f):n},f.x=function(g){return arguments.length?(e=typeof g=="function"?g:si(+g),h(),f):e},f}function lM(e){var n=si(.1),r,o,d;typeof e!="function"&&(e=si(e==null?0:+e));function f(g){for(var x=0,y=r.length,b;x<y;++x)b=r[x],b.vy+=(d[x]-b.y)*o[x]*g}function h(){if(r){var g,x=r.length;for(o=new Array(x),d=new Array(x),g=0;g<x;++g)o[g]=isNaN(d[g]=+e(r[g],g,r))?0:+n(r[g],g,r)}}return f.initialize=function(g){r=g,h()},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:si(+g),h(),f):n},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:si(+g),h(),f):e},f}const Ed=e=>()=>e;function cM(e,{sourceEvent:n,target:r,transform:o,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:d}})}function yr(e,n,r){this.k=e,this.x=n,this.y=r}yr.prototype={constructor:yr,scale:function(e){return e===1?this:new yr(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new yr(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fp=new yr(1,0,0);yr.prototype;function Rm(e){e.stopImmediatePropagation()}function xc(e){e.preventDefault(),e.stopImmediatePropagation()}function uM(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dM(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ox(){return this.__zoom||Fp}function fM(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hM(){return navigator.maxTouchPoints||"ontouchstart"in this}function mM(e,n,r){var o=e.invertX(n[0][0])-r[0][0],d=e.invertX(n[1][0])-r[1][0],f=e.invertY(n[0][1])-r[0][1],h=e.invertY(n[1][1])-r[1][1];return e.translate(d>o?(o+d)/2:Math.min(0,o)||Math.max(0,d),h>f?(f+h)/2:Math.min(0,f)||Math.max(0,h))}function pM(){var e=uM,n=dM,r=mM,o=fM,d=hM,f=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],g=250,x=yC,y=Ic("start","zoom","end"),b,N,j,z=500,E=150,T=0,A=10;function R(B){B.property("__zoom",Ox).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",de).on("dblclick.zoom",ve).filter(d).on("touchstart.zoom",ge).on("touchmove.zoom",te).on("touchend.zoom touchcancel.zoom",se).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(B,me,D,oe){var le=B.selection?B.selection():B;le.property("__zoom",Ox),B!==le?I(B,me,D,oe):le.interrupt().each(function(){Z(this,arguments).event(oe).start().zoom(null,typeof me=="function"?me.apply(this,arguments):me).end()})},R.scaleBy=function(B,me,D,oe){R.scaleTo(B,function(){var le=this.__zoom.k,Ae=typeof me=="function"?me.apply(this,arguments):me;return le*Ae},D,oe)},R.scaleTo=function(B,me,D,oe){R.transform(B,function(){var le=n.apply(this,arguments),Ae=this.__zoom,ce=D==null?P(le):typeof D=="function"?D.apply(this,arguments):D,$=Ae.invert(ce),ae=typeof me=="function"?me.apply(this,arguments):me;return r(H(U(Ae,ae),ce,$),le,h)},D,oe)},R.translateBy=function(B,me,D,oe){R.transform(B,function(){return r(this.__zoom.translate(typeof me=="function"?me.apply(this,arguments):me,typeof D=="function"?D.apply(this,arguments):D),n.apply(this,arguments),h)},null,oe)},R.translateTo=function(B,me,D,oe,le){R.transform(B,function(){var Ae=n.apply(this,arguments),ce=this.__zoom,$=oe==null?P(Ae):typeof oe=="function"?oe.apply(this,arguments):oe;return r(Fp.translate($[0],$[1]).scale(ce.k).translate(typeof me=="function"?-me.apply(this,arguments):-me,typeof D=="function"?-D.apply(this,arguments):-D),Ae,h)},oe,le)};function U(B,me){return me=Math.max(f[0],Math.min(f[1],me)),me===B.k?B:new yr(me,B.x,B.y)}function H(B,me,D){var oe=me[0]-D[0]*B.k,le=me[1]-D[1]*B.k;return oe===B.x&&le===B.y?B:new yr(B.k,oe,le)}function P(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function I(B,me,D,oe){B.on("start.zoom",function(){Z(this,arguments).event(oe).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(oe).end()}).tween("zoom",function(){var le=this,Ae=arguments,ce=Z(le,Ae).event(oe),$=n.apply(le,Ae),ae=D==null?P($):typeof D=="function"?D.apply(le,Ae):D,Q=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),W=le.__zoom,Ne=typeof me=="function"?me.apply(le,Ae):me,Me=x(W.invert(ae).concat(Q/W.k),Ne.invert(ae).concat(Q/Ne.k));return function(Le){if(Le===1)Le=Ne;else{var Y=Me(Le),we=Q/Y[2];Le=new yr(we,ae[0]-Y[0]*we,ae[1]-Y[1]*we)}ce.zoom(null,Le)}})}function Z(B,me,D){return!D&&B.__zooming||new J(B,me)}function J(B,me){this.that=B,this.args=me,this.active=0,this.sourceEvent=null,this.extent=n.apply(B,me),this.taps=0}J.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,me){return this.mouse&&B!=="mouse"&&(this.mouse[1]=me.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=me.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=me.invert(this.touch1[0])),this.that.__zoom=me,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var me=ai(this.that).datum();y.call(B,this.that,new cM(B,{sourceEvent:this.sourceEvent,target:R,transform:this.that.__zoom,dispatch:y}),me)}};function F(B,...me){if(!e.apply(this,arguments))return;var D=Z(this,me).event(B),oe=this.__zoom,le=Math.max(f[0],Math.min(f[1],oe.k*Math.pow(2,o.apply(this,arguments)))),Ae=gr(B);if(D.wheel)(D.mouse[0][0]!==Ae[0]||D.mouse[0][1]!==Ae[1])&&(D.mouse[1]=oe.invert(D.mouse[0]=Ae)),clearTimeout(D.wheel);else{if(oe.k===le)return;D.mouse=[Ae,oe.invert(Ae)],Ud(this),D.start()}xc(B),D.wheel=setTimeout(ce,E),D.zoom("mouse",r(H(U(oe,le),D.mouse[0],D.mouse[1]),D.extent,h));function ce(){D.wheel=null,D.end()}}function de(B,...me){if(j||!e.apply(this,arguments))return;var D=B.currentTarget,oe=Z(this,me,!0).event(B),le=ai(B.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",Q,!0),Ae=gr(B,D),ce=B.clientX,$=B.clientY;Ab(B.view),Rm(B),oe.mouse=[Ae,this.__zoom.invert(Ae)],Ud(this),oe.start();function ae(W){if(xc(W),!oe.moved){var Ne=W.clientX-ce,Me=W.clientY-$;oe.moved=Ne*Ne+Me*Me>T}oe.event(W).zoom("mouse",r(H(oe.that.__zoom,oe.mouse[0]=gr(W,D),oe.mouse[1]),oe.extent,h))}function Q(W){le.on("mousemove.zoom mouseup.zoom",null),Eb(W.view,oe.moved),xc(W),oe.event(W).end()}}function ve(B,...me){if(e.apply(this,arguments)){var D=this.__zoom,oe=gr(B.changedTouches?B.changedTouches[0]:B,this),le=D.invert(oe),Ae=D.k*(B.shiftKey?.5:2),ce=r(H(U(D,Ae),oe,le),n.apply(this,me),h);xc(B),g>0?ai(this).transition().duration(g).call(I,ce,oe,B):ai(this).call(R.transform,ce,oe,B)}}function ge(B,...me){if(e.apply(this,arguments)){var D=B.touches,oe=D.length,le=Z(this,me,B.changedTouches.length===oe).event(B),Ae,ce,$,ae;for(Rm(B),ce=0;ce<oe;++ce)$=D[ce],ae=gr($,this),ae=[ae,this.__zoom.invert(ae),$.identifier],le.touch0?!le.touch1&&le.touch0[2]!==ae[2]&&(le.touch1=ae,le.taps=0):(le.touch0=ae,Ae=!0,le.taps=1+!!b);b&&(b=clearTimeout(b)),Ae&&(le.taps<2&&(N=ae[0],b=setTimeout(function(){b=null},z)),Ud(this),le.start())}}function te(B,...me){if(this.__zooming){var D=Z(this,me).event(B),oe=B.changedTouches,le=oe.length,Ae,ce,$,ae;for(xc(B),Ae=0;Ae<le;++Ae)ce=oe[Ae],$=gr(ce,this),D.touch0&&D.touch0[2]===ce.identifier?D.touch0[0]=$:D.touch1&&D.touch1[2]===ce.identifier&&(D.touch1[0]=$);if(ce=D.that.__zoom,D.touch1){var Q=D.touch0[0],W=D.touch0[1],Ne=D.touch1[0],Me=D.touch1[1],Le=(Le=Ne[0]-Q[0])*Le+(Le=Ne[1]-Q[1])*Le,Y=(Y=Me[0]-W[0])*Y+(Y=Me[1]-W[1])*Y;ce=U(ce,Math.sqrt(Le/Y)),$=[(Q[0]+Ne[0])/2,(Q[1]+Ne[1])/2],ae=[(W[0]+Me[0])/2,(W[1]+Me[1])/2]}else if(D.touch0)$=D.touch0[0],ae=D.touch0[1];else return;D.zoom("touch",r(H(ce,$,ae),D.extent,h))}}function se(B,...me){if(this.__zooming){var D=Z(this,me).event(B),oe=B.changedTouches,le=oe.length,Ae,ce;for(Rm(B),j&&clearTimeout(j),j=setTimeout(function(){j=null},z),Ae=0;Ae<le;++Ae)ce=oe[Ae],D.touch0&&D.touch0[2]===ce.identifier?delete D.touch0:D.touch1&&D.touch1[2]===ce.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(ce=gr(ce,this),Math.hypot(N[0]-ce[0],N[1]-ce[1])<A)){var $=ai(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return R.wheelDelta=function(B){return arguments.length?(o=typeof B=="function"?B:Ed(+B),R):o},R.filter=function(B){return arguments.length?(e=typeof B=="function"?B:Ed(!!B),R):e},R.touchable=function(B){return arguments.length?(d=typeof B=="function"?B:Ed(!!B),R):d},R.extent=function(B){return arguments.length?(n=typeof B=="function"?B:Ed([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),R):n},R.scaleExtent=function(B){return arguments.length?(f[0]=+B[0],f[1]=+B[1],R):[f[0],f[1]]},R.translateExtent=function(B){return arguments.length?(h[0][0]=+B[0][0],h[1][0]=+B[1][0],h[0][1]=+B[0][1],h[1][1]=+B[1][1],R):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},R.constrain=function(B){return arguments.length?(r=B,R):r},R.duration=function(B){return arguments.length?(g=+B,R):g},R.interpolate=function(B){return arguments.length?(x=B,R):x},R.on=function(){var B=y.on.apply(y,arguments);return B===y?R:B},R.clickDistance=function(B){return arguments.length?(T=(B=+B)*B,R):Math.sqrt(T)},R.tapDistance=function(B){return arguments.length?(A=+B,R):A},R}const ss=220,Xs=120,gM=50*1024*1024,vM=new Set(["ged","gedcom"]),yM=()=>String(Date.now()+Math.floor(Math.random()*1e4)),Bt=e=>String(e||"").replace(/\s+/g," ").trim(),_M=e=>{const n=String(e||"").toLowerCase().split(".");return n.length>1?n.pop():""},xM=e=>/(^|\r?\n)\s*0\s+@?[^\r\n]*\bINDI\b/i.test(String(e||"")),Rx=()=>({id:null,name:"",gender:"",birthYear:"",birthPlace:"",deathDate:"",deathPlace:"",father:"",mother:"",spouse:"",children:[],details:"",profession:"",archiveSource:"",documentCode:"",reliability:"",color:"#f5f1e8"}),kd=e=>{const n=String(e||"").trim().toLowerCase();return n?n.startsWith("m")?"M":n.startsWith("f")?"F":"":""},$c=e=>{const n=Bt(e);if(!n)return{full:"",given:"",surname:""};const r=n.match(/^(.*?)\/([^/]+)\/?(.*)$/);if(r){const d=Bt(r[1]),f=Bt(r[2]),h=Bt(r[3]);return{full:Bt([d,f,h].filter(Boolean).join(" "))||n.replace(/\//g," "),given:d,surname:f}}if(n.includes(",")){const[d,f]=n.split(",",2),h=Bt(d),g=Bt(f);return{full:Bt([g,h].filter(Boolean).join(" "))||n,given:g,surname:h}}const o=n.split(" ").filter(Boolean);if(o.length>1){const d=o[o.length-1],f=o.slice(0,-1).join(" ");return{full:n,given:f,surname:d}}return{full:n,given:n,surname:""}},jf=e=>{const n=String(e||"").replace(/^\uFEFF/,""),r=new Map,o=new Map;let d=null,f=null,h=!1,g=!1,x=null;const y=E=>{const T=String(E||"");return T?(r.has(T)||r.set(T,{id:T,names:{},gender:"",birthYear:"",birthPlace:"",deathDate:"",deathPlace:"",profession:"",archiveSource:"",documentCode:"",reliability:"",details:"",color:"",famc:null,fams:[],father:null,mother:null,spouse:null,children:[],given:"",surname:""}),r.get(T)):null},b=E=>{const T=String(E||"");return T?(o.has(T)||o.set(T,{id:T,husb:null,wife:null,chil:[]}),o.get(T)):null},N=(E,T)=>{const A=Bt(T);return A?E?String(E).includes(A)?E:`${E}; ${A}`:A:E||""},j=()=>{if(!x)return;const E=y(x.id);if(E){const T=String(x.text||"").trim();T&&(E.details=T)}x=null},z=n.split(/\r\n|\n|\r/);for(const E of z){const T=String(E||"").trim();if(!T)continue;const A=T.split(/\s+/),R=Number(A[0]);if(x&&!Number.isNaN(R)&&R<=x.level&&j(),A[0]==="0"){j(),h=!1,g=!1;const U=String(A[1]||"").startsWith("@"),H=U?A[1]:null,P=U?A[2]:A[1];if(P==="INDI"&&H){d="INDI",f=H,y(H);continue}if(P==="FAM"&&H){d="FAM",f=H,b(H);continue}d=null,f=null;continue}if(!(!d||!f)){if(d==="INDI"){const U=y(f),H=A[1],P=A.slice(2).join(" ").trim();if(x&&(H==="CONT"||H==="CONC")){x.text+=H==="CONT"?`
${P}`:P;continue}if(H==="NAME"){const I=P;if(I){const Z=$c(I);Z.full&&(U.names.en=Z.full),Z.given&&(U.given=Z.given),Z.surname&&(U.surname=Z.surname)}continue}if(H==="GIVN"){U.given=P;continue}if(H==="SURN"){U.surname=P;continue}if(H==="SEX"){U.gender=P;continue}if(H==="BIRT"){if(h=!0,P){const I=Bt(P);U.birthYear=I||U.birthYear,h=!1}continue}if(h&&H==="DATE"){const I=Bt(P);U.birthYear=I||U.birthYear,h=!1;continue}if(h&&H==="PLAC"){U.birthPlace=Bt(P);continue}if(H==="DEAT"){if(g=!0,P){const I=Bt(P);I&&I!=="Y"&&(U.deathDate=I),g=!1}continue}if(g&&H==="DATE"){const I=Bt(P);I&&I!=="Y"&&(U.deathDate=I),g=!1;continue}if(g&&H==="PLAC"){U.deathPlace=Bt(P);continue}if(H==="NOTE"){x={id:f,level:R,text:P};continue}if(H==="OCCU"){U.profession=P;continue}if(H==="SOUR"){U.archiveSource=N(U.archiveSource,P);continue}if(H==="REFN"||H==="_DOC"){U.documentCode=N(U.documentCode,P);continue}if(H==="_RELI"||H==="RELI"){U.reliability=P;continue}if(H==="_COLOR"||H==="COLOR"){U.color=P;continue}if(H==="FAMC"){U.famc=P;continue}H==="FAMS"&&P&&U.fams.push(P)}if(d==="FAM"){const U=b(f),H=A[1];if(H==="HUSB"&&(U.husb=String(A[2]||"").trim()),H==="WIFE"&&(U.wife=String(A[2]||"").trim()),H==="CHIL"){const P=String(A[2]||"").trim();P&&U.chil.push(P)}}}}j();for(const E of r.values()){const T=Bt(E.given),A=Bt(E.surname);if(T||A){const R=Bt([T,A].filter(Boolean).join(" "));R&&(E.names.en=R)}else if(E.names?.en){const R=$c(E.names.en);R.given&&(E.given=R.given),R.surname&&(E.surname=R.surname)}}for(const E of r.values()){const T=E.famc?o.get(E.famc):null;T&&(E.father=T.husb||null,E.mother=T.wife||null)}for(const E of o.values()){if(E.husb&&E.wife){const T=r.get(E.husb),A=r.get(E.wife);T&&!T.spouse&&(T.spouse=E.wife),A&&!A.spouse&&(A.spouse=E.husb)}for(const T of E.chil||[]){if(E.husb&&r.get(E.husb)){const A=r.get(E.husb);A.children.includes(T)||A.children.push(T)}if(E.wife&&r.get(E.wife)){const A=r.get(E.wife);A.children.includes(T)||A.children.push(T)}}}return Array.from(r.values())},Zb=(e,n,r)=>{const o=Z=>{const J=Z?.names||{},F=J?.[n]||J?.en||J?.fr||J?.ar||J?.es||r("unknown","Unknown");return Bt(String(F).replace(/\r?\n/g," "))},d=Z=>{const J=o(Z),F=Bt(Z?.given),de=Bt(Z?.surname);return F||de?{full:Bt([F,de].filter(Boolean).join(" "))||J,given:F,surname:de}:$c(J)},f=new Map;for(const Z of e)f.set(String(Z.id),Z);const h=new Map;let g=1;for(const Z of e)h.set(String(Z.id),`@I${g++}@`);const x=new Map,y=new Map;let b=1;const N=Z=>{const J=String(Z||"");return x.has(J)||x.set(J,{id:`@F${b++}@`,husbId:"",wifeId:"",children:[]}),x.get(J)},j=(Z,J)=>{const F=String(Z||"").trim(),de=String(J||"").trim();return!F||!de?null:[F,de].sort().join("|")},z=(Z,J,F)=>{const de=j(Z,J);if(de&&y.has(de))return x.get(y.get(de));const ve=N(F);return de&&y.set(de,F),ve},E=(Z,J,F)=>{J&&!Z.husbId&&(Z.husbId=J),F&&!Z.wifeId&&(Z.wifeId=F)},T=(Z,J)=>`P:${String(Z||"")}|${String(J||"")}`,A=(Z,J)=>`S:${[String(Z),String(J)].sort().join("|")}`,R=new Map,U=new Map,H=(Z,J)=>{const F=String(Z||""),de=String(J||"");!F||!de||(U.has(F)||U.set(F,new Set),U.get(F).add(de))},P=(Z,J)=>{const F=f.get(Z),de=f.get(J),ve=String(F?.gender||"").toUpperCase(),ge=String(de?.gender||"").toUpperCase();if(ve.startsWith("F")&&ge.startsWith("M"))return{husbId:J,wifeId:Z};if(ve.startsWith("M")&&ge.startsWith("F"))return{husbId:Z,wifeId:J};const te=[Z,J].sort();return{husbId:te[0],wifeId:te[1]}};for(const Z of e){if(!Z.father&&!Z.mother)continue;const J=Z.father?String(Z.father):"",F=Z.mother?String(Z.mother):"",de=z(J,F,T(J,F));J&&h.has(J)&&E(de,J,""),F&&h.has(F)&&E(de,"",F);const ve=String(Z.id);h.has(ve)&&!de.children.includes(ve)&&de.children.push(ve),R.set(ve,de.id),J&&H(J,de.id),F&&H(F,de.id)}for(const Z of e){const J=String(Z.id),F=Array.isArray(Z.children)?Z.children:[];for(const de of F){const ve=String(de||"");if(!ve||!h.has(ve))continue;const ge=Z.spouse?String(Z.spouse):"";let te="",se="";if(ge){const me=P(J,ge);te=me.husbId,se=me.wifeId}else String(Z.gender||"").toUpperCase().startsWith("F")?se=J:te=J;const B=z(te,se,T(te||J,se||ge));h.has(te)&&E(B,te,""),h.has(se)&&E(B,"",se),B.children.includes(ve)||B.children.push(ve),R.set(ve,B.id),te&&H(te,B.id),se&&H(se,B.id)}}for(const Z of e){if(!Z.spouse)continue;const J=String(Z.id),F=String(Z.spouse);if(!h.has(J)||!h.has(F))continue;const de=P(J,F),ve=z(de.husbId,de.wifeId,A(J,F));!ve.husbId&&!ve.wifeId&&(ve.husbId=de.husbId,ve.wifeId=de.wifeId),H(J,ve.id),H(F,ve.id)}const I=[];I.push("0 HEAD"),I.push("1 SOUR RootsMaghreb"),I.push("1 GEDC"),I.push("2 VERS 5.5.1"),I.push("2 FORM LINEAGE-LINKED"),I.push("1 CHAR UTF-8");for(const Z of e){const J=String(Z.id),F=h.get(J);I.push(`0 ${F} INDI`);const de=d(Z),ve=de.surname?`${de.given} /${de.surname}/`.trim():de.full;if(I.push(`1 NAME ${ve||r("unknown","Unknown")}`),de.given&&I.push(`1 GIVN ${de.given}`),de.surname&&I.push(`1 SURN ${de.surname}`),Z.gender&&I.push(`1 SEX ${String(Z.gender).slice(0,1)}`),(Z.birthYear||Z.birthPlace)&&(I.push("1 BIRT"),Z.birthYear&&I.push(`2 DATE ${String(Z.birthYear)}`),Z.birthPlace&&I.push(`2 PLAC ${String(Z.birthPlace)}`)),Z.deathDate||Z.deathPlace){const se=String(Z.deathDate||"").trim();I.push("1 DEAT"),se&&I.push(`2 DATE ${se}`),Z.deathPlace&&I.push(`2 PLAC ${String(Z.deathPlace)}`)}if(Z.details){const se=String(Z.details||"").split(/\r?\n/).map(B=>B.trim()).filter(Boolean);if(se.length){I.push(`1 NOTE ${se[0]}`);for(const B of se.slice(1))I.push(`2 CONT ${B}`)}}Z.profession&&I.push(`1 OCCU ${String(Z.profession).trim()}`),Z.archiveSource&&I.push(`1 SOUR ${String(Z.archiveSource).trim()}`),Z.documentCode&&I.push(`1 REFN ${String(Z.documentCode).trim()}`),Z.reliability&&I.push(`1 _RELI ${String(Z.reliability).trim()}`),Z.color&&I.push(`1 _COLOR ${String(Z.color).trim()}`);const ge=R.get(J);ge&&I.push(`1 FAMC ${ge}`);const te=U.get(J);if(te&&te.size)for(const se of Array.from(te).sort())I.push(`1 FAMS ${se}`)}for(const Z of x.values()){I.push(`0 ${Z.id} FAM`),Z.husbId&&h.has(Z.husbId)&&I.push(`1 HUSB ${h.get(Z.husbId)}`),Z.wifeId&&h.has(Z.wifeId)&&I.push(`1 WIFE ${h.get(Z.wifeId)}`);for(const J of Z.children)h.has(J)&&I.push(`1 CHIL ${h.get(J)}`)}return I.push("0 TRLR"),`${I.join(`\r
`)}\r
`};function Vp({people:e=[],setPeople:n,readOnly:r=!1,onAutoSave:o}){const{theme:d}=dn(),{locale:f,dir:h,t:g}=fn(),x=k.useMemo(()=>Array.isArray(e)?e:[],[e]),y=typeof n=="function",b=d==="dark",N=k.useRef(null),j=k.useRef(null),z=k.useRef(null),E=k.useRef([]),T=k.useRef(null),[A,R]=k.useState(null),[U,H]=k.useState({message:"",type:"success"}),[P,I]=k.useState(r?"selected":"editor"),[Z,J]=k.useState(""),[F,de]=k.useState(()=>Rx()),ve=ne=>{if(!y||r){H({message:g("tree_builder_read_only","Tree builder is read-only."),type:"error"});return}n(Te=>{const O=typeof ne=="function"?ne(Te):ne;return!r&&o&&o(O),O})},ge=(ne,Te="success")=>{H({message:ne,type:Te})},te=ne=>{H({message:ne,type:"error"})};k.useEffect(()=>{r&&I("selected")},[r]),k.useEffect(()=>{if(!y)return;const ne=localStorage.getItem("mockupDataActive")==="true";ne&&x.length===0?n([{id:"mock1",names:{en:"Kamel Admin"},gender:"Male",birthYear:"1980",details:"Founder of Roots Maghreb",children:["mock3"],spouse:"mock2",color:"#f8f5ef"},{id:"mock2",names:{en:"Sarah Admin"},gender:"Female",birthYear:"1982",details:"Co-Founder",children:["mock3"],spouse:"mock1",color:"#f8f5ef"},{id:"mock3",names:{en:"Junior Admin"},gender:"Male",birthYear:"2010",details:"Future CEO",father:"mock1",mother:"mock2",color:"#f8f5ef"}]):!ne&&x.some(Te=>Te.id==="mock1")&&n([])},[y,x,n]),k.useEffect(()=>{if(!U.message)return;const ne=setTimeout(()=>H(Te=>({...Te,message:""})),3e3);return()=>clearTimeout(ne)},[U.message]);const se=k.useCallback(ne=>ne?.names?.[f]||ne?.names?.en||ne?.names?.fr||ne?.names?.ar||ne?.names?.es||g("unknown","Unknown"),[f,g]),B=k.useMemo(()=>{const ne=new Map;for(const Te of x)ne.set(String(Te.id),Te);return ne},[x]),me=k.useCallback(ne=>{if(!ne)return"-";const Te=B.get(String(ne));return Te?se(Te):"-"},[B,se]),D=k.useCallback(ne=>{const Te=kd(ne);return Te==="M"?g("male","Male"):Te==="F"?g("female","Female"):String(ne||"").trim()||"-"},[g]),oe=k.useMemo(()=>{const ne=Z.trim().toLowerCase(),Te=x.map(O=>({id:String(O.id),person:O,name:String(se(O))}));return Te.sort((O,K)=>O.name.localeCompare(K.name)),ne?Te.filter(O=>O.name.toLowerCase().includes(ne)):Te},[x,Z,se]),le=k.useCallback(()=>{de(Rx())},[]),Ae=k.useCallback(ne=>{r||!ne||(I("editor"),de({id:ne.id,name:se(ne),gender:kd(ne.gender),birthYear:ne.birthYear||"",birthPlace:ne.birthPlace||"",deathDate:ne.deathDate||"",deathPlace:ne.deathPlace||"",details:ne.details||"",profession:ne.profession||"",archiveSource:ne.archiveSource||"",documentCode:ne.documentCode||"",reliability:ne.reliability||"",father:ne.father||"",mother:ne.mother||"",spouse:ne.spouse||"",children:Array.isArray(ne.children)?ne.children:[],color:ne.color||"#f5f1e8"}))},[se,r]);k.useEffect(()=>{if(!A)return;const ne=x.find(Te=>String(Te.id)===String(A.id))||null;R(ne)},[A,x]);const ce=k.useMemo(()=>{const ne=[],Te=new Set,O=new Set,K=new Map(x.map(V=>[String(V.id),V])),ee=V=>K.has(String(V)),pe=(V,re)=>{const _e=String(V||""),q=String(re||"");if(!_e||!q||!ee(_e)||!ee(q))return;const fe=[_e,q].sort().join("|");Te.has(fe)||(Te.add(fe),ne.push({source:_e,target:q,type:"couple"}))};for(const V of x){const re=String(V.id),_e=V.father?String(V.father):"",q=V.mother?String(V.mother):"";if(_e&&q&&ee(_e)&&ee(q)){pe(_e,q);const fe=`C:${[_e,q,re].join("|")}`;O.has(fe)||(O.add(fe),ne.push({source:_e,target:re,mate:q,type:"child"}));continue}if(_e&&ee(_e)){const fe=`C:${_e}>${re}`;O.has(fe)||(O.add(fe),ne.push({source:_e,target:re,type:"child"}))}if(q&&ee(q)){const fe=`C:${q}>${re}`;O.has(fe)||(O.add(fe),ne.push({source:q,target:re,type:"child"}))}}for(const V of x){const re=String(V.id),_e=Array.isArray(V.children)?V.children:[];for(const q of _e){const fe=String(q||"");if(!fe||!ee(fe))continue;const Ze=K.get(fe),ut=Ze?.father?String(Ze.father):"",et=Ze?.mother?String(Ze.mother):"";if(ut||et){if(ut===re||et===re)continue;continue}const Ct=`C:${re}>${fe}`;O.has(Ct)||(O.add(Ct),ne.push({source:re,target:fe,type:"child"}))}}for(const V of x)V.spouse&&pe(V.id,V.spouse);return ne},[x]),$=(ne,Te)=>{const O=new Map;ne.forEach(pe=>O.set(String(pe.id),0));let K=!0,ee=0;for(;K&&ee<50;){K=!1,ee++;for(const pe of Te){const V=String(pe.source),re=String(pe.target),_e=O.get(V),q=O.get(re);if(!(_e===void 0||q===void 0)){if(pe.type==="child")q<_e+1&&(O.set(re,_e+1),K=!0);else if(pe.type==="couple"){const fe=Math.max(_e,q);_e!==fe&&(O.set(V,fe),K=!0),q!==fe&&(O.set(re,fe),K=!0)}}}}return O};k.useEffect(()=>{if(!N.current||!j.current)return;const ne=ai(N.current);let Te=null,O=null;const K=()=>{try{const pe=Math.max(320,j.current?.clientWidth||0),V=Math.max(520,j.current?.clientHeight||680);UT(".d3-tooltip").remove(),ne.attr("width",pe).attr("height",V),ne.selectAll("*").remove(),ne.append("defs").append("filter").attr("id","shadow").append("feDropShadow").attr("dx",0).attr("dy",10).attr("stdDeviation",10).attr("flood-opacity",.35);const _e=ne.append("rect").attr("width",pe).attr("height",V).attr("fill","transparent"),q=ne.append("g"),fe=pM().scaleExtent([.2,2.8]).on("zoom",ye=>q.attr("transform",ye.transform));z.current=fe,ne.call(fe);const Ze=$(x,ce),ut=x.map(ye=>({...ye,gen:Ze.get(String(ye.id))||0,x:Number.isFinite(ye.x)?ye.x:pe/2+(Math.random()-.5)*50,y:Number.isFinite(ye.y)?ye.y:V/2+(Math.random()-.5)*50}));E.current=ut;const et=new Map(ut.map(ye=>[String(ye.id),ye])),Ct=ce.map(ye=>({...ye,source:et.get(String(ye.source))||String(ye.source),target:et.get(String(ye.target))||String(ye.target),mate:ye.mate?et.get(String(ye.mate)):null})).filter(ye=>typeof ye.source!="string"&&typeof ye.target!="string"),tn=b?"#d4af37":"#5d4037",St=b?"#2c1810":"#f5f1e8",Kt=b?"#556b2f":"#6b8e23",$e=Ct.filter(ye=>ye.type==="couple"),Fe=Ct.filter(ye=>ye.type!=="couple"),at=q.append("g").attr("class","links"),Ue=at.selectAll("path.couple-outer").data($e).enter().append("path").attr("class","couple-outer").attr("fill","none").attr("stroke",tn).attr("stroke-width",12).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("opacity",1),mt=at.selectAll("path.couple-inner").data($e).enter().append("path").attr("class","couple-inner").attr("fill","none").attr("stroke",St).attr("stroke-width",4).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("opacity",1),pt=at.selectAll("path.child-link").data(Fe).enter().append("path").attr("class","child-link").attr("fill","none").attr("stroke",Kt).attr("stroke-width",3).attr("stroke-dasharray","5,5").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("opacity",.8).attr("marker-end","url(#arrow)");let _t=ai("body").select(".d3-tooltip");_t.empty()&&(_t=ai("body").append("div").attr("class","d3-tooltip").style("position","absolute").style("visibility","hidden").style("background",b?"#3e2723":"#f8f5ef").style("color",b?"#f8f5ef":"#3e2723").style("border",b?"1px solid #2c1810":"1px solid #e8dfca").style("padding","8px 12px").style("border-radius","4px").style("font-size","12px").style("font-family","Manrope").style("box-shadow","0 6px 16px rgba(0,0,0,0.18)").style("pointer-events","none").style("z-index","9999"));const yt=rM(ut).force("charge",sM().strength(-1500)).force("center",Cz(pe/2,V/2)).force("collision",Xz().radius(ss*.6)).force("y",lM(ye=>ye.gen*200).strength(1.2)).force("x",oM().strength(.05)).force("link",Kz(Ct).id(ye=>String(ye.id)).distance(ye=>ye.type==="couple"?150:240).strength(ye=>ye.type==="couple"?.6:.85)),dt=q.selectAll("g.node").data(ut,ye=>String(ye.id)).enter().append("g").attr("class","node").style("cursor","grab").call(IT().on("start",(ye,Be)=>{ye.active||yt.alphaTarget(.3).restart(),Be.fx=Be.x,Be.fy=Be.y}).on("drag",(ye,Be)=>{Be.fx=ye.x,Be.fy=ye.y}).on("end",(ye,Be)=>{ye.active||yt.alphaTarget(0),Be.fx=null,Be.fy=null})).on("click",(ye,Be)=>{const jt=x.find(Cn=>String(Cn.id)===String(Be.id))||Be;R(jt)}).on("mouseover",(ye,Be)=>{const jt=se(Be),Cn=D(Be.gender),Jn=Bt(Be.birthYear||Be.birthDate||""),Wn=Bt(Be.birthPlace||""),Un=Bt(Be.deathDate||Be.deathYear||""),In=Bt(Be.deathPlace||""),Qe=String(Be.details||"").trim(),ms=Bt(Be.profession||""),Sr=Array.isArray(Be.archiveSource)?Be.archiveSource.filter(Boolean).join(", "):Bt(Be.archiveSource||""),ci=Array.isArray(Be.documentCode)?Be.documentCode.filter(Boolean).join(", "):Bt(Be.documentCode||""),ln=Bt(Be.reliability||""),hn=Jt=>x.find(aa=>String(aa.id)===String(Jt))?.names?.[f]||x.find(aa=>String(aa.id)===String(Jt))?.names?.en||"Unknown",ta=Be.father?hn(Be.father):"",$i=Be.mother?hn(Be.mother):"",co=Be.spouse?hn(Be.spouse):"",uo=[],ui=(Jt,aa)=>{aa&&uo.push(`<div class="flex justify-between gap-4"><span class="opacity-70">${Jt}:</span><span>${aa}</span></div>`)};ui(g("gender","Gender"),D(Be.gender)),ui(g("born","Born"),Jn),ui(g("birth_place","Birth place"),Wn),ui(g("died","Died"),Un),ui(g("death_place","Death place"),In),ui(g("profession","Profession"),ms),ui(g("spouse","Spouse"),co),ui(g("father","Father"),ta),ui(g("mother","Mother"),$i);const Na=Qe?`<div class="mt-2 text-[10px] opacity-80 border-t pt-1 whitespace-pre-line">${Qe}</div>`:"",na=[];Sr&&na.push(`<div class="flex justify-between gap-4"><span class="opacity-70">${g("archive_source","Archive Source")}:</span><span>${Sr}</span></div>`),ci&&na.push(`<div class="flex justify-between gap-4"><span class="opacity-70">${g("document_code","Document Code")}:</span><span>${ci}</span></div>`),ln&&na.push(`<div class="flex justify-between gap-4"><span class="opacity-70">${g("reliability","Reliability")}:</span><span>${ln}</span></div>`);const Pi=na.length?`<div class="mt-2 pt-2 border-t text-[10px] space-y-1">${na.join("")}</div>`:"",ia=uo.join(""),Bi=!ia&&!Na&&!Pi?`<div class="opacity-60">${g("no_details","No details")}</div>`:"",Sa=`
            <div class="text-sm font-bold border-b pb-1 mb-1">${jt} <span class="opacity-70 text-xs">(${Cn})</span></div>
            <div class="space-y-1 text-xs">
              ${ia}
              ${Bi}
              ${Na}
              ${Pi}
            </div>
          `;_t.style("visibility","visible").html(Sa).style("top",`${ye.pageY+15}px`).style("left",`${ye.pageX+15}px`)}).on("mousemove",ye=>{_t.style("top",`${ye.pageY+15}px`).style("left",`${ye.pageX+15}px`)}).on("mouseout",()=>{_t.style("visibility","hidden")});_e.on("click",()=>{R(null),_t.style("visibility","hidden")}),dt.append("rect").attr("x",-ss/2).attr("y",-Xs/2).attr("width",ss).attr("height",Xs).attr("rx",6).attr("filter","url(#shadow)").attr("fill",ye=>ye.color||(b?"#3e2723":"#f5f1e8")).attr("stroke",b?"#2c1810":"#e8dfca").attr("stroke-width",1.4),dt.append("text").attr("y",-32).attr("text-anchor","middle").style("font-weight",700).style("font-size","14px").style("fill",b?"#f5f1e8":"#2c1810").style("font-family","Cinzel, serif").text(ye=>{const Be=String(se(ye));return Be.length>22?Be.substring(0,20)+"...":Be}),dt.append("text").attr("y",-14).attr("text-anchor","middle").style("font-size","12px").style("fill",ye=>{const Be=kd(ye.gender);return Be==="M"?"#3498db":Be==="F"?"#e74c3c":"#999"}).text(ye=>{const Be=kd(ye.gender);return Be==="M"?"M":Be==="F"?"F":""}),dt.append("text").attr("y",2).attr("text-anchor","middle").style("font-size","10px").style("fill",b?"#d4af37":"#5d4037").style("font-family","Manrope").text(ye=>{const Be=ye.birthDate||ye.birthYear||"";return Be?`b. ${Be}`:""}),dt.append("text").attr("y",14).attr("text-anchor","middle").style("font-size","10px").style("fill",b?"#aaa":"#777").style("font-family","Manrope").text(ye=>{const Be=ye.deathDate||ye.deathYear||"";return Be?`d. ${Be}`:""}),dt.append("title").text(ye=>{const Be=[];Be.push(`Name: ${se(ye)}`),ye.gender&&Be.push(`Gender: ${ye.gender}`),(ye.birthYear||ye.birthDate)&&Be.push(`Born: ${ye.birthDate||ye.birthYear}`),ye.birthPlace&&Be.push(`Birth Place: ${ye.birthPlace}`),(ye.deathDate||ye.deathYear)&&Be.push(`Died: ${ye.deathDate||ye.deathYear}`),ye.deathPlace&&Be.push(`Death Place: ${ye.deathPlace}`),ye.details&&Be.push(`Details: ${ye.details}`);const jt=ye.father?me(ye.father):null,Cn=ye.mother?me(ye.mother):null,Jn=ye.spouse?me(ye.spouse):null;jt&&Be.push(`Father: ${jt}`),Cn&&Be.push(`Mother: ${Cn}`),Jn&&Be.push(`Spouse: ${Jn}`);const Wn=x.filter(Un=>Un.father===ye.id||Un.mother===ye.id);return Wn.length>0&&Be.push(`Children: ${Wn.map(Un=>se(Un)).join(", ")}`),Be.join(`
`)}),dt.append("text").attr("y",28).attr("text-anchor","middle").style("font-size","9px").style("font-style","italic").style("fill",b?"#ffffff60":"#00000060").style("font-family","Manrope").text(ye=>{const Be=ye.birthPlace||ye.deathPlace||"";return Be.length>25?Be.substring(0,23)+"...":Be}),dt.append("text").attr("y",42).attr("text-anchor","middle").style("font-size","9px").style("fill",b?"#ffffff80":"#2c181080").style("font-family","Manrope").text(ye=>{const Be=ye.details||"";return Be?Be.length>30?Be.substring(0,28)+"...":Be:""});const $t=ye=>{const Be=ye.source.x<=ye.target.x?1:-1,jt=ye.source.x+Be*(ss/2),Cn=ye.target.x-Be*(ss/2);return`M${jt},${ye.source.y}L${Cn},${ye.target.y}`},nn=ye=>{const Be=ye.mate,jt=Be?(ye.source.x+Be.x)/2:ye.source.x,Cn=(Be?Math.max(ye.source.y,Be.y):ye.source.y)+Xs/2,Jn=ye.target.x,Wn=ye.target.y-Xs/2,Un=Cn+(Wn-Cn)*.55;return`M${jt},${Cn}V${Un}H${Jn}V${Wn}`};yt.on("tick",()=>{Ue.attr("d",$t),mt.attr("d",$t),pt.attr("d",nn),dt.attr("transform",ye=>`translate(${ye.x},${ye.y})`),E.current=ut}),O=()=>{yt.stop(),_t.remove()}}catch(pe){console.error("Tree render failed:",pe),te(pe?.message||g("tree_render_failed","Failed to render tree"))}};let ee=null;if(typeof ResizeObserver<"u")Te=new ResizeObserver(()=>K()),Te.observe(j.current);else if(typeof window<"u"){const pe=()=>K();window.addEventListener("resize",pe),ee=()=>window.removeEventListener("resize",pe)}return K(),()=>{O&&O(),Te&&Te.disconnect(),ee&&ee()}},[x,ce,f,b,g,se,me,D]);const ae=(ne,Te,O)=>{if(!Te||!O)return ne;const K=ne.find(V=>String(V.id)===String(Te)),ee=ne.find(V=>String(V.id)===String(O));if(!K||!ee)return ne;const pe=ne.map(V=>({...V}));for(const V of pe)String(V.id)===String(Te)&&(V.spouse=String(O)),String(V.id)===String(O)&&(V.spouse=String(Te));return pe},Q=(ne,Te,O)=>{if(!Te||!O)return ne;const K=ne.map(pe=>({...pe,children:Array.isArray(pe.children)?[...pe.children]:[]})),ee=K.find(pe=>String(pe.id)===String(Te));return ee?(ee.children.includes(String(O))||ee.children.push(String(O)),K):ne},W=(ne,Te,O)=>{if(!Te||!O)return ne;const K=ne.map(pe=>({...pe,children:Array.isArray(pe.children)?[...pe.children]:[]})),ee=K.find(pe=>String(pe.id)===String(Te));return ee?(ee.children=ee.children.filter(pe=>String(pe)!==String(O)),K):ne},Ne=(ne,Te,O)=>!Te||!O?ne:ne.map(K=>{if(String(K.id)!==String(O))return K;const ee={...K};return String(ee.father)===String(Te)&&(ee.father=null),String(ee.mother)===String(Te)&&(ee.mother=null),ee}),Me=(ne,Te,O,K)=>{if(!Te||!O)return ne;const ee=String(K||"").toLowerCase(),pe=ee.startsWith("m"),V=ee.startsWith("f");return ne.map(re=>{if(String(re.id)!==String(O))return re;const _e={...re};return pe&&!_e.father&&(_e.father=String(Te)),V&&!_e.mother&&(_e.mother=String(Te)),!pe&&!V&&(_e.father?_e.mother||(_e.mother=String(Te)):_e.father=String(Te)),_e})},Le=async ne=>{if(ne)try{const Te=_M(ne.name);if(!vM.has(Te)){te(g("invalid_gedcom_type","Unsupported file type. Use .ged or .gedcom."));return}if(ne.size>gM){te(g("file_too_large","File is too large (max 50MB)."));return}let O="";if(typeof ne.text=="function"?O=await ne.text():O=await new Promise((pe,V)=>{const re=new FileReader;re.onload=()=>pe(re.result||""),re.onerror=()=>V(re.error||new Error("Failed to read GEDCOM file.")),re.readAsText(ne)}),!String(O||"").trim()){te(g("gedcom_empty","GEDCOM file is empty."));return}if(!xM(O)){te(g("gedcom_no_people","No individuals found in GEDCOM."));return}const ee=jf(O);if(!Array.isArray(ee)||ee.length===0){te(g("gedcom_no_people","No individuals found in GEDCOM."));return}ve(ee),ge(g("gedcom_imported","GEDCOM imported."))}catch(Te){console.error("GEDCOM import failed:",Te),te(Te?.message||g("import_gedcom_failed","Failed to import GEDCOM"))}},Y=ne=>{ne.preventDefault();const Te=F.name.trim();if(!Te){te(g("name_required","Name is required"));return}const O=F.father?String(F.father):"",K=F.mother?String(F.mother):"",ee=F.spouse?String(F.spouse):"";if(O&&K&&O===K){te(g("parents_conflict","Father and mother cannot be the same person."));return}if(F.id){const q=String(F.id);if(O===q||K===q||ee===q){te(g("invalid_relation_self","A person cannot be their own parent, spouse, or child."));return}if(!x.find(ut=>String(ut.id)===q)){te(g("person_not_found","Person not found."));return}const Ze=Array.from(new Set((F.children||[]).map(String).filter(ut=>ut&&ut!==q)));ve(ut=>{let et=ut.map(ye=>({...ye,children:Array.isArray(ye.children)?[...ye.children]:[]}));const Ct=et.find(ye=>String(ye.id)===q);if(!Ct)return ut;const tn=Ct.spouse?String(Ct.spouse):"",St=Ct.father?String(Ct.father):"",Kt=Ct.mother?String(Ct.mother):"",$e=Array.isArray(Ct.children)?Ct.children.map(String):[],Fe=$c(Te),at={...Ct.names||{}};at[f]=Fe.full||Te;const Ue={...Ct,names:at,given:Fe.given,surname:Fe.surname,gender:F.gender.trim(),birthYear:String(F.birthYear||"").trim(),birthPlace:String(F.birthPlace||"").trim(),deathDate:String(F.deathDate||"").trim(),deathPlace:String(F.deathPlace||"").trim(),details:String(F.details||"").trim(),profession:String(F.profession||"").trim(),archiveSource:String(F.archiveSource||"").trim(),documentCode:String(F.documentCode||"").trim(),reliability:String(F.reliability||"").trim(),father:O||null,mother:K||null,spouse:ee||null,children:Ze,color:F.color||"#f5f1e8"};et=et.map(ye=>String(ye.id)===q?Ue:ye);const mt=Ue.spouse?String(Ue.spouse):"";tn&&tn!==mt&&(et=et.map(ye=>String(ye.id)!==tn?ye:String(ye.spouse)===q?{...ye,spouse:null}:ye)),mt&&(et=et.map(ye=>String(ye.id)===mt?{...ye,spouse:q}:String(ye.spouse)===mt&&String(ye.id)!==q?{...ye,spouse:null}:ye));const pt=Ue.father?String(Ue.father):"",_t=Ue.mother?String(Ue.mother):"";St&&St!==pt&&(et=W(et,St,q)),Kt&&Kt!==_t&&(et=W(et,Kt,q)),pt&&(et=Q(et,pt,q)),_t&&(et=Q(et,_t,q));const yt=new Set(Ze.map(String));for(const ye of $e)yt.has(String(ye))||(et=Ne(et,q,ye));for(const ye of yt)et=Me(et,q,ye,Ue.gender);const dt=String(Ue.gender||"").toLowerCase(),$t=dt.startsWith("m"),nn=dt.startsWith("f");return($t||nn)&&(et=et.map(ye=>{const Be=String(ye.id);if(Be===q)return ye;const jt={...ye};if($t){if(String(jt.mother)===q&&(jt.mother=null),String(jt.father)===q)return jt;yt.has(Be)&&!jt.father&&(jt.father=q)}if(nn){if(String(jt.father)===q&&(jt.father=null),String(jt.mother)===q)return jt;yt.has(Be)&&!jt.mother&&(jt.mother=q)}return jt})),et}),le(),R(null),ge(g("person_updated","Person updated."));return}const pe=yM(),V=$c(Te),re=Array.from(new Set((F.children||[]).map(String).filter(Boolean))),_e={id:pe,names:{[f]:V.full||Te},given:V.given,surname:V.surname,gender:F.gender.trim(),birthYear:String(F.birthYear||"").trim(),birthPlace:String(F.birthPlace||"").trim(),deathDate:String(F.deathDate||"").trim(),deathPlace:String(F.deathPlace||"").trim(),details:String(F.details||"").trim(),profession:String(F.profession||"").trim(),archiveSource:String(F.archiveSource||"").trim(),documentCode:String(F.documentCode||"").trim(),reliability:String(F.reliability||"").trim(),father:O||null,mother:K||null,spouse:ee||null,children:re,color:F.color||"#f5f1e8"};ve(q=>{let fe=[...q,_e];_e.spouse&&(fe=fe.map(Ze=>String(Ze.spouse)===String(_e.spouse)?{...Ze,spouse:null}:Ze),fe=ae(fe,_e.id,_e.spouse));for(const Ze of _e.children||[])fe=Q(fe,_e.id,Ze),fe=Me(fe,_e.id,Ze,_e.gender);return _e.father&&(fe=Q(fe,_e.father,_e.id)),_e.mother&&(fe=Q(fe,_e.mother,_e.id)),fe}),le(),ge(g("person_added","Person added."))},we=ne=>{if(!ne||!window.confirm(g("delete_person_confirm","Are you sure you want to delete this person?")))return;const Te=String(ne);ve(O=>O.filter(ee=>String(ee.id)!==Te).map(ee=>{const pe={...ee,children:Array.isArray(ee.children)?[...ee.children]:[]};return String(pe.father)===Te&&(pe.father=null),String(pe.mother)===Te&&(pe.mother=null),String(pe.spouse)===Te&&(pe.spouse=null),pe.children=pe.children.filter(V=>String(V)!==Te),pe})),A?.id===ne&&R(null),ge(g("person_deleted","Person deleted."))},De=()=>{let ne="";try{ne=Zb(x,f,g)}catch(ee){te(ee?.message||g("gedcom_build_failed","Failed to build GEDCOM"));return}const Te=new Blob([ne],{type:"text/plain;charset=utf-8"}),O=URL.createObjectURL(Te),K=document.createElement("a");K.href=O,K.download=`tree-${Date.now()}.ged`,document.body.appendChild(K),K.click(),K.remove(),window.setTimeout(()=>URL.revokeObjectURL(O),6e4)},He=b?"border-[#2c1810]":"border-[#e8dfca]",st=b?"bg-[#3e2723]":"bg-white",it=b?"bg-[#3e2723]/60":"bg-[#f8f5ef]",Ve=b?"bg-[#3e2723]":"bg-[#f5f1e8]",tt=b?"text-white":"text-[#6c5249]",Rt=k.useMemo(()=>{if(!A)return[];const ne=new Set;for(const O of A.children||[])ne.add(String(O));for(const O of x)String(O.father)===String(A.id)&&ne.add(String(O.id)),String(O.mother)===String(A.id)&&ne.add(String(O.id));const Te=[];for(const O of ne){const K=x.find(ee=>String(ee.id)===O);K&&Te.push(K)}return Te},[A,x]),Tt=()=>{const ne=z.current,Te=j.current,O=N.current,K=E.current||[];if(!ne||!Te||!O||K.length===0)return;const ee=Math.max(320,Te.clientWidth||0),pe=Math.max(520,Te.clientHeight||0),V=K.map(Fe=>Fe.x).filter(Fe=>Number.isFinite(Fe)),re=K.map(Fe=>Fe.y).filter(Fe=>Number.isFinite(Fe));if(!V.length||!re.length)return;const _e=Math.min(...V)-ss/2,q=Math.max(...V)+ss/2,fe=Math.min(...re)-Xs/2,Ze=Math.max(...re)+Xs/2,ut=Math.max(q-_e,ss),et=Math.max(Ze-fe,Xs),Ct=Math.min(ee/ut,pe/et),tn=Math.max(.2,Math.min(Ct*.9,2.8)),St=(_e+q)/2,Kt=(fe+Ze)/2,$e=Fp.translate(ee/2,pe/2).scale(tn).translate(-St,-Kt);ai(O).transition().duration(500).call(ne.transform,$e)};return l.jsxs("div",{dir:h,className:"relative",children:[U.message?l.jsx("div",{className:`fixed top-24 z-[60] rtl:left-6 rtl:right-auto ltr:right-6 rounded-lg border px-4 py-3 shadow-xl ${U.type==="error"?"border-red-500/40 bg-red-600/90 text-white":"border-emerald-500/40 bg-emerald-600/90 text-white"}`,role:"status","aria-live":"polite",children:l.jsx("div",{className:"text-sm font-semibold",children:U.message})}):null,l.jsx("input",{ref:T,type:"file",accept:".ged,.gedcom",hidden:!0,onChange:ne=>{const Te=ne.target.files?.[0]||null;Te&&Le(Te),ne.target.value=""}}),l.jsxs("div",{className:"flex flex-col h-full bg-inherit",children:[l.jsxs("div",{className:`flex flex-wrap items-center justify-between gap-3 px-4 py-3 border-b ${He} ${it} z-20`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{z.current&&N.current&&ai(N.current).transition().call(z.current.scaleBy,1.3)},className:`p-1.5 rounded-md hover:bg-black/5 dark:hover:bg-white/10 text-current border ${He}`,title:g("zoom_in","Zoom In"),children:l.jsx(tl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{z.current&&N.current&&ai(N.current).transition().call(z.current.scaleBy,.7)},className:`p-1.5 rounded-md hover:bg-black/5 dark:hover:bg-white/10 text-current border ${He} flex items-center justify-center`,title:g("zoom_out","Zoom Out"),children:l.jsx("div",{className:"w-4 h-0.5 bg-current"})}),l.jsxs("button",{type:"button",className:`px-3 py-1.5 rounded-md border ${He} ${st} hover:opacity-90 inline-flex items-center gap-2 text-xs font-semibold shadow ml-2`,onClick:Tt,children:[l.jsx(FN,{className:"w-3.5 h-3.5"}),g("center","Center")]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>T.current?.click(),className:`p-1.5 rounded-md hover:bg-black/5 dark:hover:bg-white/10 text-current border ${He} flex items-center gap-2 text-xs font-semibold`,children:[l.jsx(Tc,{className:"w-4 h-4"}),g("import_gedcom","Import GEDCOM")]}),l.jsxs("button",{onClick:De,className:`p-1.5 rounded-md hover:bg-black/5 dark:hover:bg-white/10 text-current border ${He} flex items-center gap-2 text-xs font-semibold`,children:[l.jsx(EN,{className:"w-4 h-4"}),g("export_gedcom","Export GEDCOM")]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[l.jsxs("div",{ref:j,className:"relative bg-opacity-50 min-h-[70vh] w-full border-b border-inherit",children:[l.jsx("svg",{ref:N,className:"w-full h-full block cursor-grab active:cursor-grabbing outline-none"}),x.length?null:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center px-6 pointer-events-none",children:l.jsxs("div",{className:`max-w-md rounded-xl border ${He} ${st} p-6 shadow-lg pointer-events-auto`,children:[l.jsx("div",{className:"text-lg font-semibold",children:r?g("tree_empty","No people to display yet."):g("tree_empty_prompt","Start building your family tree.")}),l.jsx("p",{className:"text-sm opacity-70 mt-2",children:r?g("tree_empty_readonly_hint","There is no GEDCOM data for this tree yet."):g("tree_empty_hint","Add a person manually or import a GEDCOM file.")}),r?null:l.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-3",children:[l.jsx("button",{type:"button",className:"px-4 py-2 rounded-md bg-[#5d4037] text-white text-sm font-semibold",onClick:()=>{le(),I("add")},children:g("add_person","Add Person")}),l.jsx("button",{type:"button",className:`px-4 py-2 rounded-md border ${He} text-sm font-semibold`,onClick:()=>T.current?.click(),children:g("import_gedcom","Import GEDCOM")})]})]})}),r&&A?l.jsxs("div",{className:`absolute bottom-3 left-3 z-10 w-[min(320px,85%)] rounded-md border ${He} ${st} p-3 shadow-lg heritage-panel heritage-panel--grid`,children:[l.jsx("div",{className:"text-sm font-semibold",children:se(A)}),l.jsx("div",{className:"mt-1 text-xs opacity-70",children:A.birthYear?`${g("birth_year","Birth Year")}: ${A.birthYear}`:`${g("birth_year","Birth Year")}: -`}),l.jsx("div",{className:"text-xs opacity-70",children:A.birthPlace?`${g("birth_place","Birth Place")}: ${A.birthPlace}`:`${g("birth_place","Birth Place")}: -`}),l.jsx("div",{className:"text-xs opacity-70",children:A.deathDate?`${g("death_date","Death Date")}: ${A.deathDate}`:`${g("death_date","Death Date")}: -`}),l.jsx("div",{className:"text-xs opacity-70",children:A.deathPlace?`${g("death_place","Death Place")}: ${A.deathPlace}`:`${g("death_place","Death Place")}: -`}),l.jsx("div",{className:"text-xs opacity-70",children:`${g("gender","Gender")}: ${D(A.gender)}`}),l.jsxs("div",{className:"text-xs opacity-70",children:[g("spouse","Spouse"),": ",me(A.spouse)]}),l.jsxs("div",{className:"text-xs opacity-70",children:[g("children","Children"),":"," ",Rt.length?Rt.map(ne=>se(ne)).join(", "):"-"]})]}):null]}),l.jsx("div",{className:`w-full border-t ${He} p-4 text-[#6c5249] dark:text-[#ffffff]`,children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-[600px]",children:[l.jsxs("div",{className:"w-full md:w-1/3 flex flex-col gap-4 border-r border-[#d4af37]/20 pr-4",children:[l.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-[#d4af37]/20",children:[l.jsx("span",{className:"font-cinzel font-bold text-lg text-[#5d4037] dark:text-[#d4af37]",children:g("people_list","People List")}),l.jsxs("div",{className:"text-xs opacity-60 font-serif italic",children:[x.length," ",g("records","records")]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(br,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 opacity-50 text-[#5d4037] dark:text-[#d4af37]"}),l.jsx("input",{value:Z,onChange:ne=>J(ne.target.value),placeholder:g("search_people","Search people..."),className:`w-full pl-9 pr-3 py-2 rounded-md border ${He} ${Ve} ${tt} focus:ring-2 focus:ring-[#d4af37]/50 focus:border-[#d4af37] transition-all`})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:oe.length?oe.map(ne=>{const Te=A&&String(A.id)===String(ne.id);return l.jsx("button",{onClick:()=>R(ne.person),className:`w-full text-left p-3 rounded-lg border transition-all duration-200 group ${Te?"bg-[#5d4037] border-[#5d4037] text-white shadow-md transform scale-[1.02]":`bg-white dark:bg-[#3e2723]/30 border-transparent hover:border-[#d4af37]/50 hover:bg-[#5d4037]/5 dark:hover:bg-[#d4af37]/10 ${tt}`}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold border ${Te?"bg-white/20 border-white/40 text-white":"bg-[#5d4037]/10 border-[#5d4037]/20 text-[#5d4037] dark:text-[#d4af37] dark:border-[#d4af37]/20"}`,children:ne.name.charAt(0).toUpperCase()}),l.jsx("span",{className:"font-serif font-medium text-base",children:ne.name})]}),l.jsx("span",{className:`text-xs ${Te?"opacity-80":"opacity-50"}`,children:ne.person.birthYear||"-"})]})},ne.id)}):l.jsx("div",{className:"text-center py-8 opacity-50 italic font-serif",children:g("no_results","No results found")})})]}),l.jsx("div",{className:"w-full md:w-2/3 flex flex-col",children:r?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-50 space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-[#5d4037]/10 flex items-center justify-center",children:l.jsx(Zm,{className:"w-8 h-8 text-[#5d4037]"})}),l.jsx("div",{className:"text-lg font-serif italic",children:g("read_only_mode","View Only Mode - Sign in to Edit")})]}):l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[#5d4037]/5 dark:bg-white/5 p-1 rounded-lg mb-4 self-start",children:[l.jsx("button",{onClick:()=>{le(),I("add")},className:`px-4 py-2 text-sm font-bold uppercase tracking-wider rounded-md transition-all ${P==="add"?"bg-[#5d4037] text-white shadow-sm":"text-[#5d4037] dark:text-[#d4af37] hover:bg-black/5 dark:hover:bg-white/5"}`,children:g("add_person","Add Person")}),l.jsx("button",{onClick:()=>Ae(A),disabled:!A,className:`px-4 py-2 text-sm font-bold uppercase tracking-wider rounded-md transition-all ${P==="editor"?"bg-[#5d4037] text-white shadow-sm":"text-[#5d4037] dark:text-[#d4af37] hover:bg-black/5 dark:hover:bg-white/5"} ${A?"":"cursor-not-allowed opacity-30"}`,children:g("edit_person","Edit Person")})]}),l.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:l.jsxs("form",{onSubmit:Y,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-[#5d4037] dark:text-[#d4af37] border-b border-[#d4af37]/30 pb-1",children:[l.jsx(Zm,{className:"w-4 h-4"}),g("personal_info","Personal Info")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] mb-1 block",children:g("full_name","Full Name")}),l.jsx("input",{value:F.name,onChange:ne=>de(Te=>({...Te,name:ne.target.value})),placeholder:"e.g. Ahmed Ben Mohamed",className:`w-full px-4 py-2.5 rounded-lg border ${He} ${Ve} ${tt} focus:ring-2 focus:ring-[#d4af37]/40`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] mb-1 block",children:g("gender","Gender")}),l.jsxs("select",{value:F.gender,onChange:ne=>de(Te=>({...Te,gender:ne.target.value})),className:`w-full px-4 py-2.5 rounded-lg border ${He} ${Ve} ${tt} appearance-none cursor-pointer`,children:[l.jsx("option",{value:"",children:"Select..."}),l.jsx("option",{value:"M",children:"Male"}),l.jsx("option",{value:"F",children:"Female"})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] mb-2 block",children:g("select_color","Select a Color:")}),l.jsxs("div",{className:"flex gap-3 items-center bg-gradient-to-r from-[#5d4037]/5 to-transparent p-3 rounded-lg border border-[#d4af37]/20",children:[l.jsx("input",{type:"color",value:F.color||"#f5f1e8",onChange:ne=>de(Te=>({...Te,color:ne.target.value})),className:"w-12 h-12 p-0.5 rounded-lg border-2 border-[#d4af37]/40 cursor-pointer shadow-md hover:scale-105 transition-transform"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs font-semibold text-[#5d4037] dark:text-[#d4af37]",children:F.color||"#f5f1e8"}),l.jsx("div",{className:"text-[10px] opacity-60 mt-0.5",children:"This color will appear on the family tree card"})]})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] mb-1 block",children:g("details","Details / Biography")}),l.jsx("textarea",{value:F.details,onChange:ne=>de(Te=>({...Te,details:ne.target.value})),placeholder:"Additional notes...",rows:3,className:`w-full px-4 py-2.5 rounded-lg border ${He} ${Ve} ${tt} focus:ring-2 focus:ring-[#d4af37]/40`})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] mb-1 block",children:g("profession","Profession")}),l.jsx("input",{value:F.profession,onChange:ne=>de(Te=>({...Te,profession:ne.target.value})),placeholder:"e.g. Doctor, Teacher, Engineer...",className:`w-full px-4 py-2.5 rounded-lg border ${He} ${Ve} ${tt} focus:ring-2 focus:ring-[#d4af37]/40`})]}),l.jsxs("div",{className:"col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("archive_source","Archive Source")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ya,{className:"w-4 h-4 text-[#d4af37]"}),l.jsx("input",{value:F.archiveSource,onChange:ne=>de(Te=>({...Te,archiveSource:ne.target.value})),placeholder:g("archive_source_placeholder","e.g. National Archives"),className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt}`})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("document_code","Document Code")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ha,{className:"w-4 h-4 text-[#d4af37]"}),l.jsx("input",{value:F.documentCode,onChange:ne=>de(Te=>({...Te,documentCode:ne.target.value})),placeholder:g("document_code_placeholder","e.g. ALG-1920-042"),className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt} font-mono`})]})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-[#5d4037] dark:text-[#d4af37] border-b border-[#d4af37]/30 pb-1",children:[l.jsx("span",{className:"w-4 h-4 text-center font-serif italic",children:"i"}),g("dates_places","Dates & Places")]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("year_of_birth","Year of Birth")}),l.jsx("input",{value:F.birthYear,onChange:ne=>de(Te=>({...Te,birthYear:ne.target.value})),placeholder:"YYYY",className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt}`})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("city_country","City or Country (Optional)")}),l.jsx("input",{value:F.birthPlace,onChange:ne=>de(Te=>({...Te,birthPlace:ne.target.value})),placeholder:"e.g. Algiers, Algeria",className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt}`})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("year_of_death","Year of Death (Optional)")}),l.jsx("input",{value:F.deathDate,onChange:ne=>de(Te=>({...Te,deathDate:ne.target.value})),placeholder:"YYYY",className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt}`})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-[#5d4037] dark:text-[#d4af37] border-b border-[#d4af37]/30 pb-1",children:[l.jsx(il,{className:"w-4 h-4"}),g("relations","Family Relations")]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("father","Father")}),l.jsxs("select",{value:F.father||"",onChange:ne=>de(Te=>({...Te,father:ne.target.value})),className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt} text-sm`,children:[l.jsx("option",{value:"",children:g("none","None")}),x.filter(ne=>String(ne.id)!==String(F.id)).map(ne=>l.jsx("option",{value:ne.id,children:se(ne)},ne.id))]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("mother","Mother")}),l.jsxs("select",{value:F.mother||"",onChange:ne=>de(Te=>({...Te,mother:ne.target.value})),className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt} text-sm`,children:[l.jsx("option",{value:"",children:g("none","None")}),x.filter(ne=>String(ne.id)!==String(F.id)).map(ne=>l.jsx("option",{value:ne.id,children:se(ne)},ne.id))]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:g("spouse","Spouse")}),l.jsxs("select",{value:F.spouse||"",onChange:ne=>de(Te=>({...Te,spouse:ne.target.value})),className:`w-full px-3 py-2 rounded-lg border ${He} ${Ve} ${tt} text-sm`,children:[l.jsx("option",{value:"",children:g("none","None")}),x.filter(ne=>String(ne.id)!==String(F.id)).map(ne=>l.jsx("option",{value:ne.id,children:se(ne)},ne.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-[#5d4037] dark:text-[#d4af37] block",children:[g("children","Children"),l.jsx("span",{className:"text-[10px] opacity-70 font-normal ml-2 lowercase normal-case",children:"(Click to select only one. Ctrl+Click/Cmd+Click to toggle multiple)"})]}),l.jsxs("div",{className:`border ${He} rounded-lg h-48 overflow-y-auto p-2 bg-white/50 dark:bg-black/20 custom-scrollbar`,children:[x.filter(ne=>String(ne.id)!==String(F.id)).length===0&&l.jsx("div",{className:"text-xs opacity-50 italic text-center py-4",children:"No other people available"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:x.filter(ne=>String(ne.id)!==String(F.id)).sort((ne,Te)=>se(ne).localeCompare(se(Te))).map(ne=>{const Te=(F.children||[]).some(O=>String(O)===String(ne.id));return l.jsxs("button",{type:"button",onClick:O=>{O.preventDefault();const K=String(ne.id);de(ee=>{const pe=new Set((ee.children||[]).map(String));return O.ctrlKey||O.metaKey?pe.has(K)?pe.delete(K):pe.add(K):(pe.has(K)&&pe.size,pe.clear(),pe.add(K)),{...ee,children:Array.from(pe)}})},className:`text-left text-sm px-3 py-2 rounded-md transition-all flex items-center gap-2 ${Te?"bg-[#5d4037] text-white shadow-sm":"hover:bg-[#5d4037]/10 text-[#5d4037] dark:text-[#d4af37]"}`,children:[l.jsx("div",{className:"w-3 h-3 rounded-full border border-current flex items-center justify-center",children:Te&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current"})}),l.jsx("span",{className:"truncate",children:se(ne)}),l.jsx("span",{className:"text-xs opacity-60 ml-auto",children:ne.birthYear})]},ne.id)})})]})]})]})]}),l.jsxs("div",{className:"flex justify-end pt-4 border-t border-[#d4af37]/20",children:[P==="editor"&&l.jsx("button",{type:"button",onClick:()=>we(F.id),className:"mr-auto px-4 py-2 text-red-600 hover:bg-red-50 rounded text-sm font-bold uppercase tracking-wider transition",children:g("delete","Delete")}),l.jsx("button",{type:"submit",className:"px-8 py-3 bg-[#5d4037] text-white font-cinzel font-bold text-sm uppercase tracking-widest rounded shadow-lg hover:bg-[#4a322c] hover:translate-y-[-1px] transition-all",children:P==="add"?g("add_person","Add Person"):g("update_person","Update Person")})]})]})})]})})]})})]})]})]})}class Ip extends k.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){typeof this.props.onError=="function"&&this.props.onError(n,r)}handleReset=()=>{this.setState({hasError:!1,error:null}),typeof this.props.onReset=="function"&&this.props.onReset()};render(){if(this.state.hasError){const{fallback:n}=this.props;return typeof n=="function"?n({error:this.state.error,reset:this.handleReset}):n||l.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800",children:[l.jsx("div",{className:"font-semibold",children:"Something went wrong."}),l.jsx("button",{type:"button",onClick:this.handleReset,className:"mt-2 inline-flex items-center rounded-md border border-red-200 bg-white px-3 py-1 text-xs font-semibold uppercase tracking-wide text-red-700",children:"Retry"})]})}return this.props.children}}function Hb(e,n){const r=k.useRef(n);k.useEffect(function(){n!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),n!=null&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}const bM=1;function wM(e){return Object.freeze({__version:bM,map:e})}function qb(e,n){return Object.freeze({...e,...n})}const Gp=k.createContext(null);function Af(){const e=k.use(Gp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Fb(e){function n(r,o){const{instance:d,context:f}=e(r).current;k.useImperativeHandle(o,()=>d);const{children:h}=r;return h==null?null:kn.createElement(Gp,{value:f},h)}return k.forwardRef(n)}function NM(e){function n(r,o){const[d,f]=k.useState(!1),{instance:h}=e(r,f).current;k.useImperativeHandle(o,()=>h),k.useEffect(function(){d&&h.update()},[h,d,r.children]);const g=h._contentNode;return g?I2.createPortal(r.children,g):null}return k.forwardRef(n)}function Vb(e){function n(r,o){const{instance:d}=e(r).current;return k.useImperativeHandle(o,()=>d),null}return k.forwardRef(n)}function SM(e){return function(r){const o=Af(),d=e(r,o),{instance:f}=d.current,h=k.useRef(r.position),{position:g}=r;return k.useEffect(function(){return f.addTo(o.map),function(){f.remove()}},[o.map,f]),k.useEffect(function(){g!=null&&g!==h.current&&(f.setPosition(g),h.current=g)},[f,g]),d}}function Yp(e,n){const r=k.useRef(void 0);k.useEffect(function(){return n!=null&&e.instance.on(n),r.current=n,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,n])}function Ef(e,n){const r=e.pane??n.pane;return r?{...e,pane:r}:e}function jM(e,n){return function(o,d){const f=Af(),h=e(Ef(o,f),f);return Hb(f.map,o.attribution),Yp(h.current,o.eventHandlers),n(h.current,f,o,d),h}}var Nc={exports:{}};var AM=Nc.exports,Dx;function EM(){return Dx||(Dx=1,(function(e,n){(function(r,o){o(n)})(AM,(function(r){var o="1.9.4";function d(a){var c,m,_,w;for(m=1,_=arguments.length;m<_;m++){w=arguments[m];for(c in w)a[c]=w[c]}return a}var f=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function h(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var _=m.call(arguments,2);return function(){return a.apply(c,_.length?_.concat(m.call(arguments)):arguments)}}var g=0;function x(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function y(a,c,m){var _,w,C,G;return G=function(){_=!1,w&&(C.apply(m,w),w=!1)},C=function(){_?w=arguments:(a.apply(m,arguments),setTimeout(G,c),_=!0)},C}function b(a,c,m){var _=c[1],w=c[0],C=_-w;return a===_&&m?a:((a-w)%C+C)%C+w}function N(){return!1}function j(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function E(a){return z(a).split(/\s+/)}function T(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?f(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function A(a,c,m){var _=[];for(var w in a)_.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!c||c.indexOf("?")===-1?"?":"&")+_.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function U(a,c){return a.replace(R,function(m,_){var w=c[_];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(c)),w})}var H=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function P(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var J=0;function F(a){var c=+new Date,m=Math.max(0,16-(c-J));return J=c+m,window.setTimeout(a,m)}var de=window.requestAnimationFrame||Z("RequestAnimationFrame")||F,ve=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function ge(a,c,m){if(m&&de===F)a.call(c);else return de.call(window,h(a,c))}function te(a){a&&ve.call(window,a)}var se={__proto__:null,extend:d,create:f,bind:h,get lastId(){return g},stamp:x,throttle:y,wrapNum:b,falseFn:N,formatNum:j,trim:z,splitWords:E,setOptions:T,getParamString:A,template:U,isArray:H,indexOf:P,emptyImageUrl:I,requestFn:de,cancelFn:ve,requestAnimFrame:ge,cancelAnimFrame:te};function B(){}B.extend=function(a){var c=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,_=f(m);_.constructor=c,c.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return a.statics&&d(c,a.statics),a.includes&&(me(a.includes),d.apply(null,[_].concat(a.includes))),d(_,a),delete _.statics,delete _.includes,_.options&&(_.options=m.options?f(m.options):{},d(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,G=_._initHooks.length;C<G;C++)_._initHooks[C].call(this)}},c},B.include=function(a){var c=this.prototype.options;return d(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},B.mergeOptions=function(a){return d(this.prototype.options,a),this},B.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function me(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=H(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var D={on:function(a,c,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],c);else{a=E(a);for(var w=0,C=a.length;w<C;w++)this._on(a[w],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],c);else{a=E(a);for(var w=arguments.length===1,C=0,G=a.length;C<G;C++)w?this._off(a[C]):this._off(a[C],c,m)}return this},_on:function(a,c,m,_){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var w={fn:c,ctx:m};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,c,m){var _,w,C;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,C=_.length;w<C;w++)_[w].fn=N;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var G=this._listens(a,c,m);if(G!==!1){var he=_[G];this._firingCount&&(he.fn=N,this._events[a]=_=_.slice()),_.splice(G,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var _=d({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var C=0,G=w.length;C<G;C++){var he=w[C],Se=he.fn;he.once&&this.off(a,Se,he.ctx),Se.call(he.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(a,c,m,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(_=!!c,w=void 0,m=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,w,m)!==!1)return!0;if(_){for(var G in this._eventParents)if(this._eventParents[G].listens(a,c,m,_))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var _=this._events[a]||[];if(!c)return!!_.length;m===this&&(m=void 0);for(var w=0,C=_.length;w<C;w++)if(_[w].fn===c&&_[w].ctx===m)return w;return!1},once:function(a,c,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],c,!0);else{a=E(a);for(var w=0,C=a.length;w<C;w++)this._on(a[w],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[x(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[x(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,d({layer:a.target,propagatedFrom:a.target},a),!0)}};D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens;var oe=B.extend(D);function le(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var Ae=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(a){return this.clone()._add(ce(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ce(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new le(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new le(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(a){a=ce(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=ce(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ce(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function ce(a,c,m){return a instanceof le?a:H(a)?new le(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new le(a.x,a.y):new le(a,c,m)}function $(a,c){if(a)for(var m=c?[a,c]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}$.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof le||typeof a[0]=="number"||"x"in a)c=m=ce(a);else if(a=ae(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof le?a=ce(a):a=ae(a),a instanceof $?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=ae(a);var c=this.min,m=this.max,_=a.min,w=a.max,C=w.x>=c.x&&_.x<=m.x,G=w.y>=c.y&&_.y<=m.y;return C&&G},overlaps:function(a){a=ae(a);var c=this.min,m=this.max,_=a.min,w=a.max,C=w.x>c.x&&_.x<m.x,G=w.y>c.y&&_.y<m.y;return C&&G},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,_=Math.abs(c.x-m.x)*a,w=Math.abs(c.y-m.y)*a;return ae(ce(c.x-_,c.y-w),ce(m.x+_,m.y+w))},equals:function(a){return a?(a=ae(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ae(a,c){return!a||a instanceof $?a:new $(a,c)}function Q(a,c){if(a)for(var m=c?[a,c]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}Q.prototype={extend:function(a){var c=this._southWest,m=this._northEast,_,w;if(a instanceof Ne)_=a,w=a;else if(a instanceof Q){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(Me(a)||W(a)):this;return!c&&!m?(this._southWest=new Ne(_.lat,_.lng),this._northEast=new Ne(w.lat,w.lng)):(c.lat=Math.min(_.lat,c.lat),c.lng=Math.min(_.lng,c.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,_=Math.abs(c.lat-m.lat)*a,w=Math.abs(c.lng-m.lng)*a;return new Q(new Ne(c.lat-_,c.lng-w),new Ne(m.lat+_,m.lng+w))},getCenter:function(){return new Ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ne||"lat"in a?a=Me(a):a=W(a);var c=this._southWest,m=this._northEast,_,w;return a instanceof Q?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=c.lat&&w.lat<=m.lat&&_.lng>=c.lng&&w.lng<=m.lng},intersects:function(a){a=W(a);var c=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),C=w.lat>=c.lat&&_.lat<=m.lat,G=w.lng>=c.lng&&_.lng<=m.lng;return C&&G},overlaps:function(a){a=W(a);var c=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),C=w.lat>c.lat&&_.lat<m.lat,G=w.lng>c.lng&&_.lng<m.lng;return C&&G},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=W(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(a,c){return a instanceof Q?a:new Q(a,c)}function Ne(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}Ne.prototype={equals:function(a,c){if(!a)return!1;a=Me(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+j(this.lat,a)+", "+j(this.lng,a)+")"},distanceTo:function(a){return Y.distance(this,Me(a))},wrap:function(){return Y.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return W([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new Ne(this.lat,this.lng,this.alt)}};function Me(a,c,m){return a instanceof Ne?a:H(a)&&typeof a[0]!="object"?a.length===3?new Ne(a[0],a[1],a[2]):a.length===2?new Ne(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ne(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Ne(a,c,m)}var Le={latLngToPoint:function(a,c){var m=this.projection.project(a),_=this.scale(c);return this.transformation._transform(m,_)},pointToLatLng:function(a,c){var m=this.scale(c),_=this.transformation.untransform(a,m);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),_=this.transformation.transform(c.min,m),w=this.transformation.transform(c.max,m);return new $(_,w)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?b(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?b(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new Ne(m,c,_)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),_=c.lat-m.lat,w=c.lng-m.lng;if(_===0&&w===0)return a;var C=a.getSouthWest(),G=a.getNorthEast(),he=new Ne(C.lat-_,C.lng-w),Se=new Ne(G.lat-_,G.lng-w);return new Q(he,Se)}},Y=d({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,_=a.lat*m,w=c.lat*m,C=Math.sin((c.lat-a.lat)*m/2),G=Math.sin((c.lng-a.lng)*m/2),he=C*C+Math.cos(_)*Math.cos(w)*G*G,Se=2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he));return this.R*Se}}),we=6378137,De={R:we,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,a.lat),-m),w=Math.sin(_*c);return new le(this.R*a.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var c=180/Math.PI;return new Ne((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=we*Math.PI;return new $([-a,-a],[a,a])})()};function He(a,c,m,_){if(H(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=_}He.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new le((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function st(a,c,m,_){return new He(a,c,m,_)}var it=d({},Y,{code:"EPSG:3857",projection:De,transformation:(function(){var a=.5/(Math.PI*De.R);return st(a,.5,-a,.5)})()}),Ve=d({},it,{code:"EPSG:900913"});function tt(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Rt(a,c){var m="",_,w,C,G,he,Se;for(_=0,C=a.length;_<C;_++){for(he=a[_],w=0,G=he.length;w<G;w++)Se=he[w],m+=(w?"L":"M")+Se.x+" "+Se.y;m+=c?Qe.svg?"z":"x":""}return m||"M0 0"}var Tt=document.documentElement.style,ne="ActiveXObject"in window,Te=ne&&!document.addEventListener,O="msLaunchUri"in navigator&&!("documentMode"in document),K=In("webkit"),ee=In("android"),pe=In("android 2")||In("android 3"),V=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=ee&&In("Google")&&V<537&&!("AudioNode"in window),_e=!!window.opera,q=!O&&In("chrome"),fe=In("gecko")&&!K&&!_e&&!ne,Ze=!q&&In("safari"),ut=In("phantom"),et="OTransition"in Tt,Ct=navigator.platform.indexOf("Win")===0,tn=ne&&"transition"in Tt,St="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pe,Kt="MozPerspective"in Tt,$e=!window.L_DISABLE_3D&&(tn||St||Kt)&&!et&&!ut,Fe=typeof orientation<"u"||In("mobile"),at=Fe&&K,Ue=Fe&&St,mt=!window.PointerEvent&&window.MSPointerEvent,pt=!!(window.PointerEvent||mt),_t="ontouchstart"in window||!!window.TouchEvent,yt=!window.L_NO_TOUCH&&(_t||pt),dt=Fe&&_e,$t=Fe&&fe,nn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ye=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",N,c),window.removeEventListener("testPassiveEventSupport",N,c)}catch{}return a})(),Be=(function(){return!!document.createElement("canvas").getContext})(),jt=!!(document.createElementNS&&tt("svg").createSVGRect),Cn=!!jt&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Jn=!jt&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Wn=navigator.platform.indexOf("Mac")===0,Un=navigator.platform.indexOf("Linux")===0;function In(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Qe={ie:ne,ielt9:Te,edge:O,webkit:K,android:ee,android23:pe,androidStock:re,opera:_e,chrome:q,gecko:fe,safari:Ze,phantom:ut,opera12:et,win:Ct,ie3d:tn,webkit3d:St,gecko3d:Kt,any3d:$e,mobile:Fe,mobileWebkit:at,mobileWebkit3d:Ue,msPointer:mt,pointer:pt,touch:yt,touchNative:_t,mobileOpera:dt,mobileGecko:$t,retina:nn,passiveEvents:ye,canvas:Be,svg:jt,vml:Jn,inlineSvg:Cn,mac:Wn,linux:Un},ms=Qe.msPointer?"MSPointerDown":"pointerdown",Sr=Qe.msPointer?"MSPointerMove":"pointermove",ci=Qe.msPointer?"MSPointerUp":"pointerup",ln=Qe.msPointer?"MSPointerCancel":"pointercancel",hn={touchstart:ms,touchmove:Sr,touchend:ci,touchcancel:ln},ta={touchstart:Sa,touchmove:Bi,touchend:Bi,touchcancel:Bi},$i={},co=!1;function uo(a,c,m){return c==="touchstart"&&ia(),ta[c]?(m=ta[c].bind(this,m),a.addEventListener(hn[c],m,!1),m):(console.warn("wrong event specified:",c),N)}function ui(a,c,m){if(!hn[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(hn[c],m,!1)}function Na(a){$i[a.pointerId]=a}function na(a){$i[a.pointerId]&&($i[a.pointerId]=a)}function Pi(a){delete $i[a.pointerId]}function ia(){co||(document.addEventListener(ms,Na,!0),document.addEventListener(Sr,na,!0),document.addEventListener(ci,Pi,!0),document.addEventListener(ln,Pi,!0),co=!0)}function Bi(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in $i)c.touches.push($i[m]);c.changedTouches=[c],a(c)}}function Sa(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&mn(c),Bi(a,c)}function Jt(a){var c={},m,_;for(_ in a)m=a[_],c[_]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var aa=200;function Kc(a,c){a.addEventListener("dblclick",c);var m=0,_;function w(C){if(C.detail!==1){_=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var G=bs(C);if(!(G.some(function(Se){return Se instanceof HTMLLabelElement&&Se.attributes.for})&&!G.some(function(Se){return Se instanceof HTMLInputElement||Se instanceof HTMLSelectElement}))){var he=Date.now();he-m<=aa?(_++,_===2&&c(Jt(C))):_=1,m=he}}}return a.addEventListener("click",w),{dblclick:c,simDblclick:w}}function Ya(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var ja=vs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ps=vs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gl=ps==="webkitTransition"||ps==="OTransition"?ps+"End":"transitionend";function vl(a){return typeof a=="string"?document.getElementById(a):a}function gs(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);m=_?_[c]:null}return m==="auto"?null:m}function xt(a,c,m){var _=document.createElement(a);return _.className=c||"",m&&m.appendChild(_),_}function Ht(a){var c=a.parentNode;c&&c.removeChild(a)}function di(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function zn(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Xa(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function yl(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=fo(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function lt(a,c){if(a.classList!==void 0)for(var m=E(c),_=0,w=m.length;_<w;_++)a.classList.add(m[_]);else if(!yl(a,c)){var C=fo(a);jr(a,(C?C+" ":"")+c)}}function an(a,c){a.classList!==void 0?a.classList.remove(c):jr(a,z((" "+fo(a)+" ").replace(" "+c+" "," ")))}function jr(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function fo(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Wt(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&_l(a,c)}function _l(a,c){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(_)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+_+"(opacity="+c+")"}function vs(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function ra(a,c,m){var _=c||new le(0,0);a.style[ja]=(Qe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function It(a,c){a._leaflet_pos=c,Qe.any3d?ra(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Aa(a){return a._leaflet_pos||new le(0,0)}var Ar,Ui,xl;if("onselectstart"in document)Ar=function(){rt(window,"selectstart",mn)},Ui=function(){Pt(window,"selectstart",mn)};else{var Er=vs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ar=function(){if(Er){var a=document.documentElement.style;xl=a[Er],a[Er]="none"}},Ui=function(){Er&&(document.documentElement.style[Er]=xl,xl=void 0)}}function ho(){rt(window,"dragstart",mn)}function ys(){Pt(window,"dragstart",mn)}var mo,bl;function kr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(fi(),mo=a,bl=a.style.outlineStyle,a.style.outlineStyle="none",rt(window,"keydown",fi))}function fi(){mo&&(mo.style.outlineStyle=bl,mo=void 0,bl=void 0,Pt(window,"keydown",fi))}function po(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function _s(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Tr={__proto__:null,TRANSFORM:ja,TRANSITION:ps,TRANSITION_END:gl,get:vl,getStyle:gs,create:xt,remove:Ht,empty:di,toFront:zn,toBack:Xa,hasClass:yl,addClass:lt,removeClass:an,setClass:jr,getClass:fo,setOpacity:Wt,testProp:vs,setTransform:ra,setPosition:It,getPosition:Aa,get disableTextSelection(){return Ar},get enableTextSelection(){return Ui},disableImageDrag:ho,enableImageDrag:ys,preventOutline:kr,restoreOutline:fi,getSizedParentNode:po,getScale:_s};function rt(a,c,m,_){if(c&&typeof c=="object")for(var w in c)Ei(a,w,c[w],m);else{c=E(c);for(var C=0,G=c.length;C<G;C++)Ei(a,c[C],m,_)}return this}var Ai="_leaflet_events";function Pt(a,c,m,_){if(arguments.length===1)wl(a),delete a[Ai];else if(c&&typeof c=="object")for(var w in c)xs(a,w,c[w],m);else if(c=E(c),arguments.length===2)wl(a,function(he){return P(c,he)!==-1});else for(var C=0,G=c.length;C<G;C++)xs(a,c[C],m,_);return this}function wl(a,c){for(var m in a[Ai]){var _=m.split(/\d/)[0];(!c||c(_))&&xs(a,_,null,null,m)}}var Qa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ei(a,c,m,_){var w=c+x(m)+(_?"_"+x(_):"");if(a[Ai]&&a[Ai][w])return this;var C=function(he){return m.call(_||a,he||window.event)},G=C;!Qe.touchNative&&Qe.pointer&&c.indexOf("touch")===0?C=uo(a,c,C):Qe.touch&&c==="dblclick"?C=Kc(a,C):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Qa[c]||c,C,Qe.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(C=function(he){he=he||window.event,sa(a,he)&&G(he)},a.addEventListener(Qa[c],C,!1)):a.addEventListener(c,G,!1):a.attachEvent("on"+c,C),a[Ai]=a[Ai]||{},a[Ai][w]=C}function xs(a,c,m,_,w){w=w||c+x(m)+(_?"_"+x(_):"");var C=a[Ai]&&a[Ai][w];if(!C)return this;!Qe.touchNative&&Qe.pointer&&c.indexOf("touch")===0?ui(a,c,C):Qe.touch&&c==="dblclick"?Ya(a,C):"removeEventListener"in a?a.removeEventListener(Qa[c]||c,C,!1):a.detachEvent("on"+c,C),a[Ai][w]=null}function ki(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Zi(a){return Ei(a,"wheel",ki),this}function Ka(a){return rt(a,"mousedown touchstart dblclick contextmenu",ki),a._leaflet_disable_click=!0,this}function mn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ea(a){return mn(a),ki(a),this}function bs(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function ws(a,c){if(!c)return new le(a.clientX,a.clientY);var m=_s(c),_=m.boundingClientRect;return new le((a.clientX-_.left)/m.x-c.clientLeft,(a.clientY-_.top)/m.y-c.clientTop)}var Jc=Qe.linux&&Qe.chrome?window.devicePixelRatio:Qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Zn(a){return Qe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Jc:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function sa(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var go={__proto__:null,on:rt,off:Pt,stopPropagation:ki,disableScrollPropagation:Zi,disableClickPropagation:Ka,preventDefault:mn,stop:Ea,getPropagationPath:bs,getMousePosition:ws,getWheelDelta:Zn,isExternalTarget:sa,addListener:rt,removeListener:Pt},Cr=oe.extend({run:function(a,c,m,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Aa(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ge(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),It(this._el,m),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),At=oe.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=T(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Me(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ps&&Qe.any3d&&!Qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),rt(this._proxy,gl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(Me(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=d({animate:m.animate},m.zoom),m.pan=d({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var _=this.getZoomScale(c),w=this.getSize().divideBy(2),C=a instanceof le?a:this.latLngToContainerPoint(a),G=C.subtract(w).multiplyBy(1-1/_),he=this.containerPointToLatLng(w.add(G));return this.setView(he,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():W(a);var m=ce(c.paddingTopLeft||c.padding||[0,0]),_=ce(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(_));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var C=_.subtract(m).divideBy(2),G=this.project(a.getSouthWest(),w),he=this.project(a.getNorthEast(),w),Se=this.unproject(G.add(he).divideBy(2).add(C),w);return{center:Se,zoom:w}},fitBounds:function(a,c){if(a=W(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=ce(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){lt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Qe.any3d)return this.setView(a,c,m);this._stop();var _=this.project(this.getCenter()),w=this.project(a),C=this.getSize(),G=this._zoom;a=Me(a),c=c===void 0?G:c;var he=Math.max(C.x,C.y),Se=he*this.getZoomScale(G,c),Oe=w.distanceTo(_)||1,qe=1.42,Je=qe*qe;function gt(cn){var ua=cn?-1:1,tr=cn?Se:he,$l=Se*Se-he*he+ua*Je*Je*Oe*Oe,Ps=2*tr*Je*Oe,Bs=$l/Ps,Da=Math.sqrt(Bs*Bs+1)-Bs,da=Da<1e-9?-18:Math.log(Da);return da}function Mn(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function pn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function ti(cn){return Mn(cn)/pn(cn)}var zt=gt(0);function Mt(cn){return he*(pn(zt)/pn(zt+qe*cn))}function bt(cn){return he*(pn(zt)*ti(zt+qe*cn)-Mn(zt))/Je}function Oa(cn){return 1-Math.pow(1-cn,1.5)}var gi=Date.now(),Co=(gt(1)-zt)/qe,Ra=m.duration?1e3*m.duration:1e3*Co*.8;function Dl(){var cn=(Date.now()-gi)/Ra,ua=Oa(cn)*Co;cn<=1?(this._flyToFrame=ge(Dl,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(bt(ua)/Oe)),G),this.getScaleZoom(he/Mt(ua),G),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Dl.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=W(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,W(a));return m.equals(_)||this.panTo(_,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=ce(c.paddingTopLeft||c.padding||[0,0]),_=ce(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),C=this.project(a),G=this.getPixelBounds(),he=ae([G.min.add(m),G.max.subtract(_)]),Se=he.getSize();if(!he.contains(C)){this._enforcingBounds=!0;var Oe=C.subtract(he.getCenter()),qe=he.extend(C).getSize().subtract(Se);w.x+=Oe.x<0?-qe.x:qe.x,w.y+=Oe.y<0?-qe.y:qe.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=d({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=c.divideBy(2).round(),w=m.divideBy(2).round(),C=_.subtract(w);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=d({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=h(this._handleGeolocationResponse,this),m=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,_=new Ne(c,m),w=_.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var G=this.getBoundsZoom(w);this.setView(_,C.maxZoom?Math.min(G,C.maxZoom):G)}var he={latlng:_,bounds:w,timestamp:a.timestamp};for(var Se in a.coords)typeof a.coords[Se]=="number"&&(he[Se]=a.coords[Se]);this.fire("locationfound",he)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Ht(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=xt("div",m,c||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new Q(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=W(a),m=ce(m||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),C=this.getMaxZoom(),G=a.getNorthWest(),he=a.getSouthEast(),Se=this.getSize().subtract(m),Oe=ae(this.project(he,_),this.project(G,_)).getSize(),qe=Qe.any3d?this.options.zoomSnap:1,Je=Se.x/Oe.x,gt=Se.y/Oe.y,Mn=c?Math.max(Je,gt):Math.min(Je,gt);return _=this.getScaleZoom(Mn,_),qe&&(_=Math.round(_/(qe/100))*(qe/100),_=c?Math.ceil(_/qe)*qe:Math.floor(_/qe)*qe),Math.max(w,Math.min(C,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new $(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var _=m.zoom(a*m.scale(c));return isNaN(_)?1/0:_},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Me(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ce(a),c)},layerPointToLatLng:function(a){var c=ce(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(Me(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Me(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(W(a))},distance:function(a,c){return this.options.crs.distance(Me(a),Me(c))},containerPointToLayerPoint:function(a){return ce(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ce(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(ce(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(a)))},mouseEventToContainerPoint:function(a){return ws(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=vl(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");rt(c,"scroll",this._onScroll,this),this._containerId=x(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe.any3d,lt(a,"leaflet-container"+(Qe.touch?" leaflet-touch":"")+(Qe.retina?" leaflet-retina":"")+(Qe.ielt9?" leaflet-oldie":"")+(Qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=gs(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(lt(a.markerPane,"leaflet-zoom-hide"),lt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){It(this._mapPane,new le(0,0));var _=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,m)._move(a,c)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,_){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){It(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[x(this._container)]=this;var c=a?Pt:rt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Qe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],_,w=c==="mouseout"||c==="mouseover",C=a.target||a.srcElement,G=!1;C;){if(_=this._targets[x(C)],_&&(c==="click"||c==="preclick")&&this._draggableMoved(_)){G=!0;break}if(_&&_.listens(c,!0)&&(w&&!sa(C,a)||(m.push(_),w))||C===this._container)break;C=C.parentNode}return!m.length&&!G&&!w&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&kr(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var _=d({},a);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var w=this._findEventTargets(a,c);if(m){for(var C=[],G=0;G<m.length;G++)m[G].listens(c,!0)&&C.push(m[G]);w=C.concat(w)}if(w.length){c==="contextmenu"&&mn(a);var he=w[0],Se={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Oe=he.getLatLng&&(!he._radius||he._radius<=10);Se.containerPoint=Oe?this.latLngToContainerPoint(he.getLatLng()):this.mouseEventToContainerPoint(a),Se.layerPoint=this.containerPointToLayerPoint(Se.containerPoint),Se.latlng=Oe?he.getLatLng():this.layerPointToLatLng(Se.layerPoint)}for(G=0;G<w.length;G++)if(w[G].fire(c,Se,!0),Se.originalEvent._stopped||w[G].options.bubblingMouseEvents===!1&&P(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Aa(this._mapPane)||new le(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var _=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,c,m){var _=this._getNewPixelOrigin(m,c);return ae([this.project(a.getSouthWest(),c)._subtract(_),this.project(a.getNorthWest(),c)._subtract(_),this.project(a.getSouthEast(),c)._subtract(_),this.project(a.getNorthEast(),c)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var _=this.project(a,c),w=this.getSize().divideBy(2),C=new $(_.subtract(w),_.add(w)),G=this._getBoundsOffset(C,m,c);return Math.abs(G.x)<=1&&Math.abs(G.y)<=1?a:this.unproject(_.add(G),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),_=new $(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(_,c))},_getBoundsOffset:function(a,c,m){var _=ae(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),w=_.min.subtract(a.min),C=_.max.subtract(a.max),G=this._rebound(w.x,-C.x),he=this._rebound(w.y,-C.y);return new le(G,he)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),_=Qe.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){an(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=ja,_=this._proxy.style[m];ra(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();ra(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(c),w=this._getCenterOffset(a)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(w)?!1:(ge(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&an(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nl(a,c){return new At(a,c)}var ei=B.extend({options:{position:"topright"},initialize:function(a){T(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),_=a._controlCorners[m];return lt(c,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(c,_.firstChild):_.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),oa=function(a){return new ei(a)};At.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=xt("div",c+"control-container",this._container);function _(w,C){var G=c+w+" "+c+C;a[w+C]=xt("div",G,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Ht(this._controlCorners[a]);Ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ns=ei.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,_){return m<_?-1:_<m?1:0}},initialize:function(a,c,m){T(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in c)this._addLayer(c[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ei.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(x(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){lt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(lt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):an(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return an(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=xt("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ka(c),Zi(c);var _=this._section=xt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),rt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=xt("a",a+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),rt(w,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){mn(C),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=xt("div",a+"-base",_),this._separator=xt("div",a+"-separator",_),this._overlaysList=xt("div",a+"-overlays",_),c.appendChild(_)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&x(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(h(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;di(this._baseLayersList),di(this._overlaysList),this._layerControlInputs=[];var a,c,m,_,w=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),c=c||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(x(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+x(this),m),this._layerControlInputs.push(_),_.layerId=x(a.layer),rt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var C=document.createElement("span");c.appendChild(C),C.appendChild(_),C.appendChild(w);var G=a.overlay?this._overlaysList:this._baseLayersList;return G.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,_=[],w=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)c=a[C],m=this._getLayer(c.layerId).layer,c.checked?_.push(m):c.checked||w.push(m);for(C=0;C<w.length;C++)this._map.hasLayer(w[C])&&this._map.removeLayer(w[C]);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])||this._map.addLayer(_[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,_=this._map.getZoom(),w=a.length-1;w>=0;w--)c=a[w],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,rt(a,"click",mn),this.expand();var c=this;setTimeout(function(){Pt(a,"click",mn),c._preventClick=!1})}}),Wc=function(a,c,m){return new Ns(a,c,m)},Sl=ei.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=xt("div",c+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,_,w){var C=xt("a",m,_);return C.innerHTML=a,C.href="#",C.title=c,C.setAttribute("role","button"),C.setAttribute("aria-label",c),Ka(C),rt(C,"click",Ea),rt(C,"click",w,this),rt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";an(this._zoomInButton,c),an(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(lt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(lt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});At.mergeOptions({zoomControl:!0}),At.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Sl,this.addControl(this.zoomControl))});var Tf=function(a){return new Sl(a)},eu=ei.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=xt("div",c),_=this.options;return this._addScales(_,c+"-line",m),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=xt("div",c,m)),a.imperial&&(this._iScale=xt("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,_,w;c>5280?(m=c/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),jl=function(a){return new eu(a)},Cf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Al=ei.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qe.inlineSvg?Cf+" ":"")+"Leaflet</a>"},initialize:function(a){T(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Ka(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});At.mergeOptions({attributionControl:!0}),At.addInitHook(function(){this.options.attributionControl&&new Al().addTo(this)});var zf=function(a){return new Al(a)};ei.Layers=Ns,ei.Zoom=Sl,ei.Scale=eu,ei.Attribution=Al,oa.layers=Wc,oa.zoom=Tf,oa.scale=jl,oa.attribution=zf;var Hi=B.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hi.addTo=function(a,c){return a.addHandler(c,this),this};var Mf={Events:D},El=Qe.touch?"touchstart mousedown":"mousedown",ka=oe.extend({options:{clickTolerance:3},initialize:function(a,c,m,_){T(this,_),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(rt(this._dragStartTarget,El,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ka._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,El,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!yl(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ka._dragging===this&&this.finishDrag();return}if(!(ka._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ka._dragging=this,this._preventOutline&&kr(this._element),ho(),Ar(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=po(this._element);this._startPoint=new le(c.clientX,c.clientY),this._startPos=Aa(this._element),this._parentScale=_s(m);var _=a.type==="mousedown";rt(document,_?"mousemove":"touchmove",this._onMove,this),rt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new le(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,mn(a),this._moved||(this.fire("dragstart"),this._moved=!0,lt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),It(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){an(document.body,"leaflet-dragging"),this._lastTarget&&(an(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),ys(),Ui();var c=this._moved&&this._moving;this._moving=!1,ka._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function tu(a,c,m){var _,w=[1,4,2,8],C,G,he,Se,Oe,qe,Je,gt;for(C=0,qe=a.length;C<qe;C++)a[C]._code=Ja(a[C],c);for(he=0;he<4;he++){for(Je=w[he],_=[],C=0,qe=a.length,G=qe-1;C<qe;G=C++)Se=a[C],Oe=a[G],Se._code&Je?Oe._code&Je||(gt=vo(Oe,Se,Je,c,m),gt._code=Ja(gt,c),_.push(gt)):(Oe._code&Je&&(gt=vo(Oe,Se,Je,c,m),gt._code=Ja(gt,c),_.push(gt)),_.push(Se));a=_}return a}function nu(a,c){var m,_,w,C,G,he,Se,Oe,qe;if(!a||a.length===0)throw new Error("latlngs not passed");hi(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Je=Me([0,0]),gt=W(a),Mn=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());Mn<1700&&(Je=kl(a));var pn=a.length,ti=[];for(m=0;m<pn;m++){var zt=Me(a[m]);ti.push(c.project(Me([zt.lat-Je.lat,zt.lng-Je.lng])))}for(he=Se=Oe=0,m=0,_=pn-1;m<pn;_=m++)w=ti[m],C=ti[_],G=w.y*C.x-C.y*w.x,Se+=(w.x+C.x)*G,Oe+=(w.y+C.y)*G,he+=G*3;he===0?qe=ti[0]:qe=[Se/he,Oe/he];var Mt=c.unproject(ce(qe));return Me([Mt.lat+Je.lat,Mt.lng+Je.lng])}function kl(a){for(var c=0,m=0,_=0,w=0;w<a.length;w++){var C=Me(a[w]);c+=C.lat,m+=C.lng,_++}return Me([c/_,m/_])}var Tl={__proto__:null,clipPolygon:tu,polygonCenter:nu,centroid:kl};function iu(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=Of(a,m),a=ru(a,m),a}function au(a,c,m){return Math.sqrt(Ss(a,c,m,!0))}function Lf(a,c,m){return Ss(a,c,m)}function ru(a,c){var m=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(m);w[0]=w[m-1]=1,Cl(a,w,c,0,m-1);var C,G=[];for(C=0;C<m;C++)w[C]&&G.push(a[C]);return G}function Cl(a,c,m,_,w){var C=0,G,he,Se;for(he=_+1;he<=w-1;he++)Se=Ss(a[he],a[_],a[w],!0),Se>C&&(G=he,C=Se);C>m&&(c[G]=1,Cl(a,c,m,_,G),Cl(a,c,m,G,w))}function Of(a,c){for(var m=[a[0]],_=1,w=0,C=a.length;_<C;_++)Rf(a[_],a[w])>c&&(m.push(a[_]),w=_);return w<C-1&&m.push(a[C-1]),m}var su;function ou(a,c,m,_,w){var C=_?su:Ja(a,m),G=Ja(c,m),he,Se,Oe;for(su=G;;){if(!(C|G))return[a,c];if(C&G)return!1;he=C||G,Se=vo(a,c,he,m,w),Oe=Ja(Se,m),he===C?(a=Se,C=Oe):(c=Se,G=Oe)}}function vo(a,c,m,_,w){var C=c.x-a.x,G=c.y-a.y,he=_.min,Se=_.max,Oe,qe;return m&8?(Oe=a.x+C*(Se.y-a.y)/G,qe=Se.y):m&4?(Oe=a.x+C*(he.y-a.y)/G,qe=he.y):m&2?(Oe=Se.x,qe=a.y+G*(Se.x-a.x)/C):m&1&&(Oe=he.x,qe=a.y+G*(he.x-a.x)/C),new le(Oe,qe,w)}function Ja(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function Rf(a,c){var m=c.x-a.x,_=c.y-a.y;return m*m+_*_}function Ss(a,c,m,_){var w=c.x,C=c.y,G=m.x-w,he=m.y-C,Se=G*G+he*he,Oe;return Se>0&&(Oe=((a.x-w)*G+(a.y-C)*he)/Se,Oe>1?(w=m.x,C=m.y):Oe>0&&(w+=G*Oe,C+=he*Oe)),G=a.x-w,he=a.y-C,_?G*G+he*he:new le(w,C)}function hi(a){return!H(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function yo(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hi(a)}function zr(a,c){var m,_,w,C,G,he,Se,Oe;if(!a||a.length===0)throw new Error("latlngs not passed");hi(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var qe=Me([0,0]),Je=W(a),gt=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());gt<1700&&(qe=kl(a));var Mn=a.length,pn=[];for(m=0;m<Mn;m++){var ti=Me(a[m]);pn.push(c.project(Me([ti.lat-qe.lat,ti.lng-qe.lng])))}for(m=0,_=0;m<Mn-1;m++)_+=pn[m].distanceTo(pn[m+1])/2;if(_===0)Oe=pn[0];else for(m=0,C=0;m<Mn-1;m++)if(G=pn[m],he=pn[m+1],w=G.distanceTo(he),C+=w,C>_){Se=(C-_)/w,Oe=[he.x-Se*(he.x-G.x),he.y-Se*(he.y-G.y)];break}var zt=c.unproject(ce(Oe));return Me([zt.lat+qe.lat,zt.lng+qe.lng])}var Df={__proto__:null,simplify:iu,pointToSegmentDistance:au,closestPointOnSegment:Lf,clipSegment:ou,_getEdgeIntersection:vo,_getBitCode:Ja,_sqClosestPointOnSegment:Ss,isFlat:hi,_flat:yo,polylineCenter:zr},_o={project:function(a){return new le(a.lng,a.lat)},unproject:function(a){return new Ne(a.y,a.x)},bounds:new $([-180,-90],[180,90])},xo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,_=a.lat*c,w=this.R_MINOR/m,C=Math.sqrt(1-w*w),G=C*Math.sin(_),he=Math.tan(Math.PI/4-_/2)/Math.pow((1-G)/(1+G),C/2);return _=-m*Math.log(Math.max(he,1e-10)),new le(a.lng*c*m,_)},unproject:function(a){for(var c=180/Math.PI,m=this.R,_=this.R_MINOR/m,w=Math.sqrt(1-_*_),C=Math.exp(-a.y/m),G=Math.PI/2-2*Math.atan(C),he=0,Se=.1,Oe;he<15&&Math.abs(Se)>1e-7;he++)Oe=w*Math.sin(G),Oe=Math.pow((1-Oe)/(1+Oe),w/2),Se=Math.PI/2-2*Math.atan(C*Oe)-G,G+=Se;return new Ne(G*c,a.x*c/m)}},lu={__proto__:null,LonLat:_o,Mercator:xo,SphericalMercator:De},cu=d({},Y,{code:"EPSG:3395",projection:xo,transformation:(function(){var a=.5/(Math.PI*xo.R);return st(a,.5,-a,.5)})()}),zl=d({},Y,{code:"EPSG:4326",projection:_o,transformation:st(1/180,1,-1/180,.5)}),Mr=d({},Le,{projection:_o,transformation:st(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,_=c.lat-a.lat;return Math.sqrt(m*m+_*_)},infinite:!0});Le.Earth=Y,Le.EPSG3395=cu,Le.EPSG3857=it,Le.EPSG900913=Ve,Le.EPSG4326=zl,Le.Simple=Mr;var Ti=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[x(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[x(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});At.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=x(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=x(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return x(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?H(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[x(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=x(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Lr=Ti.extend({initialize:function(a,c){T(this,c),this._layers={};var m,_;if(a)for(m=0,_=a.length;m<_;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[a]&&_[a].apply(_,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return x(a)}}),$f=function(a,c){return new Lr(a,c)},qi=Lr.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Lr.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Lr.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Q;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),uu=function(a,c){return new qi(a,c)},Fi=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){T(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,c){var m=this.options,_=m[c+"Size"];typeof _=="number"&&(_=[_,_]);var w=ce(_),C=ce(c==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Qe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function js(a){return new Fi(a)}var As=Fi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof As.imagePath!="string"&&(As.imagePath=this._detectIconPath()),(this.options.imagePath||As.imagePath)+Fi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,_,w){var C=_.exec(m);return C&&C[w]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=xt("div","leaflet-default-icon-path",document.body),c=gs(a,"background-image")||gs(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Es=Hi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ka(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),lt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&an(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,C=Aa(c._icon),G=m.getPixelBounds(),he=m.getPixelOrigin(),Se=ae(G.min._subtract(he).add(w),G.max._subtract(he).subtract(w));if(!Se.contains(C)){var Oe=ce((Math.max(Se.max.x,C.x)-Se.max.x)/(G.max.x-Se.max.x)-(Math.min(Se.min.x,C.x)-Se.min.x)/(G.min.x-Se.min.x),(Math.max(Se.max.y,C.y)-Se.max.y)/(G.max.y-Se.max.y)-(Math.min(Se.min.y,C.y)-Se.min.y)/(G.min.y-Se.min.y)).multiplyBy(_);m.panBy(Oe,{animate:!1}),this._draggable._newPos._add(Oe),this._draggable._startPos._add(Oe),It(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ge(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=ge(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,_=Aa(c._icon),w=c._map.layerPointToLatLng(_);m&&It(m,_),c._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ks=Ti.extend({options:{icon:new As,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){T(this,c),this._latlng=Me(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=Me(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),lt(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),C=!1;w!==this._shadow&&(this._removeShadow(),C=!0),w&&(lt(w,c),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),Ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ht(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&It(this._icon,a),this._shadow&&It(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Es)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Es(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Wt(this._icon,a),this._shadow&&Wt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?ce(c.iconSize):ce(0,0),_=c.iconAnchor?ce(c.iconAnchor):ce(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function du(a,c){return new ks(a,c)}var Vi=Ti.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return T(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Or=Vi.extend({options:{fill:!0,radius:10},initialize:function(a,c){T(this,c),this._latlng=Me(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=Me(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Vi.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),_=[a+m,c+m];this._pxBounds=new $(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fu(a,c){return new Or(a,c)}var bo=Or.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=d({},m,{radius:c})),T(this,c),this._latlng=Me(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Vi.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===Y.distance){var w=Math.PI/180,C=this._mRadius/Y.R/w,G=m.project([c+C,a]),he=m.project([c-C,a]),Se=G.add(he).divideBy(2),Oe=m.unproject(Se).lat,qe=Math.acos((Math.cos(C*w)-Math.sin(c*w)*Math.sin(Oe*w))/(Math.cos(c*w)*Math.cos(Oe*w)))/w;(isNaN(qe)||qe===0)&&(qe=C/Math.cos(Math.PI/180*c)),this._point=Se.subtract(m.getPixelOrigin()),this._radius=isNaN(qe)?0:Se.x-m.project([Oe,a-qe]).x,this._radiusY=Se.y-G.y}else{var Je=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Je).x}this._updateBounds()}});function hu(a,c,m){return new bo(a,c,m)}var la=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){T(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,_=Ss,w,C,G=0,he=this._parts.length;G<he;G++)for(var Se=this._parts[G],Oe=1,qe=Se.length;Oe<qe;Oe++){w=Se[Oe-1],C=Se[Oe];var Je=_(a,w,C,!0);Je<c&&(c=Je,m=_(a,w,C))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=Me(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Q,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=hi(a),_=0,w=a.length;_<w;_++)m?(c[_]=Me(a[_]),this._bounds.extend(c[_])):c[_]=this._convertLatLngs(a[_]);return c},_project:function(){var a=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new le(a,a);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var _=a[0]instanceof Ne,w=a.length,C,G;if(_){for(G=[],C=0;C<w;C++)G[C]=this._map.latLngToLayerPoint(a[C]),m.extend(G[C]);c.push(G)}else for(C=0;C<w;C++)this._projectLatlngs(a[C],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,_,w,C,G,he,Se;for(m=0,w=0,C=this._rings.length;m<C;m++)for(Se=this._rings[m],_=0,G=Se.length;_<G-1;_++)he=ou(Se[_],Se[_+1],a,_,!0),he&&(c[w]=c[w]||[],c[w].push(he[0]),(he[1]!==Se[_+1]||_===G-2)&&(c[w].push(he[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,_=a.length;m<_;m++)a[m]=iu(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,_,w,C,G,he,Se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,C=this._parts.length;m<C;m++)for(he=this._parts[m],_=0,G=he.length,w=G-1;_<G;w=_++)if(!(!c&&_===0)&&au(a,he[w],he[_])<=Se)return!0;return!1}});function Pf(a,c){return new la(a,c)}la._flat=yo;var Rr=la.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=la.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof Ne&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){la.prototype._setLatLngs.call(this,a),hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new le(c,c);if(a=new $(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,C;_<w;_++)C=tu(this._rings[_],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,_,w,C,G,he,Se,Oe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,Se=this._parts.length;C<Se;C++)for(m=this._parts[C],G=0,Oe=m.length,he=Oe-1;G<Oe;he=G++)_=m[G],w=m[he],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(c=!c);return c||la.prototype._containsPoint.call(this,a,!0)}});function Bf(a,c){return new Rr(a,c)}var ca=qi.extend({initialize:function(a,c){T(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=H(a)?a:a.features,m,_,w;if(c){for(m=0,_=c.length;m<_;m++)w=c[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var G=Rn(a,C);return G?(G.feature=So(a),G.defaultOptions=G.options,this.resetStyle(G),C.onEachFeature&&C.onEachFeature(a,G),this.addLayer(G)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=d({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Rn(a,c){var m=a.type==="Feature"?a.geometry:a,_=m?m.coordinates:null,w=[],C=c&&c.pointToLayer,G=c&&c.coordsToLatLng||wo,he,Se,Oe,qe;if(!_&&!m)return null;switch(m.type){case"Point":return he=G(_),Dr(C,a,he,c);case"MultiPoint":for(Oe=0,qe=_.length;Oe<qe;Oe++)he=G(_[Oe]),w.push(Dr(C,a,he,c));return new qi(w);case"LineString":case"MultiLineString":return Se=Ts(_,m.type==="LineString"?0:1,G),new la(Se,c);case"Polygon":case"MultiPolygon":return Se=Ts(_,m.type==="Polygon"?1:2,G),new Rr(Se,c);case"GeometryCollection":for(Oe=0,qe=m.geometries.length;Oe<qe;Oe++){var Je=Rn({geometry:m.geometries[Oe],type:"Feature",properties:a.properties},c);Je&&w.push(Je)}return new qi(w);case"FeatureCollection":for(Oe=0,qe=m.features.length;Oe<qe;Oe++){var gt=Rn(m.features[Oe],c);gt&&w.push(gt)}return new qi(w);default:throw new Error("Invalid GeoJSON object.")}}function Dr(a,c,m,_){return a?a(c,m):new ks(m,_&&_.markersInheritOptions&&_)}function wo(a){return new Ne(a[1],a[0],a[2])}function Ts(a,c,m){for(var _=[],w=0,C=a.length,G;w<C;w++)G=c?Ts(a[w],c-1,m):(m||wo)(a[w]),_.push(G);return _}function No(a,c){return a=Me(a),a.alt!==void 0?[j(a.lng,c),j(a.lat,c),j(a.alt,c)]:[j(a.lng,c),j(a.lat,c)]}function Cs(a,c,m,_){for(var w=[],C=0,G=a.length;C<G;C++)w.push(c?Cs(a[C],hi(a[C])?0:c-1,m,_):No(a[C],_));return!c&&m&&w.length>0&&w.push(w[0].slice()),w}function Ta(a,c){return a.feature?d({},a.feature,{geometry:c}):So(c)}function So(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ca={toGeoJSON:function(a){return Ta(this,{type:"Point",coordinates:No(this.getLatLng(),a)})}};ks.include(Ca),bo.include(Ca),Or.include(Ca),la.include({toGeoJSON:function(a){var c=!hi(this._latlngs),m=Cs(this._latlngs,c?1:0,!1,a);return Ta(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Rr.include({toGeoJSON:function(a){var c=!hi(this._latlngs),m=c&&!hi(this._latlngs[0]),_=Cs(this._latlngs,m?2:c?1:0,!0,a);return c||(_=[_]),Ta(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),Lr.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Ta(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var C=w.toGeoJSON(a);if(m)_.push(C.geometry);else{var G=So(C);G.type==="FeatureCollection"?_.push.apply(_,G.features):_.push(G)}}}),m?Ta(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function jo(a,c){return new ca(a,c)}var zs=jo,$r=Ti.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=W(c),T(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&zn(this._image),this},bringToBack:function(){return this._map&&Xa(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=W(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:xt("img");if(lt(c,"leaflet-image-layer"),this._zoomAnimated&&lt(c,"leaflet-zoom-animated"),this.options.className&&lt(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onload=h(this.fire,this,"load"),c.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ra(this._image,m,c)},_reset:function(){var a=this._image,c=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();It(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),mu=function(a,c,m){return new $r(a,c,m)},za=$r.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:xt("video");if(lt(c,"leaflet-image-layer"),this._zoomAnimated&&lt(c,"leaflet-zoom-animated"),this.options.className&&lt(c,this.options.className),c.onselectstart=N,c.onmousemove=N,c.onloadeddata=h(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),_=[],w=0;w<m.length;w++)_.push(m[w].src);this._url=m.length>0?_:[c.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var G=xt("source");G.src=this._url[C],c.appendChild(G)}}});function Pr(a,c,m){return new za(a,c,m)}var Ao=$r.extend({_initImage:function(){var a=this._image=this._url;lt(a,"leaflet-image-layer"),this._zoomAnimated&&lt(a,"leaflet-zoom-animated"),this.options.className&&lt(a,this.options.className),a.onselectstart=N,a.onmousemove=N}});function pu(a,c,m){return new Ao(a,c,m)}var Dn=Ti.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Ne||H(a))?(this._latlng=Me(a),T(this,c)):(T(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Wt(this._container,1),this.bringToFront(),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Wt(this._container,0),this._removeTimeout=setTimeout(h(Ht,void 0,this._container),200)):Ht(this._container),this.options.interactive&&(an(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Me(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zn(this._container),this},bringToBack:function(){return this._map&&Xa(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof qi){c=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){c=m[_];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=ce(this.options.offset),m=this._getAnchor();this._zoomAnimated?It(this._container,a.add(m)):c=c.add(a).add(m);var _=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});At.include({_initOverlay:function(a,c,m,_){var w=c;return w instanceof a||(w=new a(_).setContent(c)),m&&w.setLatLng(m),w}}),Ti.include({_initOverlay:function(a,c,m,_){var w=m;return w instanceof a?(T(w,_),w._source=this):(w=c&&!_?c:new a(_,this),w.setContent(m)),w}});var Ms=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Dn.prototype.openOn.call(this,a)},onAdd:function(a){Dn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",ki))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",ki))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=xt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=xt("div",a+"-content-wrapper",c);if(this._contentNode=xt("div",a+"-content",m),Ka(c),Zi(this._contentNode),rt(c,"contextmenu",ki),this._tipContainer=xt("div",a+"-tip-container",c),this._tip=xt("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=xt("a",a+"-close-button",c);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',rt(_,"click",function(w){mn(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var _=a.offsetHeight,w=this.options.maxHeight,C="leaflet-popup-scrolled";w&&_>w?(c.height=w+"px",lt(a,C)):an(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();It(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(gs(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,_=this._containerWidth,w=new le(this._containerLeft,-m-this._containerBottom);w._add(Aa(this._container));var C=a.layerPointToContainerPoint(w),G=ce(this.options.autoPanPadding),he=ce(this.options.autoPanPaddingTopLeft||G),Se=ce(this.options.autoPanPaddingBottomRight||G),Oe=a.getSize(),qe=0,Je=0;C.x+_+Se.x>Oe.x&&(qe=C.x+_-Oe.x+Se.x),C.x-qe-he.x<0&&(qe=C.x-he.x),C.y+m+Se.y>Oe.y&&(Je=C.y+m-Oe.y+Se.y),C.y-Je-he.y<0&&(Je=C.y-he.y),(qe||Je)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([qe,Je]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gu=function(a,c){return new Ms(a,c)};At.mergeOptions({closePopupOnClick:!0}),At.include({openPopup:function(a,c,m){return this._initOverlay(Ms,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ti.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Ms,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof qi||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ea(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Ls=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Dn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,_=this._map,w=this._container,C=_.latLngToContainerPoint(_.getCenter()),G=_.layerPointToContainerPoint(a),he=this.options.direction,Se=w.offsetWidth,Oe=w.offsetHeight,qe=ce(this.options.offset),Je=this._getAnchor();he==="top"?(c=Se/2,m=Oe):he==="bottom"?(c=Se/2,m=0):he==="center"?(c=Se/2,m=Oe/2):he==="right"?(c=0,m=Oe/2):he==="left"?(c=Se,m=Oe/2):G.x<C.x?(he="right",c=0,m=Oe/2):(he="left",c=Se+(qe.x+Je.x)*2,m=Oe/2),a=a.subtract(ce(c,m,!0)).add(qe).add(Je),an(w,"leaflet-tooltip-right"),an(w,"leaflet-tooltip-left"),an(w,"leaflet-tooltip-top"),an(w,"leaflet-tooltip-bottom"),lt(w,"leaflet-tooltip-"+he),It(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Wt(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Uf=function(a,c){return new Ls(a,c)};At.include({openTooltip:function(a,c,m){return this._initOverlay(Ls,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ti.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ls,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof qi||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(rt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),rt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,_;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(c)}});var vu=Fi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(di(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=ce(m.bgPos);c.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Zf(a){return new vu(a)}Fi.Default=As;var Br=Ti.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){T(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Ht(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof le?a:new le(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),_=0,w=c.length,C;_<w;_++)C=c[_].style.zIndex,c[_]!==this._container&&C&&(m=a(m,+C));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qe.ielt9){Wt(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var C=Math.min(1,(a-w.loaded)/200);Wt(w.el,C),C<1?c=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(te(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(Ht(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=c,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),N(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var _=c.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Ht(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,_){var w=Math.floor(a/2),C=Math.floor(c/2),G=m-1,he=new le(+w,+C);he.z=+G;var Se=this._tileCoordsToKey(he),Oe=this._tiles[Se];return Oe&&Oe.active?(Oe.retain=!0,!0):(Oe&&Oe.loaded&&(Oe.retain=!0),G>_?this._retainParent(w,C,G,_):!1)},_retainChildren:function(a,c,m,_){for(var w=2*a;w<2*a+2;w++)for(var C=2*c;C<2*c+2;C++){var G=new le(w,C);G.z=m+1;var he=this._tileCoordsToKey(G),Se=this._tiles[he];if(Se&&Se.active){Se.retain=!0;continue}else Se&&Se.loaded&&(Se.retain=!0);m+1<_&&this._retainChildren(w,C,m+1,_)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,_){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var C=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||C)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var _=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(c,m)).round();Qe.any3d?ra(a.el,w,_):It(a.el,w)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],_).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],_).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],_).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),_=c.getZoomScale(m,this._tileZoom),w=c.project(a,this._tileZoom).floor(),C=c.getSize().divideBy(_*2);return new $(w.subtract(C),w.add(C))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),C=w.getCenter(),G=[],he=this.options.keepBuffer,Se=new $(w.getBottomLeft().subtract([he,-he]),w.getTopRight().add([he,-he]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Oe in this._tiles){var qe=this._tiles[Oe].coords;(qe.z!==this._tileZoom||!Se.contains(new le(qe.x,qe.y)))&&(this._tiles[Oe].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Je=w.min.y;Je<=w.max.y;Je++)for(var gt=w.min.x;gt<=w.max.x;gt++){var Mn=new le(gt,Je);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var pn=this._tiles[this._tileCoordsToKey(Mn)];pn?pn.current=!0:G.push(Mn)}}if(G.sort(function(zt,Mt){return zt.distanceTo(C)-Mt.distanceTo(C)}),G.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ti=document.createDocumentFragment();for(gt=0;gt<G.length;gt++)this._addTile(G[gt],ti);this._level.el.appendChild(ti)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return W(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),_=a.scaleBy(m),w=_.add(m),C=c.unproject(_,a.z),G=c.unproject(w,a.z);return[C,G]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new Q(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new le(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(Ht(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){lt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=N,a.onmousemove=N,Qe.ielt9&&this.options.opacity<1&&Wt(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&ge(h(this._tileReady,this,a,null,w)),It(w,m),this._tiles[_]={el:w,coords:a,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var _=this._tileCoordsToKey(a);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Wt(m.el,0),te(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(lt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qe.ielt9||!this._map._fadeAnimated?ge(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new le(this._wrapX?b(a.x,this._wrapX):a.x,this._wrapY?b(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new $(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function yu(a){return new Br(a)}var Ma=Br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=T(this,c),c.detectRetina&&Qe.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return rt(m,"load",h(this._tileOnLoad,this,c,m)),rt(m,"error",h(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Qe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return U(this._url,d(c,this.options))},_tileOnLoad:function(a,c){Qe.ielt9?setTimeout(h(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var _=this.options.errorTileUrl;_&&c.getAttribute("src")!==_&&(c.src=_),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(a=c-a),a+_},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=N,c.onerror=N,!c.complete)){c.src=I;var m=this._tiles[a].coords;Ht(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",I),Br.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===I))return Br.prototype._tileReady.call(this,a,c,m)}});function mi(a,c){return new Ma(a,c)}var Os=Ma.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=d({},this.defaultWmsParams);for(var _ in c)_ in this.options||(m[_]=c[_]);c=T(this,c);var w=c.detectRetina&&Qe.retina?2:1,C=this.getTileSize();m.width=C.x*w,m.height=C.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ma.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,_=ae(m.project(c[0]),m.project(c[1])),w=_.min,C=_.max,G=(this._wmsVersion>=1.3&&this._crs===zl?[w.y,w.x,C.y,C.x]:[w.x,w.y,C.x,C.y]).join(","),he=Ma.prototype.getTileUrl.call(this,a);return he+A(this.wmsParams,he,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+G},setParams:function(a,c){return d(this.wmsParams,a),c||this.redraw(),this}});function pi(a,c){return new Os(a,c)}Ma.WMS=Os,mi.wms=pi;var Gn=Ti.extend({options:{padding:.1},initialize:function(a){T(this,a),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),C=_.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,c));Qe.any3d?ra(this._container,C,m):It(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new $(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Eo=Gn.extend({options:{tolerance:0},getEvents:function(){var a=Gn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");rt(a,"mousemove",this._onMouseMove,this),rt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),rt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,Ht(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gn.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),_=Qe.retina?2:1;It(c,a.min),c.width=_*m.x,c.height=_*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[x(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,_=c.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete a._order,delete this._layers[x(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],_,w;for(w=0;w<c.length;w++){if(_=Number(c[w]),isNaN(_))return;m.push(_)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ge(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,_,w,C,G=a._parts,he=G.length,Se=this._ctx;if(he){for(Se.beginPath(),m=0;m<he;m++){for(_=0,w=G[m].length;_<w;_++)C=G[m][_],Se[_?"lineTo":"moveTo"](C.x,C.y);c&&Se.closePath()}this._fillStroke(Se,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(c.x,c.y/w,_,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(an(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(lt(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,_=c.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,_=c.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Rs(a){return Qe.canvas?new Eo(a):null}var La=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ml={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=La("shape");lt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=La("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[x(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Ht(c),a.removeInteractiveTarget(c),delete this._layers[x(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(c||(c=a._stroke=La("stroke")),w.appendChild(c),c.weight=_.weight+"px",c.color=_.color,c.opacity=_.opacity,_.dashArray?c.dashStyle=H(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=_.lineCap.replace("butt","flat"),c.joinstyle=_.lineJoin):c&&(w.removeChild(c),a._stroke=null),_.fill?(m||(m=a._fill=La("fill")),w.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),_=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){zn(a._container)},_bringToBack:function(a){Xa(a._container)}},Ii=Qe.vml?La:tt,Ur=Gn.extend({_initContainer:function(){this._container=Ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ht(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gn.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),It(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Ii("path");a.options.className&&lt(c,a.options.className),a.options.interactive&&lt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[x(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Ht(a._path),a.removeInteractiveTarget(a._path),delete this._layers[x(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Rt(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+_+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,C)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){zn(a._path)},_bringToBack:function(a){Xa(a._path)}});Qe.vml&&Ur.include(Ml);function Ds(a){return Qe.svg||Qe.vml?new Ur(a):null}At.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Rs(a)||Ds(a)}});var Wa=Rr.extend({initialize:function(a,c){Rr.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=W(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Hf(a,c){return new Wa(a,c)}Ur.create=Ii,Ur.pointsToPath=Rt,ca.geometryToLayer=Rn,ca.coordsToLatLng=wo,ca.coordsToLatLngs=Ts,ca.latLngToCoords=No,ca.latLngsToCoords=Cs,ca.getFeature=Ta,ca.asFeature=So,At.mergeOptions({boxZoom:!0});var Yn=Hi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ar(),ho(),this._startPoint=this._map.mouseEventToContainerPoint(a),rt(document,{contextmenu:Ea,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new $(this._point,this._startPoint),m=c.getSize();It(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Ht(this._box),an(this._container,"leaflet-crosshair")),Ui(),ys(),Pt(document,{contextmenu:Ea,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var c=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});At.addInitHook("addHandler","boxZoom",Yn),At.mergeOptions({doubleClickZoom:!0});var ko=Hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),_=c.options.zoomDelta,w=a.originalEvent.shiftKey?m-_:m+_;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(a.containerPoint,w)}});At.addInitHook("addHandler","doubleClickZoom",ko),At.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gi=Hi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ka(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){an(this._map._container,"leaflet-grab"),an(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=W(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-c+m)%a+c-m,C=(_+c+m)%a-c-m,G=Math.abs(w+m)<Math.abs(C+m)?w:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=G},_onDragEnd:function(a){var c=this._map,m=c.options,_=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),_)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,G=m.easeLinearity,he=w.multiplyBy(G/C),Se=he.distanceTo([0,0]),Oe=Math.min(m.inertiaMaxSpeed,Se),qe=he.multiplyBy(Oe/Se),Je=Oe/(m.inertiaDeceleration*G),gt=qe.multiplyBy(-Je/2).round();!gt.x&&!gt.y?c.fire("moveend"):(gt=c._limitOffset(gt,c.options.maxBounds),ge(function(){c.panBy(gt,{duration:Je,easeLinearity:G,noMoveStart:!0,animate:!0})}))}}});At.addInitHook("addHandler","dragging",Gi),At.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ll=Hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),rt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,_=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,_,w;for(_=0,w=m.left.length;_<w;_++)c[m.left[_]]=[-1*a,0];for(_=0,w=m.right.length;_<w;_++)c[m.right[_]]=[a,0];for(_=0,w=m.down.length;_<w;_++)c[m.down[_]]=[0,a];for(_=0,w=m.up.length;_<w;_++)c[m.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,_,w;for(_=0,w=m.zoomIn.length;_<w;_++)c[m.zoomIn[_]]=a;for(_=0,w=m.zoomOut.length;_<w;_++)c[m.zoomOut[_]]=-a},_addHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,_;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[c],a.shiftKey&&(_=ce(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(ce(_),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(w)}else m.panBy(_)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ea(a)}}});At.addInitHook("addHandler","keyboard",Ll),At.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $s=Hi.extend({addHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Zn(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),_),Ea(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,C=m?Math.ceil(w/m)*m:w,G=a._limitZoom(c+(this._delta>0?C:-C))-c;this._delta=0,this._startTime=null,G&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+G):a.setZoomAround(this._lastMousePos,c+G))}});At.addInitHook("addHandler","scrollWheelZoom",$s);var er=600;At.mergeOptions({tapHold:Qe.touchNative&&Qe.safari&&Qe.mobile,tapTolerance:15});var To=Hi.extend({addHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new le(c.clientX,c.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(rt(document,"touchend",mn),rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),er),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Pt(document,"touchend",mn),Pt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new le(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});At.addInitHook("addHandler","tapHold",To),At.mergeOptions({touchZoom:Qe.touch,bounceAtZoomLimits:!0});var Ol=Hi.extend({addHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){an(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),_=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),mn(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),_=c.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(_)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var C=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&C.x===0&&C.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var G=h(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ge(G,this,!0),mn(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});At.addInitHook("addHandler","touchZoom",Ol),At.BoxZoom=Yn,At.DoubleClickZoom=ko,At.Drag=Gi,At.Keyboard=Ll,At.ScrollWheelZoom=$s,At.TapHold=To,At.TouchZoom=Ol,r.Bounds=$,r.Browser=Qe,r.CRS=Le,r.Canvas=Eo,r.Circle=bo,r.CircleMarker=Or,r.Class=B,r.Control=ei,r.DivIcon=vu,r.DivOverlay=Dn,r.DomEvent=go,r.DomUtil=Tr,r.Draggable=ka,r.Evented=oe,r.FeatureGroup=qi,r.GeoJSON=ca,r.GridLayer=Br,r.Handler=Hi,r.Icon=Fi,r.ImageOverlay=$r,r.LatLng=Ne,r.LatLngBounds=Q,r.Layer=Ti,r.LayerGroup=Lr,r.LineUtil=Df,r.Map=At,r.Marker=ks,r.Mixin=Mf,r.Path=Vi,r.Point=le,r.PolyUtil=Tl,r.Polygon=Rr,r.Polyline=la,r.Popup=Ms,r.PosAnimation=Cr,r.Projection=lu,r.Rectangle=Wa,r.Renderer=Gn,r.SVG=Ur,r.SVGOverlay=Ao,r.TileLayer=Ma,r.Tooltip=Ls,r.Transformation=He,r.Util=se,r.VideoOverlay=za,r.bind=h,r.bounds=ae,r.canvas=Rs,r.circle=hu,r.circleMarker=fu,r.control=oa,r.divIcon=Zf,r.extend=d,r.featureGroup=uu,r.geoJSON=jo,r.geoJson=zs,r.gridLayer=yu,r.icon=js,r.imageOverlay=mu,r.latLng=Me,r.latLngBounds=W,r.layerGroup=$f,r.map=Nl,r.marker=du,r.point=ce,r.polygon=Bf,r.polyline=Pf,r.popup=gu,r.rectangle=Hf,r.setOptions=T,r.stamp=x,r.svg=Ds,r.svgOverlay=pu,r.tileLayer=mi,r.tooltip=Uf,r.transformation=st,r.version=o,r.videoOverlay=Pr;var Rl=window.L;r.noConflict=function(){return window.L=Rl,this},window.L=r}))})(Nc,Nc.exports)),Nc.exports}var lo=EM();const Xp=sp(lo);function Xc(e,n,r){return Object.freeze({instance:e,context:n,container:r})}function Qc(e,n){return n==null?function(o,d){const f=k.useRef(void 0);return f.current||(f.current=e(o,d)),f}:function(o,d){const f=k.useRef(void 0);f.current||(f.current=e(o,d));const h=k.useRef(o),{instance:g}=f.current;return k.useEffect(function(){h.current!==o&&(n(g,o,h.current),h.current=o)},[g,o,n]),f}}function Ib(e,n){k.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function Gb(e){return function(r){const o=Af(),d=e(Ef(r,o),o);return Hb(o.map,r.attribution),Yp(d.current,r.eventHandlers),Ib(d.current,o),d}}function kM(e,n){const r=k.useRef(void 0);k.useEffect(function(){if(n.pathOptions!==r.current){const d=n.pathOptions??{};e.instance.setStyle(d),r.current=d}},[e,n])}function TM(e){return function(r){const o=Af(),d=e(Ef(r,o),o);return Yp(d.current,r.eventHandlers),Ib(d.current,o),kM(d.current,r),d}}function CM(e){function n(d,f){return Xc(e(d),f)}const r=Qc(n),o=SM(r);return Vb(o)}function zM(e,n){const r=Qc(e,n),o=Gb(r);return Fb(o)}function MM(e,n){const r=Qc(e),o=jM(r,n);return NM(o)}function LM(e,n){const r=Qc(e,n),o=TM(r);return Fb(o)}function OM(e,n){const r=Qc(e,n),o=Gb(r);return Vb(o)}function RM(e,n,r){const{opacity:o,zIndex:d}=n;o!=null&&o!==r.opacity&&e.setOpacity(o),d!=null&&d!==r.zIndex&&e.setZIndex(d)}function DM({bounds:e,boundsOptions:n,center:r,children:o,className:d,id:f,placeholder:h,style:g,whenReady:x,zoom:y,...b},N){const[j]=k.useState({className:d,id:f,style:g}),[z,E]=k.useState(null),T=k.useRef(void 0);k.useImperativeHandle(N,()=>z?.map??null,[z]);const A=k.useCallback(U=>{if(U!==null&&!T.current){const H=new lo.Map(U,b);T.current=H,r!=null&&y!=null?H.setView(r,y):e!=null&&H.fitBounds(e,n),x!=null&&H.whenReady(x),E(wM(H))}},[]);k.useEffect(()=>()=>{z?.map.remove()},[z]);const R=z?kn.createElement(Gp,{value:z},o):h??null;return kn.createElement("div",{...j,ref:A},R)}const $M=k.forwardRef(DM),$x=zM(function({position:n,...r},o){const d=new lo.Marker(n,r);return Xc(d,qb(o,{overlayContainer:d}))},function(n,r,o){r.position!==o.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==o.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==o.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==o.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),PM=LM(function({positions:n,...r},o){const d=new lo.Polygon(n,r);return Xc(d,qb(o,{overlayContainer:d}))},function(n,r,o){r.positions!==o.positions&&n.setLatLngs(r.positions)}),Px=MM(function(n,r){const o=new lo.Popup(n,r.overlayContainer);return Xc(o,r)},function(n,r,{position:o},d){k.useEffect(function(){const{instance:h}=n;function g(y){y.popup===h&&(h.update(),d(!0))}function x(y){y.popup===h&&d(!1)}return r.map.on({popupopen:g,popupclose:x}),r.overlayContainer==null?(o!=null&&h.setLatLng(o),h.openOn(r.map)):r.overlayContainer.bindPopup(h),function(){r.map.off({popupopen:g,popupclose:x}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(h)}},[n,r,d,o])}),BM=OM(function({url:n,...r},o){const d=new lo.TileLayer(n,Ef(r,o));return Xc(d,o)},function(n,r,o){RM(n,r,o);const{url:d}=r;d!=null&&d!==o.url&&n.setUrl(d)}),UM=CM(function(n){return new lo.Control.Zoom(n)}),ZM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",HM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let qM=Xp.icon({iconUrl:ZM,shadowUrl:HM,iconSize:[25,41],iconAnchor:[12,41]});Xp.Marker.prototype.options.icon=qM;const Bx=[{name:"Reguibat es-Sahel",color:"#e74c3c",coordinates:[[27.5,-13],[26,-14.5],[24.5,-15],[23.5,-16],[22,-16.8],[21.5,-13],[23,-12],[26,-11],[27.5,-11.5]],population:"Zone ctire (Sahara)"},{name:"Reguibat el-Gharb",color:"#3498db",coordinates:[[27,-11],[26.5,-10],[25.5,-9.5],[25,-10.5],[25.5,-12],[26.5,-11.5]],population:"Intrieur nord (Sahara)"},{name:"Reguibat ech-Charg",color:"#2ecc71",coordinates:[[26,-8],[25,-7],[24,-8],[24.5,-9.5],[25.5,-9]],population:"Zone orientale (Sahara)"},{name:"Oulad Delim",color:"#f39c12",coordinates:[[23,-17],[22.5,-16],[23.5,-15.5],[24,-16.5],[23.5,-17.5]],population:"Zone de Dakhla"},{name:"Izarguien",color:"#9b59b6",coordinates:[[26.7,-11.4],[26.5,-11.2],[26.3,-11.6],[26.5,-11.8],[26.7,-11.6]],population:"Smara et oasis"},{name:"Rif Tribes (Sanhaja)",color:"#16a085",coordinates:[[35.2,-5.5],[35.4,-3.5],[34.8,-3],[34.5,-4.5],[34.8,-5.8]],population:"Nord Maroc (Rif)"},{name:"Chleuh (Souss)",color:"#d35400",coordinates:[[30.5,-9.5],[30.8,-8],[29.5,-8],[29.2,-9.8]],population:"Sud Maroc (Souss)"},{name:"Zayane (Atlas)",color:"#8e44ad",coordinates:[[33,-6.5],[33,-5],[32,-5.5],[32,-7]],population:"Moyen Atlas"},{name:"Kabyles (Zwawa)",color:"#27ae60",coordinates:[[36.9,4],[36.8,5.2],[36.3,5],[36.4,3.8]],population:"Kabylie (Algrie)"},{name:"Chaouis (Aurs)",color:"#c0392b",coordinates:[[35.8,5.9],[35.5,7.2],[34.8,6.8],[35,5.7]],population:"Aurs (Algrie)"},{name:"Kel Ahaggar (Tuareg)",color:"#f1c40f",coordinates:[[24,5],[24,7],[22,6.5],[22,4.5]],population:"Grand Sud (Hoggar)"},{name:"Mozabites",color:"#e67e22",coordinates:[[32.8,3.5],[32.8,4.2],[32.2,4],[32.2,3.4]],population:"Valle du M'zab"},{name:"Kroumirie Tribes",color:"#2c3e50",coordinates:[[36.9,8.5],[37,9.5],[36.5,9.2],[36.4,8.4]],population:"Nord-Ouest Tunisie"},{name:"Hamama / Fraichich",color:"#7f8c8d",coordinates:[[35.5,9],[35.5,10],[34.8,9.8],[34.9,8.8]],population:"Centre Tunisie (Steppes)"},{name:"Warfalla",color:"#8e44ad",coordinates:[[31.5,13.5],[31.5,15],[30.5,14.8],[30.6,13.2]],population:"Tripolitaine (Libye)"},{name:"Senussi Tribes",color:"#2980b9",coordinates:[[32,20],[32,22],[30.5,21.5],[30.5,19.8]],population:"Cyrnaque (Libye)"},{name:"Tuareg (Fezzan)",color:"#f39c12",coordinates:[[26,10],[26,12],[24,11.5],[24,9.5]],population:"Sud-Ouest Libye"},{name:"Trarza",color:"#1abc9c",coordinates:[[17.5,-16],[17.5,-13.5],[16.5,-13.5],[16.5,-16.2]],population:"Sud-Ouest Mauritanie"},{name:"Brakna",color:"#16a085",coordinates:[[17.5,-13.4],[17.6,-11.5],[16.6,-11.8],[16.6,-13.3]],population:"Sud Mauritanie"},{name:"Adrar Tribes",color:"#d35400",coordinates:[[21.5,-13.5],[21.5,-11],[19.5,-11.2],[19.5,-13.8]],population:"Plateau de l'Adrar"}],FM=[{name:"Layoune",coords:[27.15,-13.2],importance:"Capitale admin."},{name:"Dakhla",coords:[23.7,-15.95],importance:"Port principal"},{name:"Fes",coords:[34.03,-5],importance:"Ville Impriale"},{name:"Marrakech",coords:[31.62,-7.99],importance:"Ville Impriale"},{name:"Algiers",coords:[36.75,3.05],importance:"Capitale"},{name:"Constantine",coords:[36.36,6.61],importance:"Capitale de l'Est"},{name:"Ghardaa",coords:[32.49,3.67],importance:"Valle du M'zab"},{name:"Tunis",coords:[36.8,10.18],importance:"Capitale"},{name:"Kairouan",coords:[35.67,10.09],importance:"Ville Sainte"},{name:"Tripoli",coords:[32.88,13.19],importance:"Capitale"},{name:"Benghazi",coords:[32.11,20.08],importance:"Cyrnaque"},{name:"Nouakchott",coords:[18.07,-15.95],importance:"Capitale"},{name:"Chinguetti",coords:[20.46,-12.36],importance:"Ville Historique"}];function VM(){const[e,n]=k.useState(!1);return k.useEffect(()=>{n(!0)},[]),e?l.jsxs("div",{className:"absolute inset-0 z-0 w-full h-full",children:[l.jsxs($M,{center:[24.5,-13],zoom:6,zoomControl:!1,scrollWheelZoom:!0,dragging:!0,doubleClickZoom:!0,attributionControl:!1,className:"h-full w-full bg-transparent outline-none",style:{background:"#aad3df",pointerEvents:"auto"},children:[l.jsx(UM,{position:"bottomright"}),l.jsx(BM,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",className:"opacity-60 grayscale-[20%]"}),Bx.map(r=>{const o=r.coordinates.reduce((f,h)=>[f[0]+h[0],f[1]+h[1]],[0,0]).map(f=>f/r.coordinates.length),d=Xp.divIcon({className:"custom-label-marker",html:`<div style="background-color: ${r.color}; color: white; padding: 4px 8px; border-radius: 6px; font-weight: bold; font-size: 10px; white-space: nowrap; box-shadow: 0 2px 4px rgba(0,0,0,0.3); width: max-content; margin-left: -50%; border: 1px solid white;">${r.name.split(" ")[0]}</div>`,iconSize:[0,0]});return l.jsxs("div",{children:[l.jsx(PM,{positions:r.coordinates,pathOptions:{color:r.color,fillColor:r.color,fillOpacity:.3,weight:2},children:l.jsx(Px,{children:l.jsxs("div",{className:"text-sm p-1",children:[l.jsx("h4",{style:{color:r.color},className:"font-bold mb-1",children:r.name}),l.jsxs("p",{children:[l.jsx("strong",{children:"Population:"})," ",r.population]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Type:"})," ",r.name.includes("Reguibat")?"Confdration guerrire":r.name.includes("Oulad")?"Tribu commerante":"Tribu maraboutique"]})]})})}),l.jsx($x,{position:o,icon:d,interactive:!1})]},r.name)}),FM.map(r=>l.jsx($x,{position:r.coords,children:l.jsx(Px,{children:l.jsxs("div",{className:"text-sm p-1",children:[l.jsx("h4",{className:"font-bold mb-1",children:r.name}),l.jsx("p",{children:r.importance})]})})},r.name))]}),l.jsxs("div",{className:"absolute bottom-6 left-6 z-[400] w-[220px] rounded-lg bg-white/90 p-3 shadow-lg border border-gray-200 pointer-events-auto",children:[l.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-700 mb-2 border-b pb-1",children:"Tribes of Western Sahara"}),l.jsxs("div",{className:"space-y-1.5",children:[Bx.map(r=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-sm shrink-0",style:{backgroundColor:r.color}}),l.jsx("span",{className:"text-[10px] font-medium text-gray-800",children:r.name})]},r.name)),l.jsxs("div",{className:"flex items-center gap-2 pt-1 mt-1 border-t border-gray-100",children:[l.jsx("span",{className:"grid place-items-center w-3 h-3",children:l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"})}),l.jsx("span",{className:"text-[10px] font-medium text-gray-800",children:"Major Cities"})]})]})]})]}):l.jsx("div",{className:"w-full h-full bg-[#f8f5ef]/10 flex items-center justify-center animate-pulse",children:l.jsx("span",{className:"text-white/20 text-xs uppercase tracking-widest",children:"Loading Map..."})})}function IM(){const{theme:e}=dn(),{t:n}=fn(),[r,o]=k.useState(null),[d,f]=k.useState([]),[h,g]=k.useState(!1),[x,y]=k.useState([]),b=e==="dark"?"bg-[#151a21]":"bg-white",N=e==="dark"?"border-[#24304A]":"border-[#d8c7b0]",j=e==="dark"?"bg-white/5 border-white/10":"bg-[#5d4037]/5 border-[#d8c7b0]/60",z=String(Ie.defaults.baseURL||"").replace(/\/api\/?$/,""),E=A=>`${z}/api/trees/${A}/gedcom`;k.useEffect(()=>{(async()=>{try{if(localStorage.getItem("mockupDataActive")==="true"){const U=Array.from({length:3}).map((H,P)=>({id:`mock-tree-${P}`,title:`Family Tree of Clan ${P+1}`,description:"Featured public tree.",owner_name:"kameladmin",isPublic:!0,hasGedcom:P%2===0,archiveSource:"National Archive",documentCode:`ALG-${2e3+P}`,createdAt:new Date().toISOString()}));y(U);return}const{data:R}=await Ie.get("/trees");Array.isArray(R)&&y(R.slice(0,3))}catch(A){console.error("Failed to load home trees",A)}})()},[]);const T=async A=>{o(A),f([]),g(!0);try{if(String(A.id).startsWith("mock-")){const U=A.title.split(" ").pop()||"Mock",H=[{id:"m1",names:{en:`Ahmed ${U}`,ar:` ${U}`},gender:"Male",birthYear:"1920",details:"The patriarch.",color:"#f8f5ef",children:["m3","m4"],spouse:"m2"},{id:"m2",names:{en:`Fatima ${U}`,ar:` ${U}`},gender:"Female",birthYear:"1925",details:"Matriarch.",color:"#f8f5ef",children:["m3","m4"],spouse:"m1"},{id:"m3",names:{en:`Omar ${U}`,ar:` ${U}`},gender:"Male",birthYear:"1950",details:"Eldest son.",color:"#f8f5ef",father:"m1",mother:"m2",children:["m5","m6"],spouse:"s1"},{id:"m4",names:{en:`Layla ${U}`,ar:` ${U}`},gender:"Female",birthYear:"1955",details:"Daughter.",color:"#f8f5ef",father:"m1",mother:"m2",children:["m7"],spouse:"s2"},{id:"s1",names:{en:"Amina Al-Jazairi",ar:" "},gender:"Female",birthYear:"1952",details:"Wife of Omar.",color:"#f8f5ef",spouse:"m3",children:["m5","m6"]},{id:"s2",names:{en:"Youssef Al-Tunisi",ar:" "},gender:"Male",birthYear:"1950",details:"Husband of Layla.",color:"#f8f5ef",spouse:"m4",children:["m7"]},{id:"m5",names:{en:`Khaled ${U}`,ar:` ${U}`},gender:"Male",birthYear:"1980",details:"Grandson.",color:"#f8f5ef",father:"m3",mother:"s1"},{id:"m6",names:{en:`Zainab ${U}`,ar:` ${U}`},gender:"Female",birthYear:"1985",details:"Granddaughter.",color:"#f8f5ef",father:"m3",mother:"s1"},{id:"m7",names:{en:"Hassan Al-Tunisi",ar:" "},gender:"Male",birthYear:"1982",details:"Grandson.",color:"#f8f5ef",father:"s2",mother:"m4"}];f(H),g(!1);return}if(!A.hasGedcom){g(!1);return}const{data:R}=await Ie.get(`/trees/${A.id}/gedcom`,{responseType:"text"});f(jf(R))}catch(R){console.error("Failed to view tree",R),f([])}finally{g(!1)}};return l.jsxs("div",{className:"heritage-page-root",children:[l.jsxs("section",{className:"heritage-hero",children:[l.jsx("div",{className:"absolute inset-0 z-1 opacity-100 pointer-events-auto",children:l.jsx(VM,{})}),l.jsxs("div",{className:"relative z-20 text-center space-y-8",style:{pointerEvents:"none"},children:[l.jsx("h1",{className:"pointer-events-auto",children:n("home_hero_title","Discover Your Maghreb Heritage")}),l.jsx("p",{className:"pointer-events-auto",children:"Journey through centuries of lineage, culture, identity and North African civilization. Preserve the stories that shaped your family - from Ottoman registers to modern civil archives."}),l.jsx(Qn,{to:"/library",className:"hero-cta pointer-events-auto text-black hover:text-dark dark:text-white",children:n("start_exploring","Start Exploring")})]})]}),l.jsx("section",{className:"roots-section roots-section-alt mb-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"roots-heading",children:n("family_tree_builder","Family Tree Builder")}),l.jsx("p",{className:"max-w-3xl mx-auto text-lg opacity-90",children:"Visualize your ancestry with a detailed interactive tree. Add generations, connect relatives, store historical documents, dates, photos and oral stories. Our builder supports Amazigh, Ottoman, Arabic, Colonial & modern naming formats."})]}),x.length>0&&l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:x.map(A=>{const R=Number.isFinite(Number(A.id))&&A.hasGedcom;return l.jsxs("div",{className:`${b} border ${N} rounded-2xl shadow-xl overflow-hidden`,"data-aos":"fade-up",children:[l.jsx("div",{className:"p-5 border-b border-white/5 bg-gradient-to-r from-[#5d4037]/10 to-transparent",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-[#5d4037] opacity-70",children:n("trees","Family Trees")}),l.jsx("h3",{className:"text-2xl font-bold truncate",children:A.title}),l.jsxs("p",{className:"text-sm opacity-70 flex items-center gap-1",children:[l.jsx(pp,{className:"w-3 h-3"}),A.owner||A.owner_name||"Admin"]})]}),l.jsx("span",{className:`text-[10px] uppercase tracking-[0.2em] px-3 py-1 rounded-full border ${N}`,children:A.isPublic?n("public","Public"):n("private","Private")})]})}),l.jsxs("div",{className:"p-5 space-y-4",children:[l.jsx("p",{className:"text-sm opacity-80",children:A.description||"Discover this public family lineage."}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[l.jsxs("div",{className:`${j} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(ya,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("archive_source","Archive Source")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:A.archiveSource||n("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${j} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(Ha,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("document_code","Document Code")}),l.jsx("p",{className:"text-xs font-semibold font-mono break-words",children:A.documentCode||n("not_provided","Not provided")})]})]})]}),l.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[l.jsx(vr,{className:"w-4 h-4"}),A.hasGedcom?n("has_file","Has file"):n("no_file","No file")]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>T(A),className:`px-4 py-2 rounded-md border ${N} hover:opacity-90 inline-flex items-center gap-2`,children:[l.jsx(gp,{className:"w-4 h-4"}),n("view_tree","View Tree")]}),R?l.jsxs("a",{href:E(A.id),className:"px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition inline-flex items-center gap-2",target:"_blank",rel:"noreferrer",children:[l.jsx(cs,{className:"w-4 h-4"}),n("download_gedcom","Download GEDCOM")]}):null]})]})]},A.id)})}),l.jsx("div",{className:"roots-grid grid-cols-1 md:grid-cols-3",children:[{icon:vr,title:"Build Multi-Generational Trees",desc:"Connect parents, grandparents, historical ancestors & extended families."},{icon:of,title:"Attach Historical Documents",desc:"Upload birth records, marriage papers, ANOM archives, manuscripts & more."},{icon:pN,title:"Trace Migration Paths",desc:"Discover how your lineage moved across regions: Kabylia, Sahara, Tunisia, Morocco..."}].map((A,R)=>l.jsxs("div",{className:"roots-card text-center","data-aos":"zoom-up",children:[l.jsx(A.icon,{className:"w-12 h-12 mx-auto mb-4 text-[#5d4037]"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:A.title}),l.jsx("p",{className:"opacity-90",children:A.desc})]},R))}),l.jsx("div",{className:"text-center mt-8",children:l.jsx(Qn,{to:"/library",className:"roots-cta",children:n("see_more","See more")})})]})}),l.jsx("section",{className:"roots-section mb-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 text-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"roots-heading",children:n("ancestral_stories","Ancestral Stories")}),l.jsx("p",{className:"max-w-3xl mx-auto text-lg opacity-90",children:"Every Maghreb family carries oral histories, legendary figures, migrations and struggles. Preserve your family's unique story through structured narrative timelines, memories, recorded interviews, and ancestral photo restoration."})]}),l.jsx("div",{className:"roots-grid grid-cols-1 md:grid-cols-3",children:[{icon:jN,title:"Record Oral Histories",desc:"Interview elders and preserve memories, sayings, poetry & Berber traditions."},{icon:Vn,title:"Document Family Traditions",desc:"Tell the story behind your family's customs, crafts, cuisine, and celebrations."},{icon:vr,title:"Reconstruct Lost Branches",desc:"Use Ottoman archives, French colonial records, and tribal memory to rebuild lost links."}].map((A,R)=>l.jsxs("div",{className:"roots-card","data-aos":"zoom-in",children:[l.jsx(A.icon,{className:"w-12 h-12 mx-auto mb-4 text-[#d4af37]"}),l.jsx("h3",{className:"text-xl font-bold mb-3",children:A.title}),l.jsx("p",{className:"opacity-90",children:A.desc})]},R))}),l.jsx(Qn,{to:"/library",className:"roots-cta",children:n("see_more","See more")})]})}),l.jsx("section",{className:"roots-section roots-section-alt mb-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 text-center","data-aos":"fade-up",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"roots-heading",children:n("library_title","North African Genealogy Library")}),l.jsx("p",{className:"max-w-3xl mx-auto text-lg opacity-90",children:"Access a curated library of historical books, manuscripts, genealogical rolls, French colonial civil records, Ottoman diwans, tribal documents, and regional archives from Algeria, Morocco, Tunisia, Mauritania, and Libya."})]}),l.jsx("div",{className:"roots-grid grid-cols-1 md:grid-cols-3",children:["Manuscripts & Family Records","Colonial Birth/Marriage/Death Registers","Tribal Genealogy Books (Nasab)","Ottoman & Qadi Registers","Berber Oral Heritage Collections","North African Migration Maps"].map((A,R)=>l.jsx("div",{className:"roots-card flex items-center justify-center p-6","data-aos":"fade-up",children:l.jsx("p",{className:"font-bold text-lg",children:A})},R))}),l.jsx(Qn,{to:"/library",className:"roots-cta",children:n("see_more","See more")})]})}),l.jsx("section",{className:"roots-section mb-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 text-center","data-aos":"fade-up",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"roots-heading",children:n("archives_and_sources","Archives and Sources")}),l.jsx("p",{className:"max-w-3xl mx-auto text-lg opacity-90",children:"Discover the key historical sources used by genealogists: ANOM, Ottoman archives, Qadi justice books, Habous registers, municipal civil status and early census attempts."})]}),l.jsx("div",{className:"roots-grid grid-cols-1 md:grid-cols-3",children:["Ottoman Court Records (Mahkama)","Qadi Marriage & Inheritance Documents","Habous Property Registries","ANOM French Colonial Archives","1863 Senatus-Consulte Tribal Maps","APC Municipal Civil Records"].map((A,R)=>l.jsx("div",{className:"roots-card flex items-center justify-center p-6","data-aos":"flip-up",children:l.jsx("p",{className:"font-semibold",children:A})},R))}),l.jsx(Qn,{to:"/archives",className:"roots-cta",children:n("see_more","See more")})]})}),r&&l.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-[#2c1810] w-full max-w-[90vw] h-[90vh] rounded-lg shadow-2xl border border-[#e8dfca] flex flex-col overflow-hidden relative",children:[l.jsxs("div",{className:"p-4 border-b border-[#d4af37]/30 flex items-center justify-between bg-[#f8f5ef] dark:bg-[#3e2723]",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-[#5d4037] dark:text-[#d4af37]",children:[l.jsx(vr,{className:"w-5 h-5"}),r.title]}),l.jsx("p",{className:"text-xs opacity-60",children:"Viewing Mode - Read Only"})]}),l.jsx("button",{onClick:()=>o(null),className:"p-2 rounded-full hover:bg-black/10 transition-colors",children:l.jsx(_a,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 relative bg-[#f5f1e8] dark:bg-[#1a0a05] overflow-hidden",children:h?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#5d4037]"})}):l.jsx(Ip,{fallback:({error:A,reset:R})=>l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsxs("div",{className:"rounded-lg border border-[#e8dfca] bg-white/90 px-6 py-5 text-sm text-[#5d4037] shadow-xl",children:[l.jsx("div",{className:"font-semibold",children:n("tree_builder_error","Tree builder failed to load.")}),l.jsx("div",{className:"opacity-70",children:A?.message||n("tree_builder_try_again","Please try again.")}),l.jsx("button",{type:"button",onClick:R,className:"mt-3 inline-flex items-center rounded-md border border-[#e8dfca] px-3 py-1 text-xs font-semibold uppercase tracking-wide",children:n("retry","Retry")})]})}),children:l.jsx(Vp,{people:d,setPeople:f,readOnly:!0})})})]})}),l.jsx("section",{className:"roots-section roots-section-alt",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 text-center","data-aos":"zoom-in",children:[l.jsx("h2",{className:"roots-heading",children:n("join_our_community","Join Our Community")}),l.jsx("p",{className:"max-w-3xl mx-auto text-lg opacity-90",children:"Share your findings, ask for translation help, and connect with distant cousins."}),l.jsx(Qn,{to:"/signup",className:"roots-cta",children:n("join_now","Join Now")})]})})]})}const Qp=()=>String(Ie.defaults.baseURL||"").replace(/\/api\/?$/,""),Fa=e=>{const n=e?.response?.status;return n===404||n===405||n===501},va=async(e,n=Fa)=>{let r;for(const o of e)try{return await o()}catch(d){if(r=d,!n(d))break}throw r},Xt=(e,n="Operation failed",r={})=>{const o=e?.response?.status,d=e?.response?.data?.message||e?.response?.data?.error;return e?.code==="AUTH_MISSING"?r.unauthorized||"Please log in to continue.":o===401?r.unauthorized||d||"Session expired. Please log in again.":o===403?r.forbidden||d||"You do not have permission to perform this action.":o===404?r.notFound||d||"Endpoint not found.":o===413?r.tooLarge||d||"File is too large.":o===415?r.unsupported||d||"Unsupported file type.":o===422?r.invalid||d||"Invalid data provided.":o===503?r.unavailable||d||"Service unavailable. Please try again later.":e?.code==="ERR_NETWORK"?r.network||"Network error. Please try again.":d||n};function Nr({hero:e,heroClassName:n="",children:r,className:o=""}){return l.jsxs("div",{className:`roots-shell ${o}`,children:[e?l.jsx("section",{className:`heritage-hero text-center ${n}`,children:e}):null,l.jsx("div",{className:"space-y-10",children:r})]})}const GM=e=>{const n=Number(e)||0;if(!n)return"";const r=["B","KB","MB","GB"],o=Math.min(Math.floor(Math.log(n)/Math.log(1024)),r.length-1),d=n/Math.pow(1024,o);return`${d.toFixed(d>=10||o===0?0:1)} ${r[o]}`},Wo=e=>[...e].sort((n,r)=>{const o=n?.createdAt?new Date(n.createdAt).getTime():0;return(r?.createdAt?new Date(r.createdAt).getTime():0)-o});function YM(){const{theme:e}=dn(),{t:n}=fn(),r=Wi(),[o,d]=k.useState([]),[f,h]=k.useState([]),[g,x]=k.useState([]),[y,b]=k.useState(!0),[N,j]=k.useState(""),[z,E]=k.useState(""),[T,A]=k.useState(""),[R,U]=k.useState(""),[H,P]=k.useState(""),[I,Z]=k.useState("all"),[J,F]=k.useState("all"),[de,ve]=k.useState("all"),[ge,te]=k.useState("all"),[se,B]=k.useState("all"),[me,D]=k.useState(null),[oe,le]=k.useState(null),[Ae,ce]=k.useState([]),[$,ae]=k.useState(!1),Q=k.useMemo(()=>Qp(),[]);k.useEffect(()=>{Va.init({duration:900,once:!0})},[]),k.useEffect(()=>{const fe=new URLSearchParams(r.search).get("q");P(fe||"")},[r.search]),k.useEffect(()=>{let q=!0;return(async()=>{try{b(!0),j(""),E(""),A(""),U("");const fe=!1,[Ze,ut,et]=await Promise.allSettled([Ie.get("/books"),Ie.get("/trees"),Ie.get("/gallery")]);if(!q)return;let Ct=[];if(Ze.status==="fulfilled"){const Ue=Ze.value?.data;Ue?.success&&Array.isArray(Ue.data)?Ct=Ue.data:Array.isArray(Ue)&&(Ct=Ue)}let tn=ut.status==="fulfilled"&&Array.isArray(ut.value?.data)?ut.value.data:[],St=[];if(et.status==="fulfilled"){const Ue=et.value?.data;Ue?.success&&Array.isArray(Ue.data)?St=Ue.data:Array.isArray(Ue?.gallery)?St=Ue.gallery:Array.isArray(Ue)&&(St=Ue)}const Kt=!fe&&Ze.status==="rejected"?Xt(Ze.reason,"Failed to load books"):"",$e=!fe&&ut.status==="rejected"?Xt(ut.reason,"Failed to load trees"):"",Fe=!fe&&et.status==="rejected"?Xt(et.reason,"Failed to load gallery"):"";d(Ct),h(tn),x(St),E(Kt),A($e),U(Fe);const at=[Ze,ut,et].filter(Ue=>Ue.status==="rejected");at.length===3&&!fe&&j(Xt(at[0].reason,"Failed to load library data"))}catch(fe){if(!q)return;j(Xt(fe,"Failed to load library data"))}finally{q&&b(!1)}})(),()=>{q=!1}},[]);const W=k.useMemo(()=>{const q=new Set;for(const fe of o){const Ze=String(fe.category||"").trim();Ze&&q.add(Ze)}return Array.from(q).sort((fe,Ze)=>fe.localeCompare(Ze))},[o]),Ne=k.useMemo(()=>{const q=new Set;for(const fe of g){const Ze=String(fe.location||"").trim();Ze&&q.add(Ze)}return Array.from(q).sort((fe,Ze)=>fe.localeCompare(Ze))},[g]),Me=k.useMemo(()=>{const q=new Set;for(const fe of g){const Ze=String(fe.year||"").trim();Ze&&q.add(Ze)}return Array.from(q).sort((fe,Ze)=>fe.localeCompare(Ze))},[g]),Le=H.trim().toLowerCase(),Y=I==="all"||I==="books",we=I==="all"||I==="trees",De=I==="all"||I==="images",He=k.useMemo(()=>{const q=o.filter(fe=>{const Ze=String(fe.category||"");return J!=="all"&&Ze!==J?!1:Le?[fe.title,fe.author,fe.description,fe.category].filter(Boolean).join(" ").toLowerCase().includes(Le):!0});return Wo(q)},[o,J,Le]),st=k.useMemo(()=>{const q=f.filter(fe=>de==="with-gedcom"&&!fe.hasGedcom?!1:Le?[fe.title,fe.description,fe.owner,fe.archiveSource,fe.documentCode].filter(Boolean).join(" ").toLowerCase().includes(Le):!0);return Wo(q)},[f,de,Le]),it=k.useMemo(()=>{const q=g.filter(fe=>ge!=="all"&&fe.location!==ge||se!=="all"&&String(fe.year)!==String(se)?!1:Le?[fe.title,fe.description,fe.location,fe.archiveSource,fe.documentCode,fe.year,fe.photographer].filter(Boolean).join(" ").toLowerCase().includes(Le):!0);return Wo(q)},[g,ge,se,Le]),Ve=Wo(o)[0],tt=Wo(f)[0],Rt=Wo(g)[0],Tt=q=>{const fe=String(q||"");return fe?fe.startsWith("http")?fe:fe.startsWith("/")?`${Q}${fe}`:`${Q}/${fe}`:""},ne=q=>`${Q}/api/books/${q}/download`,Te=q=>`${Q}/api/trees/${q}/gedcom`,O=q=>!Number.isFinite(Number(q?.id)),K=async q=>{if(q){le(q),ce([]),ae(!0);try{if(O(q)){const Ze=String(q.title||"Mock").split(" ").pop()||"Mock";ce([{id:"m1",names:{en:`Ahmed ${Ze}`},gender:"Male",birthYear:"1920",details:"Patriarch.",color:"#f8f5ef",children:["m2"]},{id:"m2",names:{en:`Fatima ${Ze}`},gender:"Female",birthYear:"1925",details:"Matriarch.",color:"#f8f5ef",spouse:"m1"}]);return}if(!q.hasGedcom)return;const{data:fe}=await Ie.get(`/trees/${q.id}/gedcom`,{responseType:"text"});ce(jf(fe))}catch(fe){console.error("Failed to view tree",fe),ce([])}finally{ae(!1)}}},ee=e==="dark"?"bg-[#151a21]":"bg-white",pe=e==="dark"?"border-[#24304A]":"border-[#d8c7b0]",V=e==="dark"?"bg-[#171c25]":"bg-[#E7EEFF]",re=e==="dark"?"bg-white/5 border-white/10":"bg-[#5d4037]/5 border-[#d8c7b0]/60",_e=me?.imagePath?Tt(me.imagePath):"";return l.jsxs(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#d4af37]",children:n("library","Library")}),l.jsx("h1",{className:"text-5xl font-bold",children:n("library_title","North African Genealogy Library")}),l.jsx("p",{className:"max-w-4xl mx-auto text-lg opacity-90",children:n("library_intro","Books, family trees, and archival photography in one curated library.")})]}),children:[l.jsx("section",{className:"roots-section roots-section-alt","data-aos":"fade-up",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4",children:n("library_search","Search the library")}),l.jsxs("div",{className:`grid gap-4 md:grid-cols-[2fr_1fr_1fr] items-center p-6 rounded-xl border ${pe}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(br,{className:"absolute left-3 top-3 text-[#5d4037] opacity-80 w-5 h-5"}),l.jsx("input",{type:"text",value:H,onChange:q=>P(q.target.value),placeholder:n("search_library","Search books, trees, images..."),className:`w-full pl-10 py-3 rounded-md bg-transparent border ${pe} outline-none ${e==="dark"?"text-white":"text-[#2c1810]"}`})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(c0,{className:"w-5 h-5 text-[#5d4037]"}),l.jsxs("select",{value:I,onChange:q=>Z(q.target.value),className:`w-full px-4 py-3 rounded-md bg-transparent border ${pe} outline-none ${e==="dark"?"text-white":"text-[#2c1810]"}`,children:[l.jsx("option",{value:"all",children:n("all_content","All content")}),l.jsx("option",{value:"books",children:n("books","Books")}),l.jsx("option",{value:"trees",children:n("trees","Family Trees")}),l.jsx("option",{value:"images",children:n("images","Images")})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Vn,{className:"w-5 h-5 text-[#5d4037]"}),l.jsxs("select",{value:J,onChange:q=>F(q.target.value),className:`w-full px-4 py-3 rounded-md bg-transparent border ${pe} outline-none ${e==="dark"?"text-white":"text-[#2c1810]"}`,children:[l.jsx("option",{value:"all",children:n("all_categories","All Categories")}),W.map(q=>l.jsx("option",{value:q,children:q},q))]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(gd,{className:"w-5 h-5 text-[#5d4037]"}),l.jsxs("select",{value:de,onChange:q=>ve(q.target.value),className:`w-full px-4 py-2 rounded-md bg-transparent border ${pe} outline-none ${e==="dark"?"text-white":"text-[#2c1810]"}`,children:[l.jsx("option",{value:"all",children:n("all_trees","All Trees")}),l.jsx("option",{value:"with-gedcom",children:n("with_gedcom","With GEDCOM file")})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Sc,{className:"w-5 h-5 text-[#5d4037]"}),l.jsxs("select",{value:ge,onChange:q=>te(q.target.value),className:`w-full px-4 py-2 rounded-md bg-transparent border ${pe} outline-none ${e==="dark"?"text-white":"text-[#2c1810]"}`,children:[l.jsx("option",{value:"all",children:n("all_locations","All Locations")}),Ne.map(q=>l.jsx("option",{value:q,children:q},q))]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zd,{className:"w-5 h-5 text-[#5d4037]"}),l.jsxs("select",{value:se,onChange:q=>B(q.target.value),className:`w-full px-4 py-2 rounded-md bg-transparent border ${pe} outline-none ${e==="dark"?"text-white":"text-[#2c1810]"}`,children:[l.jsx("option",{value:"all",children:n("all_years","All Years")}),Me.map(q=>l.jsx("option",{value:q,children:q},q))]})]})]})]})}),l.jsxs("section",{className:"roots-section","data-aos":"fade-up",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-6",children:n("latest_updates","Latest uploads")}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:`${ee} p-6 rounded-2xl shadow-lg border ${pe}`,children:[l.jsx(Vn,{className:"w-8 h-8 text-[#d4af37] mb-4"}),l.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-[#5d4037] mb-2",children:n("latest_book","Latest book")}),Ve?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-xl font-bold",children:Ve.title}),l.jsx("p",{className:"text-sm opacity-80 mt-1",children:Ve.author||n("unknown","Unknown")}),l.jsx("p",{className:"text-sm opacity-80 mt-3",children:Ve.description||n("no_description","No description.")})]}):l.jsx("p",{className:"opacity-70",children:n("no_books_found","No books found.")})]}),l.jsxs("div",{className:`${ee} p-6 rounded-2xl shadow-lg border ${pe}`,children:[l.jsx(gd,{className:"w-8 h-8 text-[#d4af37] mb-4"}),l.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-[#5d4037] mb-2",children:n("latest_tree","Latest tree")}),tt?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-xl font-bold",children:tt.title}),l.jsx("p",{className:"text-sm opacity-80 mt-1",children:tt.owner||n("unknown","Unknown")}),l.jsx("p",{className:"text-sm opacity-80 mt-3",children:tt.description||n("no_description","No description.")})]}):l.jsx("p",{className:"opacity-70",children:n("no_trees_found","No trees found.")})]}),l.jsxs("div",{className:`${ee} p-6 rounded-2xl shadow-lg border ${pe}`,children:[l.jsx(us,{className:"w-8 h-8 text-[#d4af37] mb-4"}),l.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-[#5d4037] mb-2",children:n("latest_image","Latest image")}),Rt?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-xl font-bold",children:Rt.title}),l.jsx("p",{className:"text-sm opacity-80 mt-1",children:Rt.location||n("unknown","Unknown")}),l.jsx("p",{className:"text-sm opacity-80 mt-3",children:Rt.description||n("no_description","No description.")})]}):l.jsx("p",{className:"opacity-70",children:n("no_photos_available","No photos available yet")})]})]})]}),y?l.jsx("section",{className:"roots-section",children:l.jsx("div",{className:"text-center opacity-70",children:n("loading","Loading...")})}):N?l.jsx("section",{className:"roots-section",children:l.jsx("div",{className:"text-center text-red-500 font-semibold",children:N})}):null,Y&&!y&&!N&&l.jsxs("section",{className:"roots-section roots-section-alt","data-aos":"fade-up",children:[l.jsxs("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-6",children:[n("books","Books")," (",He.length,")"]}),z?l.jsx("div",{className:"mb-4 text-sm text-red-500 font-semibold",children:z}):null,He.length===0?l.jsx("div",{className:`${ee} p-8 rounded-xl shadow-xl border ${pe} text-center opacity-70`,children:z?n("books_unavailable","Books are temporarily unavailable."):n("no_books_found","No books found.")}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10",children:He.map(q=>{const fe=q.coverUrl?Tt(q.coverUrl):"";return l.jsxs("div",{className:`${ee} border ${pe} rounded-2xl overflow-hidden shadow-xl group transition hover:-translate-y-1`,"data-aos":"zoom-in",children:[l.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-[#5d4037]/15 to-[#d4af37]/10",children:[fe?l.jsx("img",{src:fe,alt:q.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-700",loading:"lazy"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#5d4037] opacity-60",children:l.jsx(Vn,{className:"w-14 h-14"})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-70"}),l.jsxs("div",{className:"absolute left-4 bottom-4",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-white/70",children:n("books","Books")}),l.jsx("h3",{className:"text-lg font-bold text-white line-clamp-2",children:q.title})]})]}),l.jsxs("div",{className:"p-5 space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold truncate",children:q.author||n("unknown","Unknown")}),l.jsx("p",{className:"text-xs opacity-70 truncate",children:q.category||n("uncategorized","Uncategorized")})]}),l.jsx(Vn,{className:"w-5 h-5 text-[#d4af37]"})]}),l.jsx("p",{className:"text-sm opacity-80 line-clamp-3",children:q.description||n("no_description","No description.")}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[q.fileSize?l.jsxs("span",{className:`${re} border rounded-full px-3 py-1`,children:[n("file_label","File"),":"," ",GM(q.fileSize)]}):null,typeof q.downloads=="number"?l.jsxs("span",{className:`${re} border rounded-full px-3 py-1`,children:[n("downloads_label","Downloads"),":"," ",q.downloads]}):null]}),l.jsxs("div",{className:"pt-2 flex flex-wrap gap-2",children:[Number.isFinite(Number(q.id))?l.jsxs("a",{href:ne(q.id),className:"px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition inline-flex items-center gap-2",target:"_blank",rel:"noreferrer",children:[l.jsx(cs,{className:"w-4 h-4"}),n("download","Download")]}):null,q.fileUrl?l.jsxs("button",{type:"button",onClick:()=>window.open(Tt(q.fileUrl),"_blank","noopener,noreferrer"),className:`px-4 py-2 rounded-md border ${pe} hover:opacity-90 inline-flex items-center gap-2`,children:[l.jsx(l0,{className:"w-4 h-4"}),n("open","Open")]}):null]})]})]},q.id)})})]}),we&&!y&&!N&&l.jsxs("section",{className:"roots-section","data-aos":"fade-up",children:[l.jsxs("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-6",children:[n("trees","Family Trees")," (",st.length,")"]}),T?l.jsx("div",{className:"mb-4 text-sm text-red-500 font-semibold",children:T}):null,st.length===0?l.jsx("div",{className:`${ee} p-8 rounded-xl shadow-xl border ${pe} text-center opacity-70`,children:T?n("trees_unavailable","Trees are temporarily unavailable."):n("no_trees_found","No trees found.")}):l.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:st.map(q=>{const fe=Number.isFinite(Number(q.id))&&q.hasGedcom;return l.jsxs("div",{className:`${ee} border ${pe} rounded-2xl shadow-xl overflow-hidden`,"data-aos":"fade-up",children:[l.jsx("div",{className:"p-5 border-b border-white/5 bg-gradient-to-r from-[#5d4037]/10 to-transparent",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-[#5d4037] opacity-70",children:n("trees","Family Trees")}),l.jsx("h3",{className:"text-2xl font-bold truncate",children:q.title}),l.jsx("p",{className:"text-sm opacity-70",children:q.owner||n("unknown","Unknown")})]}),l.jsx("span",{className:`text-[10px] uppercase tracking-[0.2em] px-3 py-1 rounded-full border ${pe}`,children:q.isPublic?n("public","Public"):n("private","Private")})]})}),l.jsxs("div",{className:"p-5 space-y-4",children:[l.jsx("p",{className:"text-sm opacity-80",children:q.description||n("no_description","No description.")}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(ya,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("archive_source","Archive Source")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:q.archiveSource||n("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(Ha,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("document_code","Document Code")}),l.jsx("p",{className:"text-xs font-semibold font-mono break-words",children:q.documentCode||n("not_provided","Not provided")})]})]})]}),l.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[l.jsx(vr,{className:"w-4 h-4"}),q.hasGedcom?n("has_file","Has file"):n("no_file","No file")]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>K(q),className:`px-4 py-2 rounded-md border ${pe} hover:opacity-90 inline-flex items-center gap-2`,children:[l.jsx(gp,{className:"w-4 h-4"}),n("view_tree","View Tree")]}),fe?l.jsxs("a",{href:Te(q.id),className:"px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition inline-flex items-center gap-2",target:"_blank",rel:"noreferrer",children:[l.jsx(cs,{className:"w-4 h-4"}),n("download_gedcom","Download GEDCOM")]}):null]})]})]},q.id)})})]}),De&&!y&&!N&&l.jsxs("section",{className:"roots-section roots-section-alt","data-aos":"fade-up",children:[l.jsxs("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-6",children:[n("images","Images")," (",it.length,")"]}),R?l.jsx("div",{className:"mb-4 text-sm text-red-500 font-semibold",children:R}):null,it.length===0?l.jsx("div",{className:`${ee} p-8 rounded-xl shadow-xl border ${pe} text-center opacity-70`,children:R?n("images_unavailable","Images are temporarily unavailable."):n("no_photos_available","No photos available yet")}):l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:it.map(q=>{const fe=q.imagePath?Tt(q.imagePath):"";return l.jsxs("div",{className:`${ee} border ${pe} rounded-2xl overflow-hidden shadow-xl group`,"data-aos":"zoom-in",children:[l.jsx("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-[#5d4037]/10 to-[#d4af37]/10",children:fe?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:fe,alt:q.title||"Gallery",className:"w-full h-full object-cover group-hover:scale-110 transition duration-700",loading:"lazy"}),l.jsx("button",{type:"button",onClick:()=>D(q),className:"absolute inset-0 bg-black/0 hover:bg-black/40 transition flex items-center justify-center cursor-zoom-in",children:l.jsx("span",{className:"px-4 py-2 rounded-full border border-white/70 text-white text-xs uppercase tracking-[0.3em]",children:n("view","View")})})]}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#5d4037] opacity-40",children:l.jsx(us,{className:"w-12 h-12"})})}),l.jsxs("div",{className:"p-5 space-y-3",children:[l.jsx("h3",{className:"text-lg font-bold",children:q.title}),q.description?l.jsx("p",{className:"text-sm opacity-80 line-clamp-3",children:q.description}):null,l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs opacity-70",children:[q.location?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Sc,{className:"w-3 h-3"}),q.location]}):null,q.year?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(zd,{className:"w-3 h-3"}),q.year]}):null]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(ya,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("archive_source","Archive Source")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:q.archiveSource||n("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(Ha,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("document_code","Document Code")}),l.jsx("p",{className:"text-xs font-semibold font-mono break-words",children:q.documentCode||n("not_provided","Not provided")})]})]})]})]})]},q.id)})})]}),l.jsxs("section",{className:"roots-section roots-section-alt",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4",children:n("explore_by_category","Explore by Category")}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8 mt-6",children:[{icon:Vn,title:n("library_category_manuscripts","Manuscripts"),color:"#5d4037"},{icon:gd,title:n("trees","Family Trees"),color:"#556b2f"},{icon:us,title:n("library_category_photos","Photo Archives"),color:"#d4af37"}].map(q=>l.jsxs("div",{className:`${V} p-8 rounded-xl shadow-lg text-center border ${pe}`,"data-aos":"zoom-in",children:[l.jsx(q.icon,{className:"w-12 h-12 mx-auto mb-4",style:{color:q.color}}),l.jsx("h3",{className:"text-xl font-bold",children:q.title})]},q.title))})]}),me&&l.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>D(null),children:[l.jsx("button",{type:"button",onClick:()=>D(null),className:"absolute top-6 right-6 text-white hover:text-[#d4af37] transition z-10 bg-black/40 hover:bg-black/60 rounded-full p-3","aria-label":n("close","Close"),children:l.jsx(_a,{className:"w-6 h-6"})}),l.jsxs("div",{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto",onClick:q=>q.stopPropagation(),children:[l.jsx("div",{className:"relative mb-6",children:_e?l.jsx("img",{src:_e,alt:me.title||"Gallery",className:"w-full max-h-[70vh] object-contain rounded-2xl shadow-2xl"}):l.jsx("div",{className:"w-full h-[50vh] flex items-center justify-center rounded-2xl border border-white/10 bg-black/40 text-white/60",children:l.jsx(us,{className:"w-12 h-12"})})}),l.jsxs("div",{className:`${ee} p-6 rounded-2xl border ${pe} shadow-2xl`,children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("h2",{className:"text-2xl font-bold",children:me.title||n("image","Image")}),_e?l.jsxs("a",{href:_e,download:!0,className:"px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition inline-flex items-center gap-2",children:[l.jsx(cs,{className:"w-4 h-4"}),n("download","Download")]}):null]}),me.description?l.jsx("p",{className:"text-sm opacity-80 mt-3",children:me.description}):null,l.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(ya,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("archive_source","Archive Source")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:me.archiveSource||n("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(Ha,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("document_code","Document Code")}),l.jsx("p",{className:"text-xs font-semibold font-mono break-words",children:me.documentCode||n("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(Sc,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("location","Location")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:me.location||n("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${re} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(zd,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:n("year","Year")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:me.year||n("not_provided","Not provided")})]})]})]})]})]})]}),oe&&l.jsx("div",{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>{le(null),ce([])},children:l.jsxs("div",{className:`${ee} w-full max-w-[92vw] h-[calc(90vh-6rem)] mt-16 rounded-2xl border ${pe} shadow-2xl flex flex-col overflow-hidden`,onClick:q=>q.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center justify-between bg-black/5",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(gd,{className:"w-5 h-5 text-[#d4af37]"}),oe.title]}),l.jsx("p",{className:"text-xs opacity-60",children:n("viewing_mode","Viewing Mode - Read Only")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[Number.isFinite(Number(oe.id))&&oe.hasGedcom?l.jsxs("a",{href:Te(oe.id),className:"px-3 py-2 rounded-md text-white font-medium bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition inline-flex items-center gap-2 text-sm",target:"_blank",rel:"noreferrer",children:[l.jsx(cs,{className:"w-4 h-4"}),n("download_gedcom","Download GEDCOM")]}):null,l.jsx("button",{type:"button",onClick:()=>{le(null),ce([])},className:"p-2 rounded-full hover:bg-black/10 transition","aria-label":n("close","Close"),children:l.jsx(_a,{className:"w-6 h-6"})})]})]}),l.jsx("div",{className:"flex-1 relative bg-black/5 overflow-hidden",children:$?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#d4af37]"})}):oe.hasGedcom||Ae.length?l.jsx(Ip,{fallback:({error:q,reset:fe})=>l.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:l.jsxs("div",{className:"rounded-lg border border-[#d8c7b0] bg-white/90 px-6 py-5 text-sm text-[#5d4037] shadow-xl",children:[l.jsx("div",{className:"font-semibold",children:n("tree_builder_error","Tree builder failed to load.")}),l.jsx("div",{className:"opacity-70",children:q?.message||n("tree_builder_try_again","Please try again.")}),l.jsx("button",{type:"button",onClick:fe,className:"mt-3 inline-flex items-center rounded-md border border-[#d8c7b0] px-3 py-1 text-xs font-semibold uppercase tracking-wide",children:n("retry","Retry")})]})}),children:l.jsx(Vp,{people:Ae,setPeople:ce,readOnly:!0})}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-sm opacity-70",children:n("no_gedcom_available","No GEDCOM file available yet.")})})]})})]})}function XM(){const{theme:e}=dn(),{t:n}=fn();k.useEffect(()=>{Va.init({duration:900,once:!0})},[]);const r=e==="dark"?"bg-[#1c1110]":"bg-white",o=e==="dark"?"border-[#2c1810]":"border-[#d8c7b0]",d=[{title:n("periods_ottoman_title","Ottoman Period (1516-1830)"),icon:vN,accent:"#d4af37",description:n("periods_ottoman_desc","Patronymic lineages, Qadi archives, waqf documents, and tribal authority defined family structures."),bullets:[n("periods_ottoman_b1","Patronymic naming: Ahmed ben Mohamed ben Ali"),n("periods_ottoman_b2","Qadi court registers for marriage & inheritance"),n("periods_ottoman_b3","Habous & religious property documentation"),n("periods_ottoman_b4","Tribal councils and zawiya genealogies")]},{title:n("periods_transition_title","Transition (1830-1882)"),icon:m0,accent:"#5d4037",description:n("periods_transition_desc","French military governance introduced civil status experiments alongside traditional systems."),bullets:[n("periods_transition_b1","Arab Bureau colonial oversight"),n("periods_transition_b2","Early census and registration attempts"),n("periods_transition_b3","Ethnographic reports on tribal structure"),n("periods_transition_b4","Military records for controlled regions")]},{title:n("periods_colonial_title","Colonial Era (1882-1962)"),icon:Vn,accent:"#556b2f",description:n("periods_colonial_desc","Fixed surnames and modern civil architecture created systematic records preserved at ANOM."),bullets:[n("periods_colonial_b1","Surnames fixation law (1882)"),n("periods_colonial_b2","Municipal birth/marriage/death registries"),n("periods_colonial_b3","ANOM-digitized colonial files"),n("periods_colonial_b4","Land surveys and civil cadastre")]},{title:n("periods_independence_title","Independence & Beyond (1962-Present)"),icon:u0,accent:"#5d4037",description:n("periods_independence_desc","Municipal APC offices maintain up-to-date civil status with national identity and migration logs."),bullets:[n("periods_independence_b1","National ID registration files"),n("periods_independence_b2","APC birth/marriage/death records"),n("periods_independence_b3","Regional migration studies"),n("periods_independence_b4","Diaspora documentation and reunification")]}],f=[{period:n("periods_timeline_ottoman","1516-1830 - Ottoman Rule"),detail:n("periods_timeline_ottoman_desc","Patronymic traditions, Qadi rulings, waqf endowments.")},{period:n("periods_timeline_transition","1830-1882 - Transition"),detail:n("periods_timeline_transition_desc","Military rule, first census data, Balkan-style reforms.")},{period:n("periods_timeline_colonial","1882-1962 - Colonial Era"),detail:n("periods_timeline_colonial_desc","Permanent surnames, civil registers, ANOM archives.")},{period:n("periods_timeline_independence","1962-Present - Independence"),detail:n("periods_timeline_independence_desc","APC civil records, migration tracking, digital archives.")}],h=[{icon:of,title:n("periods_highlight_ottoman_title","Ottoman Records"),detail:n("periods_highlight_ottoman_desc","Qadi rulings, waqf deeds, and tribal convenings are often preserved in regional archives.")},{icon:ya,title:n("periods_highlight_colonial_title","Colonial Registers"),detail:n("periods_highlight_colonial_desc","Civil status files and cadastral records anchor surname transitions and family locations.")},{icon:Ha,title:n("periods_highlight_modern_title","Modern Civil Status"),detail:n("periods_highlight_modern_desc","APC offices maintain certified birth, marriage, and death extracts used for verification.")},{icon:d0,title:n("periods_highlight_migration_title","Migration Maps"),detail:n("periods_highlight_migration_desc","Administrative reports and cartography trace movement between oases, coasts, and hinterlands.")}];return l.jsxs(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#d4af37]",children:n("periods_hero_label","Historical Periods")}),l.jsx("h1",{className:"text-5xl font-bold",children:n("periods_hero_title","Maghreb Genealogy Through Time")}),l.jsx("p",{className:"max-w-4xl mx-auto text-lg opacity-90",children:n("periods_hero_intro","Chart the shifts from Ottoman patronymics through colonial surname reforms to modern civil archives.")})]}),children:[l.jsx("section",{className:"roots-section",children:l.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:d.map(g=>l.jsxs("div",{className:`${r} p-8 rounded-2xl shadow-xl border ${o}`,"data-aos":"fade-up",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(g.icon,{className:"w-10 h-10",style:{color:g.accent}}),l.jsx("h2",{className:"text-3xl font-bold",children:g.title})]}),l.jsx("p",{className:"opacity-90 mb-4",children:g.description}),l.jsx("ul",{className:"list-disc pl-6 space-y-3 opacity-90",children:g.bullets.map(x=>l.jsx("li",{children:x},x))})]},g.title))})}),l.jsxs("section",{className:"roots-section roots-section-alt",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n("periods_timeline_title","Timeline Overview")}),l.jsx("div",{className:"relative border-l-4 border-[#d4af37] ml-6 space-y-8",children:f.map((g,x)=>l.jsxs("div",{className:"pl-8","data-aos":"fade-right","data-aos-delay":x*150,children:[l.jsx("h3",{className:"text-xl font-bold",children:g.period}),l.jsx("p",{className:"opacity-80 mt-1",children:g.detail})]},g.period))})]}),l.jsxs("section",{className:"roots-section",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n("periods_research_focus_title","Research Focus by Period")}),l.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:h.map(g=>l.jsxs("div",{className:`${r} p-6 rounded-2xl shadow-xl border ${o}`,"data-aos":"zoom-in",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[l.jsx(g.icon,{className:"w-9 h-9 text-[#d4af37]"}),l.jsx("h3",{className:"text-2xl font-bold",children:g.title})]}),l.jsx("p",{className:"opacity-90",children:g.detail})]},g.title))})]})]})}function Ux(){const{theme:e}=dn(),{t:n}=fn();k.useEffect(()=>{Va.init({duration:900,once:!0})},[]);const r=e==="dark"?"bg-[#1c1110]":"bg-white",o=e==="dark"?"border-[#2c1810]":"border-[#d8c7b0]",d=[{icon:of,title:n("archives_ottoman_title","Ottoman Archives"),accent:"#d4af37",description:n("archives_ottoman_desc","Registers from the Beylik, Qadi courts, and administrative diwans preserve pre-colonial lineage records."),bullets:[n("archives_ottoman_b1","Qadi court registers (marriage, inheritance, guardianship)"),n("archives_ottoman_b2","Habous & waqf property ledgers"),n("archives_ottoman_b3","Beylik taxation and census notes")]},{icon:u0,title:n("archives_colonial_title","Colonial Archives (ANOM)"),accent:"#5d4037",description:n("archives_colonial_desc","Colonial civil status records provide structured birth, marriage, and death documents."),bullets:[n("archives_colonial_b1","Surnames fixation records (1882 onward)"),n("archives_colonial_b2","Colonial censuses & conscription rolls"),n("archives_colonial_b3","Land surveys and settlement maps")]},{icon:iN,title:n("archives_apc_title","Post-Independence APC Records"),accent:"#556b2f",description:n("archives_apc_desc","Municipal civil status offices hold modern files that bridge families into the present."),bullets:[n("archives_apc_b1","Birth/marriage/death registers"),n("archives_apc_b2","Family booklets & ID archives"),n("archives_apc_b3","Municipal migration documentation")]},{icon:d0,title:n("archives_maps_title","Maps & Territorial Archives"),accent:"#d4af37",description:n("archives_maps_desc","Historical cartography traces family territories, tribal borders, and migration routes."),bullets:[n("archives_maps_b1","Senatus-consulte tribal maps (1863)"),n("archives_maps_b2","Ottoman land surveys"),n("archives_maps_b3","Colonial cadastral charts")]},{icon:Vn,title:n("archives_manuscripts_title","Manuscripts & Nasab Texts"),accent:"#5d4037",description:n("archives_manuscripts_desc","Genealogical manuscripts, zawiya registries, and tribal chronicles provide narrative context."),bullets:[n("archives_manuscripts_b1","Tribal nasab manuscripts"),n("archives_manuscripts_b2","Zawiya registers and lineage notes"),n("archives_manuscripts_b3","Regional chronicle compilations")]},{icon:Ha,title:n("archives_private_title","Private Collections"),accent:"#556b2f",description:n("archives_private_desc","Family-held deeds, letters, and oral histories often fill missing branches in public records."),bullets:[n("archives_private_b1","Property deeds and waqf deeds"),n("archives_private_b2","Family correspondences"),n("archives_private_b3","Oral testimonies and photos")]}],f=[{icon:ya,title:n("archives_access_step1_title","Plan your archive visit"),description:n("archives_access_step1_desc","Confirm opening hours, required IDs, and file request procedures before you travel.")},{icon:Vn,title:n("archives_access_step2_title","Use catalog references"),description:n("archives_access_step2_desc","Record shelf codes, archive boxes, and series numbers to retrieve documents efficiently.")},{icon:lf,title:n("archives_access_step3_title","Document provenance"),description:n("archives_access_step3_desc","Capture archive citations and metadata to validate sources later.")}];return l.jsxs(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.4em] text-[#d4af37]",children:n("archives","Archives")}),l.jsx("h1",{className:"text-5xl font-bold",children:n("archives_title","Archives & Civil Status Repositories")}),l.jsx("p",{className:"max-w-4xl mx-auto text-lg opacity-90",children:n("archives_intro","Navigate Ottoman court registers, colonial archives, and municipal civil status offices that preserve Maghreb genealogy.")})]}),children:[l.jsx("section",{className:"roots-section space-y-10",children:l.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:d.map(h=>l.jsxs("div",{className:`${r} p-8 rounded-2xl shadow-xl border ${o}`,"data-aos":"fade-up",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(h.icon,{className:"w-10 h-10",style:{color:h.accent}}),l.jsx("h2",{className:"text-3xl font-bold",children:h.title})]}),l.jsx("p",{className:"opacity-90 mb-4",children:h.description}),l.jsx("ul",{className:"list-disc pl-6 space-y-2 opacity-90",children:h.bullets.map(g=>l.jsx("li",{children:g},g))})]},h.title))})}),l.jsxs("section",{className:"roots-section roots-section-alt",children:[l.jsx("h2",{className:"text-3xl font-bold mb-8",children:n("archives_access","How to Access Archives")}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:f.map(h=>l.jsxs("div",{className:`${r} p-6 rounded-xl border ${o} shadow-lg`,"data-aos":"zoom-in",children:[l.jsx(h.icon,{className:"w-10 h-10 mb-4 text-[#d4af37]"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:h.title}),l.jsx("p",{className:"opacity-90",children:h.description})]},h.title))})]})]})}function QM(){const{theme:e}=dn(),{t:n}=fn();k.useEffect(()=>{Va.init({duration:900,once:!0})},[]);const r=e==="dark"?"bg-[#1c1110]":"bg-white",o=e==="dark"?"border-[#2c1810]":"border-[#d8c7b0]",d=[{icon:of,title:n("sources_manuscripts_title","Manuscripts & Nasab"),description:n("sources_manuscripts_desc","Genealogical manuscripts and zawiya registries capture lineage chains and tribal narratives.")},{icon:Ha,title:n("sources_civil_title","Civil Status Records"),description:n("sources_civil_desc","Birth, marriage, and death certificates anchor relationships with verified dates.")},{icon:eS,title:n("sources_oral_title","Oral Histories"),description:n("sources_oral_desc","Recorded testimonies from elders provide context for migrations, alliances, and patronymics.")},{icon:HN,title:n("sources_private_title","Private Family Archives"),description:n("sources_private_desc","Letters, property deeds, and family notebooks often contain missing branches.")}],f=[{icon:Vn,title:n("sources_academic_title","Academic Studies"),description:n("sources_academic_desc","Anthropology and history publications contextualize tribal movements and social structures.")},{icon:vp,title:n("sources_digital_title","Digital Collections"),description:n("sources_digital_desc","ANOM, Gallica, and regional digitization portals provide searchable scans.")}];return l.jsxs(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.4em] text-[#d4af37]",children:n("sources","Sources")}),l.jsx("h1",{className:"text-5xl font-bold",children:n("sources_title","Primary Sources for Maghreb Genealogy")}),l.jsx("p",{className:"max-w-4xl mx-auto text-lg opacity-90",children:n("sources_intro","Combine documentary evidence with oral narratives to reconstruct family histories.")})]}),children:[l.jsxs("section",{className:"roots-section",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-8",children:n("primary_sources","Primary Sources")}),l.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:d.map(h=>l.jsxs("div",{className:`${r} p-8 rounded-2xl shadow-xl border ${o}`,"data-aos":"fade-up",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[l.jsx(h.icon,{className:"w-10 h-10 text-[#d4af37]"}),l.jsx("h3",{className:"text-2xl font-bold",children:h.title})]}),l.jsx("p",{className:"opacity-90",children:h.description})]},h.title))})]}),l.jsxs("section",{className:"roots-section roots-section-alt",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-8",children:n("secondary_sources","Secondary Sources")}),l.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:f.map(h=>l.jsxs("div",{className:`${r} p-8 rounded-2xl shadow-xl border ${o}`,"data-aos":"zoom-in",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[l.jsx(h.icon,{className:"w-10 h-10 text-[#5d4037]"}),l.jsx("h3",{className:"text-2xl font-bold",children:h.title})]}),l.jsx("p",{className:"opacity-90",children:h.description})]},h.title))})]})]})}function KM(){const{theme:e}=dn(),{t:n}=fn();k.useEffect(()=>{Va.init({duration:900,once:!0})},[]);const r=e==="dark"?"bg-[#1c1110]":"bg-white",o=e==="dark"?"border-[#2c1810]":"border-[#d8c7b0]",d=[{icon:sf,title:n("access_requirements_title","Access Requirements"),description:n("access_requirements_desc","Some archives require appointment letters, national IDs, or family proof. Always confirm before visiting.")},{icon:TN,title:n("access_reference_title","Reference Tracking"),description:n("access_reference_desc","Record archive box codes, shelf numbers, and page references to validate each citation.")},{icon:lf,title:n("access_protection_title","Data Protection"),description:n("access_protection_desc","Respect privacy laws for modern civil records and avoid publishing sensitive personal data.")}],f=[{icon:uN,title:n("reliability_cross_title","Cross-check sources"),description:n("reliability_cross_desc","Validate the same lineage across multiple registers and oral testimonies.")},{icon:ES,title:n("reliability_gaps_title","Identify gaps"),description:n("reliability_gaps_desc","Flag missing years, name variations, and inconsistent patronymics.")},{icon:dS,title:n("reliability_balance_title","Balance narratives"),description:n("reliability_balance_desc","Combine written documentation with oral histories to avoid biased records.")}];return l.jsxs(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.4em] text-[#d4af37]",children:n("access_reliability","Access & Reliability")}),l.jsx("h1",{className:"text-5xl font-bold",children:n("access_title","Access & Reliability of Sources")}),l.jsx("p",{className:"max-w-4xl mx-auto text-lg opacity-90",children:n("access_intro","Understand archive access rules and validate the reliability of every genealogy source.")})]}),children:[l.jsxs("section",{className:"roots-section",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-8",children:n("access_guidelines","Access Guidelines")}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:d.map(h=>l.jsxs("div",{className:`${r} p-8 rounded-2xl shadow-xl border ${o}`,"data-aos":"fade-up",children:[l.jsx(h.icon,{className:"w-10 h-10 text-[#d4af37] mb-4"}),l.jsx("h3",{className:"text-2xl font-bold mb-3",children:h.title}),l.jsx("p",{className:"opacity-90",children:h.description})]},h.title))})]}),l.jsxs("section",{className:"roots-section roots-section-alt",children:[l.jsx("h2",{className:"text-3xl font-bold border-l-8 border-[#d4af37] pl-4 mb-8",children:n("reliability_checks","Reliability Checks")}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:f.map(h=>l.jsxs("div",{className:`${r} p-8 rounded-2xl shadow-xl border ${o}`,"data-aos":"zoom-in",children:[l.jsx(h.icon,{className:"w-10 h-10 text-[#5d4037] mb-4"}),l.jsx("h3",{className:"text-2xl font-bold mb-3",children:h.title}),l.jsx("p",{className:"opacity-90",children:h.description})]},h.title))})]})]})}function JM(){const{theme:e}=dn(),{login:n}=Di(),{user:r}=Di(),o=ro(),{t:d}=fn(),[f,h]=k.useState(""),[g,x]=k.useState(""),[y,b]=k.useState(""),[N,j]=k.useState(!1),z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;k.useEffect(()=>{Va.init({duration:900,once:!0}),r&&o("/admin",{replace:!0})},[r,o]);const E=e==="dark"?"bg-[#1c1110]":"bg-white",T=e==="dark"?"border-[#2c1810]":"border-[#e8dfca]",A=e==="dark"?"bg-white/5":"bg-black/5",R=e==="dark"?"text-[#d4af37]":"text-[#5d4037]",U=async H=>{H.preventDefault(),b(""),console.log(" Login button clicked");const P=f.trim().toLowerCase();if(!P||!z.test(P)){b(d("invalid_email","Please provide a valid email before logging in"));return}if(!g){b(d("password_required","Password is required to sign you in"));return}console.log(" Validation passed, attempting login..."),j(!0);try{console.log(" Calling login API...");const I=await n(P,g);console.log(" Login successful, user:",I),I?(console.log(" Navigating to /admin..."),o("/admin",{replace:!0})):(console.error(" No user returned from login"),b("Login failed: No user data received"))}catch(I){console.error(" Login error:",I),console.error("Error details:",{message:I.message,response:I.response?.data,status:I.response?.status});const Z=I.response?.data?.message||I.message||"Invalid credentials. Please check your email and password.";b(Z)}finally{console.log(" Login attempt complete"),j(!1)}};return l.jsx(Nr,{hero:l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-4xl font-bold text-center",children:d("welcome_back","Welcome Back")}),l.jsx("p",{className:"text-lg opacity-80 text-center",children:d("login_with_email_password","Securely log in and continue building your Roots Maghreb archive.")})]}),className:"min-h-[calc(100vh-120px)]",children:l.jsx("section",{className:"roots-section",children:l.jsx("div",{"data-aos":"zoom-in",className:`${E} relative mx-auto w-full max-w-md px-10 py-12 rounded-lg shadow-2xl border ${T}`,children:l.jsxs("form",{className:"space-y-6",onSubmit:U,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:d("email","Email")}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${T} ${A}`,children:[l.jsx(Uc,{className:`w-5 h-5 ${R}`}),l.jsx("input",{type:"email",required:!0,value:f,onChange:H=>h(H.target.value),placeholder:"example@email.com",className:`bg-transparent outline-none flex-1 ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:d("password","Password")}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${T} ${A}`,children:[l.jsx(sf,{className:`w-5 h-5 ${R}`}),l.jsx("input",{type:"password",required:!0,value:g,onChange:H=>x(H.target.value),placeholder:"********",className:`bg-transparent outline-none flex-1 ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]}),y&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:y}),l.jsx("button",{type:"submit",disabled:N,className:"w-full px-6 py-3 rounded-md text-white font-semibold shadow-lg bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition disabled:opacity-60",children:N?d("please_wait","Please wait..."):d("login","Login")}),l.jsx("div",{className:"w-full h-px opacity-40 bg-[#8d6e63]"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx(Qn,{to:"/resetpassword",className:"text-[#5d4037] hover:text-[#d4af37]",children:d("forgot_password","Forgot password?")}),l.jsx(Qn,{to:"/signup",className:"text-[#5d4037] font-semibold hover:text-[#d4af37]",children:d("create_account","Create account")})]})]})})})})}function WM(){const{theme:e}=dn(),{signup:n}=Di(),r=ro(),{t:o}=fn(),[d,f]=k.useState(""),[h,g]=k.useState(""),[x,y]=k.useState(""),[b,N]=k.useState(""),[j,z]=k.useState(!1),[E,T]=k.useState(""),A=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;k.useEffect(()=>{Va.init({duration:900,once:!0})},[]);const R=e==="dark"?"bg-[#1c1110]":"bg-white",U=e==="dark"?"border-[#2c1810]":"border-[#e8dfca]",H=e==="dark"?"bg-white/5":"bg-black/5",P=e==="dark"?"text-[#d4af37]":"text-[#5d4037]",I=async Z=>{if(Z.preventDefault(),T(""),!d.trim()){T(o("full_name_required","Full name is required"));return}if(!A.test(x.trim().toLowerCase())){T(o("invalid_email","Please enter a valid email address"));return}if(String(b).length<8){T(o("password_strength","Password must be at least 8 characters long"));return}z(!0);try{await n(d.trim(),h.trim(),x.trim().toLowerCase(),b),r("/login")}catch(J){T(J.response?.data?.message||"Signup failed")}finally{z(!1)}};return l.jsx(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold text-center",children:o("signup","Sign Up")}),l.jsx("p",{className:"text-lg opacity-80 text-center",children:o("signup_desc","Join Roots Maghreb and preserve your family's stories across the Maghreb.")})]}),className:"min-h-[calc(100vh-120px)]",children:l.jsx("section",{className:"roots-section",children:l.jsx("div",{"data-aos":"zoom-in",className:`${R} relative mx-auto w-full max-w-md px-10 py-12 rounded-lg shadow-2xl border ${U}`,children:l.jsxs("form",{className:"space-y-6",onSubmit:I,children:[[{label:o("full_name","Full Name"),icon:qd,type:"text",placeholder:o("full_name_placeholder","Your name"),value:d,setter:f},{label:o("phone","Phone"),icon:h0,type:"tel",placeholder:"+1 555 123 4567",value:h,setter:g},{label:o("email","Email"),icon:Uc,type:"email",placeholder:"example@email.com",value:x,setter:y}].map(Z=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:Z.label}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${U} ${H}`,children:[l.jsx(Z.icon,{className:`w-5 h-5 ${P}`}),l.jsx("input",{type:Z.type,required:!0,value:Z.value,onChange:J=>Z.setter(J.target.value),placeholder:Z.placeholder,className:`bg-transparent outline-none flex-1 ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]},Z.label)),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:o("password","Password")}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${U} ${H}`,children:[l.jsx(sf,{className:`w-5 h-5 ${P}`}),l.jsx("input",{type:"password",required:!0,value:b,onChange:Z=>N(Z.target.value),placeholder:"********",className:`bg-transparent outline-none flex-1 ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]}),E&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:E}),l.jsx("button",{type:"submit",disabled:j,className:"w-full px-6 py-3 rounded-md text-white font-semibold shadow-lg bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition disabled:opacity-60",children:j?o("please_wait","Please wait..."):o("signup","Sign Up")}),l.jsx("div",{className:"w-full h-px opacity-40 bg-[#8d6e63]"}),l.jsxs("p",{className:"text-center text-sm opacity-90",children:[o("already_have_account","Already have an account?"),"",l.jsx(Qn,{to:"/login",className:"text-[#5d4037] font-semibold hover:text-[#d4af37]",children:o("login","Login")})]})]})})})})}function eL(){const{theme:e}=dn(),{requestReset:n,verifyReset:r}=Di(),o=ro(),{t:d}=fn(),[f,h]=k.useState(1),[g,x]=k.useState(""),[y,b]=k.useState(""),[N,j]=k.useState(""),[z,E]=k.useState(!1),[T,A]=k.useState(""),R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;k.useEffect(()=>{Va.init({duration:900,once:!0})},[]);const U=e==="dark"?"bg-[#1c1110]":"bg-white",H=e==="dark"?"border-[#2c1810]":"border-[#e8dfca]",P=e==="dark"?"bg-white/5":"bg-black/5",I=e==="dark"?"text-[#d4af37]":"text-[#5d4037]",Z=async F=>{F.preventDefault(),A("");const de=g.trim().toLowerCase();if(!R.test(de)){A(d("invalid_email","Please enter a valid email address"));return}E(!0);try{await n(de),h(2)}catch(ve){A(ve.response?.data?.message||"Failed to send reset email")}finally{E(!1)}},J=async F=>{if(F.preventDefault(),A(""),!y.trim()){A(d("code_required","Verification code is required"));return}if(N.length<8){A(d("password_strength","Password must be at least 8 characters long"));return}E(!0);try{await r(g.trim().toLowerCase(),y.trim(),N),o("/login")}catch(de){A(de.response?.data?.message||"Invalid code or password")}finally{E(!1)}};return l.jsx(Nr,{hero:l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-4xl font-bold text-center",children:f===1?d("reset_password","Reset Password"):d("verify_and_reset","Verify & Reset")}),l.jsx("p",{className:"text-lg opacity-80 text-center",children:f===1?d("reset_step1_desc","Enter your email to receive a verification code."):d("reset_step2_desc","Use the code and set a new secure password.")})]}),className:"min-h-[calc(100vh-120px)]",children:l.jsx("section",{className:"roots-section",children:l.jsxs("div",{"data-aos":"zoom-in",className:`${U} relative mx-auto w-full max-w-md px-10 py-12 rounded-lg shadow-2xl border ${H}`,children:[l.jsxs("form",{className:"space-y-6",onSubmit:f===1?Z:J,children:[f===1&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:d("email","Email")}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${H} ${P}`,children:[l.jsx(Uc,{className:`w-5 h-5 ${I}`}),l.jsx("input",{type:"email",required:!0,value:g,onChange:F=>x(F.target.value),placeholder:"example@email.com",className:`bg-transparent outline-none flex-1 ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]}),f===2&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:d("verification_code","Verification Code")}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${H} ${P}`,children:[l.jsx(lf,{className:`w-5 h-5 ${I}`}),l.jsx("input",{type:"text",required:!0,value:y,onChange:F=>b(F.target.value),placeholder:d("code_placeholder","6-digit code"),className:`bg-transparent outline-none flex-1 tracking-widest ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-semibold",children:d("new_password","New Password")}),l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md border ${H} ${P}`,children:[l.jsx(sf,{className:`w-5 h-5 ${I}`}),l.jsx("input",{type:"password",required:!0,value:N,onChange:F=>j(F.target.value),placeholder:"********",className:`bg-transparent outline-none flex-1 ${e==="dark"?"text-white":"text-[#2c1810]"}`})]})]})]}),T&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:T}),l.jsx("button",{type:"submit",disabled:z,className:"w-full px-6 py-3 rounded-md text-white font-semibold shadow-lg bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition disabled:opacity-60",children:z?d("please_wait","Please wait..."):f===1?d("send_code","Send Code"):d("reset_password","Reset Password")})]}),l.jsx("div",{className:"w-full h-px opacity-40 bg-[#8d6e63]"}),l.jsxs("p",{className:"text-center text-sm opacity-90",children:[d("back_to","Back to")," ",l.jsx(Qn,{to:"/login",className:"text-[#5d4037] font-semibold hover:text-[#d4af37]",children:d("login","Login")})]})]})})})}function tL(){return l.jsx(Nr,{hero:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-[#d4af37]",children:"404  Not Found"}),l.jsx("h1",{className:"text-5xl font-bold",children:"Page Missing"}),l.jsx("p",{className:"max-w-3xl mx-auto text-lg opacity-80",children:"We couldn't locate the page you were trying to reach. Let us guide you back to the archives."})]}),children:l.jsx("section",{className:"roots-section text-center",children:l.jsx(Za,{to:"/",className:"roots-cta inline-flex items-center justify-center gap-2",children:"Go to Home"})})})}function nL({onToggleSidebar:e}){const{theme:n}=dn(),{t:r}=fn(),[o,d]=k.useState(""),[f,h]=k.useState({trees:[],people:[]}),[g,x]=k.useState(!1),[y,b]=k.useState(!1),[N,j]=k.useState(""),z=k.useRef(null),E=k.useRef(""),T=ro(),A=se=>{se.preventDefault(),o.trim()&&(x(!1),T(`/library?q=${encodeURIComponent(o)}`))},R=n==="dark",U=R?"text-[#f8f5ef]":"text-[#2c1810]",H=R?"bg-[#3e2723]":"bg-white",P=R?"border-[#2c1810]":"border-[#e8dfca]",I=R?"bg-[#3e2723]":"bg-[#f8f5ef]",Z=R?"text-[#e8dfca]":"text-[#2c1810]",J=R?"text-[#e8dfca]/70":"text-[#8d6e63]",F=R?"text-[#a0552a]":"text-[#5d4037]",de=R?"hover:bg-white/10":"hover:bg-[#5d4037]/8";k.useEffect(()=>{const se=String(o||"").trim();if(E.current=se,z.current&&clearTimeout(z.current),se.length<2){h({trees:[],people:[]}),x(!1),b(!1),j("");return}return z.current=setTimeout(async()=>{b(!0),j("");try{const{data:B}=await Ie.get(`/search/suggest?q=${encodeURIComponent(se)}`);if(E.current!==se)return;h({trees:Array.isArray(B?.trees)?B.trees:[],people:Array.isArray(B?.people)?B.people:[]}),x(!0)}catch(B){if(E.current!==se)return;j(B.response?.data?.message||"Failed to load suggestions"),h({trees:[],people:[]})}finally{E.current===se&&b(!1)}},300),()=>{z.current&&clearTimeout(z.current)}},[o]);const ve=()=>{String(o||"").trim().length>=2&&x(!0)},ge=()=>{window.setTimeout(()=>x(!1),150)},te=se=>{se&&(d(se),x(!1),T(`/library?q=${encodeURIComponent(se)}`))};return l.jsxs("header",{className:"admin-header-strip sticky top-0 z-50 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:`w-11 h-11 rounded-md flex items-center justify-center 
            bg-[#f5f1e8] text-[#5d4037] shadow hover:opacity-95 active:scale-[0.97]`,"aria-label":"toggle-sidebar",type:"button",children:l.jsx(f0,{className:"w-5 h-5"})}),l.jsxs(Za,{to:"/",className:"roots-logo text-white",children:["roots",l.jsx("span",{children:"maghreb"})]})]}),l.jsxs("form",{onSubmit:A,className:"hidden md:block flex-1 max-w-2xl relative",children:[l.jsx(br,{className:`w-4 h-4 absolute rtl:right-3 rtl:left-auto ltr:left-3 top-1/2 -translate-y-1/2 ${J}`}),l.jsx("input",{value:o,onChange:se=>d(se.target.value),onFocus:ve,onBlur:ge,className:`w-full rtl:pr-9 rtl:pl-3 ltr:pl-9 ltr:pr-3 py-2 rounded-full border 
            focus:outline-none focus:ring-2 focus:ring-[#5d4037]/25
            ${I} ${Z} ${P}`,placeholder:r("search","Search..."),"aria-label":"admin-search"}),g?l.jsx("div",{className:`absolute left-0 right-0 mt-2 rounded-lg border ${P} ${H} shadow-xl overflow-hidden z-50`,children:y?l.jsx("div",{className:"px-4 py-3 text-sm opacity-70",children:r("loading","Loading...")}):N?l.jsx("div",{className:"px-4 py-3 text-sm text-red-500",children:N}):f.trees.length||f.people.length?l.jsxs("div",{className:"max-h-64 overflow-auto",children:[f.trees.map(se=>l.jsxs("button",{type:"button",onMouseDown:()=>te(se.title),className:`w-full text-left px-4 py-2 ${de} ${U}`,children:[l.jsx("div",{className:"text-sm font-semibold",children:se.title}),l.jsx("div",{className:"text-xs opacity-60",children:r("trees","Family Trees")})]},`tree-${se.id}`)),f.people.map(se=>l.jsxs("button",{type:"button",onMouseDown:()=>te(se.name||""),className:`w-full text-left px-4 py-2 ${de} ${U}`,children:[l.jsx("div",{className:"text-sm font-semibold",children:se.name||"Unknown"}),l.jsx("div",{className:"text-xs opacity-60",children:se.tree_title?`Tree: ${se.tree_title}`:"Person"})]},`person-${se.id}`))]}):l.jsx("div",{className:"px-4 py-3 text-sm opacity-70",children:r("no_results","No suggestions")})}):null]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Za,{to:"/",className:`hidden sm:inline-flex items-center gap-2 px-4 py-2 rounded-md 
            text-[#5d4037] bg-white/70 shadow`,children:r("back_to_main","Back to Main Site")}),l.jsx(Qd,{buttonClassName:`h-12 w-12 rounded-md border flex items-center justify-center transition-all ${R?"bg-white/5 hover:bg-white/10 border-white/10":"bg-[#f5f1e8] hover:bg-[#5d4037]/10 border-[#e8dfca]"}`}),l.jsx("button",{className:`w-11 h-11 rounded-md border flex items-center justify-center
            ${de} ${P}`,"aria-label":"notifications",type:"button",children:l.jsx(o0,{className:`w-5 h-5 ${J}`})}),l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md border ${P} ${I}`,children:[l.jsx(pp,{className:`w-5 h-5 ${F}`}),l.jsx("span",{className:`font-medium ${F}`,children:r("admin","Admin")})]})]})]}),l.jsx("div",{className:"admin-header-accent"})]})}function iL({className:e=""}){const{theme:n,toggleTheme:r}=dn(),o=n==="dark",d=o?"bg-[#3e2723]":"bg-white",f=o?"text-[#f8f5ef]":"text-[#3e2723]",h=o?"border-[#2c1810]":"border-[#e8dfca]",g=o?"hover:bg-white/10":"hover:bg-[#5d4037]/8";return l.jsxs("button",{onClick:r,className:`px-3 py-2 rounded-md flex items-center gap-2 border 
      transition-all hover:opacity-95 active:scale-[0.97]
      ${d} ${f} ${h} ${g} ${e}`,"aria-label":"toggle-theme",type:"button",title:o?"Switch to light":"Switch to dark",children:[o?l.jsx(Um,{className:"w-4 h-4 text-[#d4af37]"}):l.jsx(Bm,{className:"w-4 h-4 text-[#5d4037]"}),l.jsx("span",{className:"text-sm font-medium",children:o?"Light":"Dark"})]})}const aL=[{to:"/admin",end:!0,labelKey:"dashboard",Icon:UN},{to:"/admin/users",labelKey:"users",Icon:vr},{to:"/admin/books",labelKey:"books",Icon:Vn},{to:"/admin/trees",labelKey:"trees",Icon:il},{to:"/admin/gallery",labelKey:"gallery",Icon:us},{to:"/admin/settings",labelKey:"settings",Icon:vS},{to:"/admin/activity",labelKey:"activity",Icon:Hd}];function rL({open:e,onClose:n}){const{theme:r}=dn(),{user:o}=Di(),{t:d}=fn(),f=r==="dark",h=f?"border-[#2c1810]":"border-[#e8dfca]",g=f?"hover:bg-white/10":"hover:bg-[#5d4037]/8",x=f?"bg-[#5d4037]/20 border border-[#5d4037]/30":"bg-[#5d4037]/10 border border-[#5d4037]/30";return l.jsxs(l.Fragment,{children:[l.jsx("div",{onClick:n,className:`fixed inset-0 z-30 transition-opacity ${e?"opacity-100 pointer-events-auto bg-black/40":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),l.jsxs("aside",{className:`fixed top-0 ltr:left-0 rtl:right-0 h-full w-72 z-40 transition-transform duration-300
        ${e?"translate-x-0":"ltr:-translate-x-full rtl:translate-x-full"}
        admin-sidebar text-white ltr:border-r-4 rtl:border-l-4 border-[#d4af37] shadow-2xl`,children:[l.jsxs("div",{className:`h-16 flex items-center justify-between px-4 border-b ${h}`,children:[l.jsx("h2",{className:"text-xl tracking-wide font-bold",children:d("admin_panel","ROOTS MAGHREB ADMIN")}),l.jsx("button",{onClick:n,className:`w-9 h-9 rounded-md flex items-center justify-center ${g}`,"aria-label":"close-sidebar",type:"button",children:l.jsx(_a,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-4 py-6 flex flex-col h-[calc(100%-4rem)]",children:[l.jsx("nav",{className:"admin-sidebar-nav flex flex-col gap-2",children:aL.filter(y=>y.labelKey!=="users"||o?.role===1).map(({to:y,end:b,labelKey:N,Icon:j})=>l.jsxs(Qn,{to:y,end:b,onClick:n,className:({isActive:z})=>`px-4 py-3 rounded-md flex items-center gap-3 transition
                  ${z?x:`${g} border border-transparent`}`,children:[l.jsx(j,{className:"w-5 h-5 text-[#d4af37]"}),l.jsx("span",{className:"font-medium",children:d(N)})]},y))}),l.jsxs("div",{className:`mt-6 p-4 rounded-lg border ${h} ${f?"bg-white/5":"bg-white"}`,children:[l.jsx("div",{className:"text-sm opacity-80 mb-3",children:d("preferences","Preferences")}),l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx(Qd,{align:"left",buttonClassName:`border rounded-md px-3 py-2 inline-flex items-center gap-2 ${f?"border-[#f8f5ef]/60 text-[#f8f5ef] hover:bg-white/10":"border-[#e8dfca] text-[#3e2723] hover:bg-[#5d4037]/8"}`}),l.jsx(iL,{className:`border rounded-md px-3 py-2 ${f?"border-[#f8f5ef]/60 text-[#f8f5ef] hover:bg-white/10":"border-[#e8dfca] text-[#3e2723] hover:bg-[#5d4037]/8"}`})]})]}),l.jsx("div",{className:`mt-6 rounded-lg p-4 border ${f?"bg-gradient-to-r from-[#5d4037]/30 to-[#d4af37]/20 border-[#2c1810]":"bg-[#5d4037]/10 border-[#5d4037]/20"}`,children:l.jsx("div",{className:"text-sm opacity-90",children:d("admin_tip")})}),l.jsx("button",{onClick:n,className:"mt-auto w-full px-4 py-3 rounded-md bg-[#556b2f] text-white hover:bg-[#556b2f] shadow",type:"button",children:d("close","Close")})]})]})]})}const sL={admin:"Admin",users:"Users",books:"Books",trees:"Family Trees",settings:"Settings",activity:"Activity"};function oL(){const{pathname:e}=Wi(),{theme:n}=dn(),{t:r}=fn(),o=n==="dark",d=e.split("/").filter(Boolean),f=d.map((y,b)=>({raw:y,label:r(y)||sL[y]||y,to:"/"+d.slice(0,b+1).join("/")})),h=o?"text-[#f8f5ef]":"text-[#3e2723]",g="text-[#5d4037]",x=o?"text-[#f8f5ef]/50":"text-[#3e2723]/50";return l.jsx("nav",{className:`text-sm mb-4 ${h}`,children:l.jsxs("ol",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("li",{children:l.jsxs(Za,{to:"/",className:`inline-flex items-center gap-2 ${g} hover:underline`,children:[l.jsx(ON,{className:"w-4 h-4"}),l.jsx("span",{children:r("home","Home")})]})}),f.map((y,b)=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(lN,{className:`w-4 h-4 ${x}`}),b===f.length-1?l.jsx("span",{className:"font-semibold",children:String(y.label).replaceAll("-"," ")}):l.jsx(Za,{to:y.to,className:`${g} hover:underline capitalize`,children:String(y.label).replaceAll("-"," ")})]},y.to))]})})}function lL(){const[e,n]=k.useState(!0);return l.jsxs("div",{className:"admin-shell",children:[l.jsx(nL,{onToggleSidebar:()=>n(r=>!r)}),l.jsx(rL,{open:e,onClose:()=>n(!1)}),l.jsx("main",{className:`transition-all duration-300 pt-6 pb-10 px-4 ${e?"ltr:pl-72 rtl:pr-72":""}`,children:l.jsx("div",{className:"admin-panel",children:l.jsxs("div",{className:"admin-panel-shell",children:[l.jsx(oL,{}),l.jsx(f2,{context:{sidebarOpen:e}})]})})})]})}function Zx({children:e,roles:n=[],redirectTo:r="/"}){const{user:o,loading:d}=Di(),f=Wi();return d?l.jsx("div",{className:"min-h-screen flex items-center justify-center text-lg",children:"Checking authentication..."}):o?n.length>0&&!n.includes(o.role)?l.jsx(s_,{to:r,replace:!0}):e:l.jsx(s_,{to:"/login",replace:!0,state:{from:f}})}const cL=async()=>{try{const{data:e}=await Ie.get("/admin/stats");return e}catch(e){return console.error("Failed to fetch stats",e),{users:0,books:0,trees:0,people:0}}},uL=async()=>{try{const{data:e}=await Ie.get("/admin/activity");return e}catch(e){return console.error("Failed to fetch recent activity",e),[]}},Yb=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString()}catch{return e}};function dL({title:e,value:n,color:r,Icon:o,isDark:d}){const f=d?"bg-[#3e2723]":"bg-white",h=d?"border-[#2c1810]":"border-[#e8dfca]",g=d?"hover:bg-white/5":"hover:bg-[#5d4037]/5";return l.jsx("div",{className:`rounded-lg shadow-sm p-5 border transition ${f} ${h} ${g}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-70",children:e}),l.jsx("div",{className:"text-3xl font-extrabold mt-1",style:{color:r},children:n})]}),l.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{background:`${r}1A`},children:l.jsx(o,{className:"w-6 h-6",style:{color:r}})})]})})}function fL(){const{theme:e}=dn(),{t:n}=fn(),{user:r}=Di(),o=e==="dark",d=r?.role===1,f=o?"bg-[#3e2723]":"bg-[#f5f1e8]",h=o?"text-[#f8f5ef]":"text-[#3e2723]",g=o?"bg-[#3e2723]":"bg-white",x=o?"border-[#2c1810]":"border-[#e8dfca]",y=o?"bg-white/5":"bg-black/[0.02]",b=o?"hover:bg-white/5":"hover:bg-black/[0.02]",[N,j]=k.useState({users:0,books:0,trees:0,people:0,myTrees:0,publicTrees:0,publicBooks:0,events:0}),[z,E]=k.useState([]),[T,A]=k.useState(!0),[R,U]=k.useState("");k.useEffect(()=>{let P=!0;return(async()=>{try{if(A(!0),U(""),d){const[I,Z]=await Promise.all([cL(),uL()]);if(!P)return;j(J=>({...J,...I||{users:0,books:0,trees:0,people:0}})),E(Array.isArray(Z)?Z:[])}else{const[{data:I},{data:Z},{data:J},{data:F}]=await Promise.all([Ie.get("/my/trees"),Ie.get("/trees"),Ie.get("/books"),Ie.get("/activity",{params:{limit:50}})]);if(!P)return;const de=Array.isArray(I)?I.length:0,ve=Array.isArray(Z)?Z.length:0,ge=Array.isArray(J)?J.length:0,te=Array.isArray(F)?F.length:0;j(se=>({...se,myTrees:de,publicTrees:ve,publicBooks:ge,events:te})),E(Array.isArray(F)?F:[])}}catch{if(!P)return;U("Failed to load dashboard data.")}finally{if(!P)return;A(!1)}})(),()=>{P=!1}},[d]);const H=k.useMemo(()=>d?[{title:n("total_users","Total Users"),value:N.users,color:"#5d4037",Icon:vr},{title:n("total_books","Total Books"),value:N.books,color:"#d4af37",Icon:Vn},{title:n("family_trees","Family Trees"),value:N.trees,color:"#556b2f",Icon:il},{title:n("total_people","Total People"),value:N.people,color:"#556b2f",Icon:Zm}]:[{title:n("my_trees","My Trees"),value:N.myTrees,color:"#5d4037",Icon:il},{title:n("public_trees","Public Trees"),value:N.publicTrees,color:"#556b2f",Icon:il},{title:n("public_books","Public Books"),value:N.publicBooks,color:"#d4af37",Icon:Vn},{title:n("my_activity","My Activity"),value:N.events,color:"#556b2f",Icon:Hd}],[N,n,d]);return l.jsxs("div",{className:`p-4 min-h-screen ${f} ${h} heritage-page-root`,children:[l.jsx("div",{className:`rounded-lg p-5 mb-6 border ${x}
        bg-gradient-to-r from-[#5d4037]/15 via-[#d4af37]/12 to-[#556b2f]/10 heritage-panel heritage-panel--accent`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center border ${x} ${g}`,children:l.jsx(Hd,{className:"w-5 h-5 text-[#5d4037]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold",children:d?n("admin_overview","Admin Overview"):n("my_dashboard","My Dashboard")}),l.jsx("div",{className:"text-sm opacity-70",children:d?n("stats_latest_actions","Stats & latest actions across the platform"):n("my_dashboard_subtitle","Your content & recent activity")})]})]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6 heritage-panel heritage-panel--grid",children:H.map(P=>l.jsx(dL,{...P,isDark:o},P.title))}),l.jsxs("div",{className:`rounded-lg shadow-sm p-5 border ${x} ${g} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-xl font-semibold",children:n("recent_activity","Recent Activity")}),l.jsx("button",{className:`px-3 py-2 rounded-md border ${x} hover:opacity-90`,onClick:()=>window.location.reload(),type:"button",children:n("refresh","Refresh")})]}),T?l.jsx("div",{className:"py-10 text-center opacity-70",children:n("loading","Loading...")}):R?l.jsxs("div",{className:"py-10 text-center",children:[l.jsx("div",{className:"text-[#a0552a] font-semibold",children:R}),l.jsx("div",{className:"opacity-70 text-sm mt-1",children:"Check your API endpoints and try again."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"heritage-table w-full text-sm",children:[l.jsx("thead",{className:y,children:l.jsxs("tr",{className:`text-start border-b ${x}`,children:[l.jsx("th",{className:"py-3 px-2 text-start",children:n("type","Type")}),l.jsx("th",{className:"py-3 px-2 text-start",children:n("description","Description")}),l.jsx("th",{className:"py-3 px-2 text-start",children:n("user","User")}),l.jsx("th",{className:"py-3 px-2 text-start",children:n("date","Date")})]})}),l.jsx("tbody",{children:z.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-8 text-center opacity-60",children:n("no_activity_yet","No activity yet.")})}):z.map((P,I)=>l.jsxs("tr",{className:`border-b ${x} ${b}`,children:[l.jsx("td",{className:"py-3 px-2 font-medium",children:P.type}),l.jsx("td",{className:"py-3 px-2",children:P.description}),l.jsx("td",{className:"py-3 px-2",children:P.user}),l.jsx("td",{className:"py-3 px-2",children:Yb(P.date)})]},I))})]})})]})]})}function kf({message:e,tone:n="success"}){if(!e)return null;const r=n==="error"?"border-red-500/40 bg-red-600/90 text-white":"border-emerald-500/40 bg-emerald-600/90 text-white";return l.jsx("div",{className:`fixed top-24 z-[60] rtl:left-6 rtl:right-auto ltr:right-6 rounded-lg border px-4 py-3 shadow-xl ${r}`,role:"status","aria-live":"polite",children:l.jsx("div",{className:"text-sm font-semibold",children:e})})}function hL(){const{theme:e}=dn(),{user:n}=Di(),{t:r}=fn(),o=e==="dark",d=o?"bg-[#3e2723]":"bg-[#f5f1e8]",f=o?"text-[#f8f5ef]":"text-[#3e2723]",h=o?"bg-[#3e2723]":"bg-white",g=o?"border-[#2c1810]":"border-[#e8dfca]",x=o?"bg-white/5":"bg-black/[0.03]",y=o?"bg-[#3e2723]":"bg-white",b=o?"text-[#f8f5ef]":"text-[#3e2723]",[N,j]=k.useState(""),[z,E]=k.useState([]),[T,A]=k.useState(!0),[R,U]=k.useState(""),[H,P]=k.useState(!1),[I,Z]=k.useState(!1),[J,F]=k.useState(null),[de,ve]=k.useState([]),[ge,te]=k.useState({fullName:"",email:"",phone:"",roleId:2}),[se,B]=k.useState({fullName:"",phone:"",roleId:2,status:"active"}),[me,D]=k.useState(!1),[oe,le]=k.useState({message:"",tone:"success"}),Ae=k.useCallback((Y,we="success")=>{le({message:Y,tone:we})},[]);k.useEffect(()=>{if(!oe.message)return;const Y=setTimeout(()=>{le({message:"",tone:"success"})},3500);return()=>clearTimeout(Y)},[oe.message]);const ce=k.useCallback(async({notify:Y=!1}={})=>{A(!0),U("");try{const{data:we}=await va([()=>Ie.get("/admin/users")],De=>Fa(De)||De?.response?.status===500);E(Array.isArray(we)?we:[]),Y&&Ae(r("users_loaded","Users loaded."))}catch(we){E([]);const De=Xt(we,"Failed to load users");U(De),Ae(De,"error")}finally{A(!1)}},[Ae,r]);k.useEffect(()=>{ce({notify:!0})},[ce]);const $=k.useMemo(()=>{const Y=N.trim().toLowerCase();return Y?z.filter(we=>String(we.fullName||"").toLowerCase().includes(Y)||String(we.email||"").toLowerCase().includes(Y)||String(we.phone||"").toLowerCase().includes(Y)):z},[z,N]),ae=k.useCallback(async()=>{const{data:Y}=await Ie.get("/admin/roles");return Array.isArray(Y)?Y:[]},[]),Q=async()=>{U(""),D(!1),te({fullName:"",email:"",phone:"",roleId:de[0]?.id||2}),P(!0);try{const Y=de.length?de:await ae();ve(Y),!ge.roleId&&Y.length&&te(we=>({...we,roleId:Y[0].id}))}catch(Y){P(!1);const we=Xt(Y,"Failed to load roles");U(we),Ae(we,"error")}},W=async Y=>{if(Y&&(U(""),D(!1),F(Y),B({fullName:String(Y.fullName||""),phone:String(Y.phone||""),roleId:Number(Y.roleId)||2,status:String(Y.status||"active")}),Z(!0),!de.length))try{const we=await ae();ve(we)}catch(we){Z(!1),F(null);const De=Xt(we,"Failed to load roles");U(De),Ae(De,"error")}},Ne=async Y=>{Y.preventDefault(),D(!0),U("");try{const we={fullName:ge.fullName.trim(),email:ge.email.trim(),phone:ge.phone.trim(),roleId:Number(ge.roleId)||2},{data:De}=await Ie.post("/admin/users",we);E(He=>[De,...He]),P(!1),Ae(r("user_created","User created."))}catch(we){const De=Xt(we,"Create user failed");U(De),Ae(De,"error")}finally{D(!1)}},Me=async Y=>{if(Y.preventDefault(),!!J){D(!0),U("");try{const we={fullName:se.fullName.trim(),phone:se.phone.trim(),roleId:Number(se.roleId)||2,status:se.status};await Ie.patch(`/admin/users/${J.id}`,we),E(De=>De.map(He=>He.id===J.id?{...He,fullName:we.fullName,phone:we.phone||null,roleId:we.roleId,roleName:de.find(st=>Number(st.id)===Number(we.roleId))?.name||He.roleName,status:we.status}:He)),Z(!1),F(null),Ae(r("user_updated","User updated."))}catch(we){const De=Xt(we,"Update user failed");U(De),Ae(De,"error")}finally{D(!1)}}},Le=async Y=>{if(!Y?.id)return;if(Number(Y.id)===Number(n?.id)){Ae(r("cannot_delete_self","You cannot delete your own account."),"error");return}if(window.confirm(r("confirm_delete_user",`Delete ${Y.fullName||Y.email||"this user"}?`))){D(!0),U("");try{await Ie.delete(`/admin/users/${Y.id}`),E(De=>De.filter(He=>He.id!==Y.id)),Ae(r("user_deleted","User deleted."))}catch(De){const He=Xt(De,"Delete user failed");U(He),Ae(He,"error")}finally{D(!1)}}};return l.jsxs("div",{className:`p-4 min-h-screen ${d} ${f} heritage-page-root`,children:[l.jsx(kf,{message:oe.message,tone:oe.tone}),l.jsxs("div",{className:`rounded-lg p-5 mb-6 border ${g}
        bg-gradient-to-r from-[#5d4037]/10 to-[#d4af37]/12 heritage-panel heritage-panel--accent`,children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:r("users","Users")}),l.jsx("p",{className:"opacity-70",children:r("users_desc","Registered users (name, email, phone) - passwords are never shown.")})]}),l.jsxs("button",{className:"heritage-btn inline-flex items-center gap-2 px-4 py-3 rounded-md shadow disabled:opacity-60",type:"button",onClick:Q,disabled:n?.role!==1,title:n?.role!==1?"Admin only":"Add a new user",children:[l.jsx(MS,{className:"w-5 h-5"}),r("add_user","Add User")]})]}),l.jsxs("div",{className:"mt-4 relative",children:[l.jsx(br,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 opacity-60"}),l.jsx("input",{value:N,onChange:Y=>j(Y.target.value),className:`heritage-input w-full pl-9 pr-3 py-2 rounded-md border
            focus:outline-none focus:ring-2 focus:ring-[#5d4037]/25
            ${y} ${b} ${g}`,placeholder:r("search_users","Search users...")})]})]}),l.jsx("div",{className:`rounded-lg border ${g} ${h} overflow-hidden heritage-panel`,children:T?l.jsx("div",{className:"p-10 text-center opacity-60",children:r("loading","Loading...")}):R?l.jsx("div",{className:"p-10 text-center",children:l.jsx("div",{className:"text-[#a0552a] font-semibold",children:R})}):$.length===0?l.jsx("div",{className:"p-10 text-center opacity-60",children:r("no_results","No results.")}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"heritage-table w-full text-sm",children:[l.jsx("thead",{className:x,children:l.jsxs("tr",{className:`text-start border-b ${g}`,children:[l.jsx("th",{className:"py-3 px-4 text-start",children:r("full_name","Full Name")}),l.jsx("th",{className:"py-3 px-4 text-start",children:r("email","Email")}),l.jsx("th",{className:"py-3 px-4 text-start",children:r("phone","Phone")}),l.jsx("th",{className:"py-3 px-4 text-start",children:r("role","Role")}),l.jsx("th",{className:"py-3 px-4 text-start",children:r("status","Status")}),n?.role===1?l.jsx("th",{className:"py-3 px-4 text-end",children:r("actions","Actions")}):null]})}),l.jsx("tbody",{children:$.map(Y=>l.jsxs("tr",{className:`border-b ${g} ${Y.id===n?.id?"bg-[#5d4037]/10":""}`,children:[l.jsx("td",{className:"py-3 px-4 text-start",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qd,{className:"w-4 h-4 opacity-70"}),l.jsx("span",{className:"font-medium",children:Y.fullName})]})}),l.jsx("td",{className:"py-3 px-4 text-start",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Uc,{className:"w-4 h-4 opacity-70"}),l.jsx("span",{children:Y.email})]})}),l.jsx("td",{className:"py-3 px-4 text-start",children:Y.phone||"-"}),l.jsx("td",{className:"py-3 px-4 text-start",children:l.jsxs("span",{className:"heritage-pill heritage-pill--tag",children:[l.jsx(lf,{className:"w-3 h-3"}),Y.roleName||Y.roleId]})}),l.jsx("td",{className:"py-3 px-4 text-start",children:Y.status}),n?.role===1?l.jsx("td",{className:"py-3 px-4 text-end",children:l.jsxs("div",{className:"flex justify-end",children:[l.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 px-3 py-2 rounded-md border ${g} hover:opacity-90 disabled:opacity-60`,onClick:()=>W(Y),disabled:me,children:[l.jsx(aS,{className:"w-4 h-4"}),r("edit","Edit")]}),l.jsxs("button",{type:"button",className:"ml-2 inline-flex items-center gap-2 px-3 py-2 rounded-md bg-[#a0552a] text-white hover:bg-[#a0552a] disabled:opacity-60",onClick:()=>Le(Y),disabled:me,children:[l.jsx(ds,{className:"w-4 h-4"}),r("delete","Delete")]})]})}):null]},Y.id))})]})})}),H?l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>me?null:P(!1)}),l.jsxs("div",{className:`relative w-full max-w-lg rounded-lg border ${g} ${h} p-6 shadow-xl heritage-panel`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold",children:r("add_user","Add User")}),l.jsx("p",{className:"text-sm opacity-70",children:r("add_user_desc","We will email them a password-reset code to set their password.")})]}),l.jsx("button",{type:"button",className:`p-2 rounded-md border ${g} hover:opacity-90 disabled:opacity-60`,onClick:()=>P(!1),disabled:me,children:l.jsx(_a,{className:"w-4 h-4"})})]}),l.jsxs("form",{className:"mt-5 space-y-4",onSubmit:Ne,children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("full_name","Full Name")}),l.jsx("input",{value:ge.fullName,onChange:Y=>te(we=>({...we,fullName:Y.target.value})),required:!0,className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,placeholder:r("full_name_placeholder","Full name"),disabled:me})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("email","Email")}),l.jsx("input",{value:ge.email,onChange:Y=>te(we=>({...we,email:Y.target.value})),required:!0,type:"email",className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,placeholder:"email@example.com",disabled:me})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("phone","Phone")}),l.jsx("input",{value:ge.phone,onChange:Y=>te(we=>({...we,phone:Y.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,placeholder:"+1 555 123 4567",disabled:me})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("role","Role")}),l.jsx("select",{value:ge.roleId,onChange:Y=>te(we=>({...we,roleId:Y.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,disabled:me,children:(de.length?de:[{id:2,name:"user"}]).map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))})]}),R?l.jsx("div",{className:"text-sm text-[#556b2f] font-semibold",children:R}):null,l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-4 py-2 rounded-md border ${g} hover:opacity-90 disabled:opacity-60`,onClick:()=>P(!1),disabled:me,children:r("cancel","Cancel")}),l.jsx("button",{type:"submit",className:"heritage-btn px-4 py-2 rounded-md disabled:opacity-60",disabled:me,children:me?r("creating","Creating..."):r("create_user","Create User")})]})]})]})]}):null,I?l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>me?null:Z(!1)}),l.jsxs("div",{className:`relative w-full max-w-lg rounded-lg border ${g} ${h} p-6 shadow-xl heritage-panel`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold",children:r("edit_user","Edit User")}),l.jsx("p",{className:"text-sm opacity-70",children:J?.email||""})]}),l.jsx("button",{type:"button",className:`p-2 rounded-md border ${g} hover:opacity-90 disabled:opacity-60`,onClick:()=>Z(!1),disabled:me,children:l.jsx(_a,{className:"w-4 h-4"})})]}),l.jsxs("form",{className:"mt-5 space-y-4",onSubmit:Me,children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("full_name","Full Name")}),l.jsx("input",{value:se.fullName,onChange:Y=>B(we=>({...we,fullName:Y.target.value})),required:!0,className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,disabled:me})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("phone","Phone")}),l.jsx("input",{value:se.phone,onChange:Y=>B(we=>({...we,phone:Y.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,disabled:me})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("role","Role")}),l.jsx("select",{value:se.roleId,onChange:Y=>B(we=>({...we,roleId:Y.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,disabled:me,children:(de.length?de:[{id:2,name:"user"}]).map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:r("status","Status")}),l.jsxs("select",{value:se.status,onChange:Y=>B(we=>({...we,status:Y.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${y} ${b} ${g}`,disabled:me,children:[l.jsx("option",{value:"active",children:r("active","Active")}),l.jsx("option",{value:"disabled",children:r("disabled","Disabled")})]})]})]}),R?l.jsx("div",{className:"text-sm text-[#556b2f] font-semibold",children:R}):null,l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-4 py-2 rounded-md border ${g} hover:opacity-90 disabled:opacity-60`,onClick:()=>Z(!1),disabled:me,children:r("cancel","Cancel")}),l.jsx("button",{type:"submit",className:"heritage-btn px-4 py-2 rounded-md disabled:opacity-60",disabled:me,children:me?r("saving","Saving..."):r("save","Save")})]})]})]})]}):null]})}function mL(){const{theme:e}=dn(),{t:n}=fn(),{user:r}=Di(),o=e==="dark",d=r?.role===1,f=o?"bg-[#3e2723]":"bg-[#f5f1e8]",h=o?"text-[#f8f5ef]":"text-[#3e2723]",g=o?"bg-[#3e2723]":"bg-white",x=o?"border-[#2c1810]":"border-[#e8dfca]",y=o?"bg-white/5":"bg-[#f8f5ef]",b=o?"hover:bg-white/5":"hover:bg-[#f8f5ef]",N=o?"bg-[#3e2723]":"bg-white",j=o?"text-[#f8f5ef]":"text-[#3e2723]",z=o?"text-[#d4af37]":"text-[#5d4037]",E=o?"bg-white/5":"bg-[#fdf6ea]",T=50*1024*1024,A=50*1024*1024,R=new Set(["pdf","doc","docx","txt","epub","mobi"]),U=new Set(["jpg","jpeg","png","gif","webp"]),H=V=>{const re=String(V||"").toLowerCase().split(".");return re.length>1?re.pop():""},P=V=>{if(!V)return n("file_required","File is required");if(V.size>T)return n("file_too_large","File is too large (max 50MB).");const re=H(V.name);return re&&!R.has(re)?n("invalid_book_type","Unsupported file type. Use PDF, DOC, DOCX, TXT, EPUB, or MOBI."):""},I=V=>{if(!V)return n("cover_required","Cover image is required");if(V.size>A)return n("file_too_large","File is too large (max 50MB).");const re=H(V.name);return!(V.type?V.type.startsWith("image/"):!1)&&re&&!U.has(re)?n("invalid_image_type","Only image files are allowed."):""},[Z,J]=k.useState("public"),[F,de]=k.useState(""),[ve,ge]=k.useState([]),[te,se]=k.useState([]),[B,me]=k.useState([]),[D,oe]=k.useState(!0),[le,Ae]=k.useState(""),[ce,$]=k.useState(!1),[ae,Q]=k.useState(!1),[W,Ne]=k.useState({title:"",author:"",category:"",description:"",isPublic:!0,file:null,cover:null}),[Me,Le]=k.useState(""),[Y,we]=k.useState({message:"",tone:"success"}),De=k.useCallback((V,re="success")=>{we({message:V,tone:re})},[]);k.useEffect(()=>{if(!Y.message)return;const V=setTimeout(()=>{we({message:"",tone:"success"})},3500);return()=>clearTimeout(V)},[Y.message]);const He=k.useCallback(async({notify:V=!1}={})=>{oe(!0),Ae("");try{const _e=q=>Fa(q)||q?.response?.status===401||q?.response?.status===403||q?.response?.status===500;if(d){const q=await va([()=>Ie.get("/admin/books"),()=>Ie.get("/my/books")],_e),fe=q.data?.success&&Array.isArray(q.data?.data)?q.data.data:q.data;ge(Array.isArray(fe)?fe:[])}else{const[q,fe]=await Promise.all([Ie.get("/my/books"),Ie.get("/books")]),Ze=q.data?.success&&Array.isArray(q.data?.data)?q.data.data:q.data,ut=fe.data?.success&&Array.isArray(fe.data?.data)?fe.data.data:fe.data;se(Array.isArray(Ze)?Ze:[]),me(Array.isArray(ut)?ut:[])}V&&De(n("books_loaded","Books loaded."))}catch(re){const _e=Xt(re,"Failed to load books");Ae(_e),De(_e,"error")}finally{oe(!1)}},[d,De,n]);k.useEffect(()=>{He({notify:!0})},[He]),k.useEffect(()=>{if(!W.cover){Le("");return}const V=URL.createObjectURL(W.cover);return Le(V),()=>URL.revokeObjectURL(V)},[W.cover]);const st=d?ve:Z==="my"?te:B,it=k.useMemo(()=>{const V=F.trim().toLowerCase();return V?st.filter(re=>{const _e=String(re.title||"").toLowerCase(),q=String(re.author||"").toLowerCase(),fe=String(re.category||"").toLowerCase();return _e.includes(V)||q.includes(V)||fe.includes(V)}):st},[st,F]),Ve=k.useMemo(()=>Qp(),[]),tt=V=>{const re=String(V||"");return re?re.startsWith("http")?re:re.startsWith("/")?`${Ve}${re}`:`${Ve}/${re}`:""},Rt=V=>String(V||"").trim().charAt(0).toUpperCase()||"B",Tt=()=>{Ae(""),Ne({title:"",author:"",category:"",description:"",isPublic:!!d,file:null,cover:null}),$(!0)},ne=async V=>{V.preventDefault(),Q(!0),Ae("");try{const re=Ze=>Fa(Ze)||Ze?.response?.status===401||Ze?.response?.status===403||Ze?.response?.status===500;if(!W.title.trim()){const Ze=n("title_required","Title is required");Ae(Ze),De(Ze,"error");return}if(!W.file){const Ze=n("file_required","File is required");Ae(Ze),De(Ze,"error");return}if(!W.cover){const Ze=n("cover_required","Cover image is required");Ae(Ze),De(Ze,"error");return}const _e=P(W.file);if(_e){Ae(_e),De(_e,"error");return}const q=I(W.cover);if(q){Ae(q),De(q,"error");return}const fe=new FormData;fe.append("title",W.title.trim()),W.author.trim()&&fe.append("author",W.author.trim()),W.category.trim()&&fe.append("category",W.category.trim()),W.description.trim()&&fe.append("description",W.description.trim()),fe.append("isPublic",String(W.isPublic)),fe.append("file",W.file),fe.append("cover",W.cover),d?await va([()=>Ie.post("/admin/books",fe),()=>Ie.post("/my/books",fe)],re):await Ie.post("/my/books",fe),$(!1),await He(),De(n("book_uploaded","Book uploaded.")),d||J("my")}catch(re){const _e=Xt(re,"Upload failed");Ae(_e),De(_e,"error")}finally{Q(!1)}},Te=async V=>{if(V?.id){Q(!0),Ae("");try{const re=await Ie.get(`/my/books/${V.id}/download`,{responseType:"blob"}),_e=URL.createObjectURL(re.data);window.open(_e,"_blank","noopener,noreferrer"),window.setTimeout(()=>URL.revokeObjectURL(_e),6e4),He()}catch(re){const _e=Xt(re,"Open failed");Ae(_e),De(_e,"error")}finally{Q(!1)}}},O=async V=>{if(V?.id){Q(!0),Ae("");try{const re=await Ie.get(`/my/books/${V.id}/download`,{responseType:"blob"}),_e=URL.createObjectURL(re.data),q=document.createElement("a");q.href=_e,q.download=`${String(V.title||"book").trim()||"book"}`,document.body.appendChild(q),q.click(),q.remove(),window.setTimeout(()=>URL.revokeObjectURL(_e),6e4),He()}catch(re){const _e=Xt(re,"Download failed");Ae(_e),De(_e,"error")}finally{Q(!1)}}},K=V=>{const re=V?.fileUrl;if(re){const _e=tt(re);window.open(_e,"_blank","noopener,noreferrer");return}Te(V)},ee=V=>`${Ve}/api/books/${V}/download`,pe=async V=>{if(window.confirm(n("confirm_delete_book",`Delete "${V?.title||"book"}"?`))){Q(!0),Ae("");try{d?await va([()=>Ie.delete(`/admin/books/${V.id}`),()=>Ie.delete(`/my/books/${V.id}`)],q=>Fa(q)||q?.response?.status===401||q?.response?.status===403||q?.response?.status===500):await Ie.delete(`/my/books/${V.id}`),d?ge(q=>q.filter(fe=>fe.id!==V.id)):se(q=>q.filter(fe=>fe.id!==V.id)),He(),De(n("book_deleted","Book deleted."))}catch(_e){if(_e?.response?.status===404){d?ge(fe=>fe.filter(Ze=>Ze.id!==V.id)):se(fe=>fe.filter(Ze=>Ze.id!==V.id)),He(),De(n("book_deleted","Book deleted."));return}const q=Xt(_e,"Delete failed");Ae(q),De(q,"error")}finally{Q(!1)}}};return l.jsxs("div",{className:`p-4 min-h-screen ${f} ${h} heritage-page-root`,children:[l.jsx(kf,{message:Y.message,tone:Y.tone}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Vn,{className:"w-6 h-6 text-[#5d4037]"}),l.jsx("h3",{className:"text-2xl font-bold",children:n("books","Books")})]}),l.jsxs("button",{className:`heritage-btn flex items-center gap-2 px-4 py-2 rounded-md shadow
          hover:opacity-95 active:scale-[0.97] disabled:opacity-60`,type:"button",onClick:Tt,disabled:ae,children:[l.jsx(tl,{className:"w-4 h-4"}),d?n("add_book","Add Book"):n("upload_book","Upload Book")]})]}),l.jsx("div",{className:`rounded-lg p-5 mb-6 border ${x} ${y} heritage-panel heritage-panel--accent`,children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"opacity-80",children:d?n("books_admin_desc","Upload and manage your genealogy library."):n("books_user_desc","Browse public books or upload private books for your account.")}),d?null:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",className:`px-3 py-2 rounded-md border text-sm font-semibold ${x} ${Z==="public"?"bg-[#5d4037] text-white border-transparent":b}`,onClick:()=>J("public"),disabled:D,children:n("public_books","Public Books")}),l.jsx("button",{type:"button",className:`px-3 py-2 rounded-md border text-sm font-semibold ${x} ${Z==="my"?"bg-[#5d4037] text-white border-transparent":b}`,onClick:()=>J("my"),disabled:D,children:n("my_books","My Books")})]})]}),l.jsxs("div",{className:"relative w-full md:max-w-md",children:[l.jsx(br,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 opacity-60"}),l.jsx("input",{value:F,onChange:V=>de(V.target.value),className:`heritage-input w-full pl-9 pr-3 py-2 rounded-md border
            focus:outline-none focus:ring-2 focus:ring-[#5d4037]/25
              ${N} ${j} ${x}`,placeholder:n("search_books","Search books...")})]})]})}),l.jsx("div",{className:`rounded-lg border ${x} ${g} overflow-hidden heritage-panel`,children:D?l.jsx("div",{className:"p-10 text-center opacity-60",children:n("loading","Loading...")}):le?l.jsx("div",{className:"p-10 text-center",children:l.jsx("div",{className:"text-[#556b2f] font-semibold",children:le})}):it.length===0?l.jsxs("div",{className:"p-10 text-center opacity-70",children:[l.jsx(Vn,{className:"w-10 h-10 mx-auto mb-3 opacity-40"}),l.jsx("p",{children:n("no_books_found","No books found.")})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"heritage-table w-full text-sm",children:[l.jsx("thead",{className:y,children:l.jsxs("tr",{className:`text-start border-b ${x}`,children:[l.jsx("th",{className:"py-3 px-4 text-start",children:n("title","Title")}),l.jsx("th",{className:"py-3 px-4 text-start",children:n("author","Author")}),l.jsx("th",{className:"py-3 px-4 text-start",children:n("category","Category")}),l.jsx("th",{className:"py-3 px-4 text-start",children:n("public","Public")}),l.jsx("th",{className:"py-3 px-4 text-start",children:n("downloads","Downloads")}),d?l.jsx("th",{className:"py-3 px-4 text-start",children:n("uploaded_by","Uploaded By")}):null,l.jsx("th",{className:"py-3 px-4 text-start",children:n("date","Date")}),l.jsx("th",{className:"py-3 px-4 text-end",children:n("actions","Actions")})]})}),l.jsx("tbody",{children:it.map(V=>(()=>{const re=typeof V.isPublic=="boolean"?V.isPublic:Z==="public",_e=d||Z==="my",q=tt(V.coverUrl),fe=Rt(V.title);return l.jsxs("tr",{className:`border-b ${x} ${b}`,children:[l.jsx("td",{className:"py-3 px-4 text-start",children:l.jsxs("div",{className:"flex items-center gap-3",children:[q?l.jsx("img",{src:q,alt:V.title||"Book cover",className:`h-12 w-9 object-cover rounded-md ${x}`,loading:"lazy"}):l.jsx("div",{className:`h-12 w-9 rounded-md ${x} bg-gradient-to-br from-[#5d4037]/10 to-[#d4af37]/15 text-[#5d4037] text-xs font-bold flex items-center justify-center`,children:fe}),l.jsx("span",{className:"font-semibold",children:V.title})]})}),l.jsx("td",{className:"py-3 px-4 text-start",children:V.author||"-"}),l.jsx("td",{className:"py-3 px-4 text-start",children:V.category||"-"}),l.jsx("td",{className:"py-3 px-4 text-start",children:l.jsx("span",{className:`heritage-pill ${re?"heritage-pill--public":"heritage-pill--private"}`,children:re?n("yes","Yes"):n("no","No")})}),l.jsx("td",{className:"py-3 px-4 text-start",children:Number(V.downloads)||0}),d?l.jsx("td",{className:"py-3 px-4 text-start",children:V.uploadedBy||"-"}):null,l.jsx("td",{className:"py-3 px-4 text-start",children:Yb(V.createdAt)}),l.jsx("td",{className:"py-3 px-4 text-end",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[V.fileUrl||_e?l.jsx("button",{type:"button",className:`px-3 py-2 rounded-md border ${x} hover:opacity-90`,onClick:()=>K(V),title:"Open file",children:l.jsx(l0,{className:"w-4 h-4"})}):null,re?l.jsx("a",{className:`px-3 py-2 rounded-md border ${x} hover:opacity-90 inline-flex`,href:ee(V.id),target:"_blank",rel:"noreferrer",title:"Download",children:l.jsx(cs,{className:"w-4 h-4"})}):_e?l.jsx("button",{type:"button",className:`px-3 py-2 rounded-md border ${x} hover:opacity-90 disabled:opacity-60`,onClick:()=>void O(V),disabled:ae,title:"Download",children:l.jsx(cs,{className:"w-4 h-4"})}):null,d||Z==="my"?l.jsx("button",{type:"button",className:"px-3 py-2 rounded-md bg-[#a0552a] text-white hover:bg-[#a0552a] disabled:opacity-60",onClick:()=>pe(V),disabled:ae,title:"Delete",children:l.jsx(ds,{className:"w-4 h-4"})}):null]})})]},V.id)})())})]})})}),ce?l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ae?null:$(!1)}),l.jsxs("div",{className:`relative w-full max-w-4xl rounded-2xl border ${x} ${g} p-5 shadow-2xl heritage-panel max-h-[85vh] overflow-y-auto`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-xs uppercase tracking-[0.35em] ${z} opacity-80`,children:n("upload_book","Upload Book")}),l.jsx("h4",{className:"text-2xl font-bold mt-1",children:n("upload_book","Upload Book")}),l.jsx("p",{className:"text-sm opacity-70 max-w-2xl",children:n("upload_book_desc","Add a PDF or document to the library.")})]}),l.jsx("button",{type:"button",className:`p-2 rounded-md border ${x} hover:opacity-90 disabled:opacity-60`,onClick:()=>$(!1),disabled:ae,children:l.jsx(_a,{className:"w-4 h-4"})})]}),l.jsxs("form",{className:"mt-4 grid gap-5 lg:grid-cols-[260px_1fr]",onSubmit:ne,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:`rounded-xl border ${x} ${E} p-4`,children:[l.jsx("div",{className:`text-[11px] uppercase tracking-[0.3em] ${z}`,children:n("cover_image","Cover Image")}),l.jsxs("div",{className:"mt-3 grid grid-cols-[96px_1fr] gap-3 items-center",children:[l.jsx("div",{className:`h-28 w-20 rounded-md border ${x} overflow-hidden bg-gradient-to-br from-[#5d4037]/10 to-[#d4af37]/15 flex items-center justify-center`,children:Me?l.jsx("img",{src:Me,alt:"Cover preview",className:"h-full w-full object-cover"}):l.jsx("span",{className:"text-xs font-semibold text-[#5d4037]",children:n("add_cover","Add cover")})}),l.jsx("input",{type:"file",accept:"image/*",onChange:V=>Ne(re=>({...re,cover:V.target.files?.[0]||null})),className:`heritage-input w-full px-3 py-2 rounded-md border ${N} ${j} ${x}`,disabled:ae})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:`text-[11px] uppercase tracking-[0.3em] ${z}`,children:n("file","File")}),l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.txt,.epub,.mobi",onChange:V=>Ne(re=>({...re,file:V.target.files?.[0]||null})),className:`heritage-input w-full px-3 py-2 rounded-md border ${N} ${j} ${x}`,disabled:ae}),l.jsx("div",{className:`p-2 rounded-md border ${x}`,children:l.jsx(Tc,{className:"w-4 h-4 opacity-70"})})]})]}),l.jsxs("label",{className:"flex items-center justify-between gap-3 rounded-lg border px-3 py-2.5",children:[l.jsx("span",{className:"text-sm font-medium",children:n("public_visible","Public (visible on website)")}),l.jsx("input",{type:"checkbox",checked:W.isPublic,onChange:V=>Ne(re=>({...re,isPublic:V.target.checked})),className:"w-5 h-5",disabled:ae})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:n("title","Title")}),l.jsx("input",{value:W.title,onChange:V=>Ne(re=>({...re,title:V.target.value})),required:!0,className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${N} ${j} ${x}`,placeholder:"Book title",disabled:ae})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:n("author","Author")}),l.jsx("input",{value:W.author,onChange:V=>Ne(re=>({...re,author:V.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${N} ${j} ${x}`,placeholder:"Author",disabled:ae})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:n("category","Category")}),l.jsx("input",{value:W.category,onChange:V=>Ne(re=>({...re,category:V.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${N} ${j} ${x}`,placeholder:"Category",disabled:ae})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-semibold",children:n("description","Description")}),l.jsx("textarea",{value:W.description,onChange:V=>Ne(re=>({...re,description:V.target.value})),className:`heritage-input mt-2 w-full px-3 py-2 rounded-md border ${N} ${j} ${x}`,placeholder:"Short description",rows:2,disabled:ae})]})]}),le?l.jsx("div",{className:"text-sm text-red-500 font-semibold lg:col-span-2",children:le}):null,l.jsxs("div",{className:"flex justify-end gap-2 pt-1 lg:col-span-2",children:[l.jsx("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-4 py-2 rounded-md border ${x} hover:opacity-90 disabled:opacity-60`,onClick:()=>$(!1),disabled:ae,children:n("cancel","Cancel")}),l.jsxs("button",{type:"submit",className:"heritage-btn inline-flex items-center gap-2 px-4 py-2 rounded-md disabled:opacity-60",disabled:ae,children:[l.jsx(Tc,{className:"w-4 h-4"}),ae?n("uploading","Uploading..."):n("upload","Upload")]})]})]})]})]}):null]})}const pL=50*1024*1024,Hx=e=>{if(!e)return e;const n=e.owner??e.owner_name??"",r=n&&typeof n=="object"?n.fullName||n.email||"":n||"";return{...e,owner:r}};function gL(){const{theme:e}=dn(),{locale:n,t:r}=fn(),{user:o}=Di(),d=e==="dark",f=o?.role===1,h=d?"bg-[#3e2723]":"bg-[#f5f1e8]",g=d?"text-white":"text-[#6c5249]",x=d?"bg-[#3e2723]":"bg-white",y=d?"border-[#2c1810]":"border-[#e8dfca]",b=d?"bg-white/5 border-white/10":"bg-[#5d4037]/5 border-[#e8dfca]/80",N=d?"hover:bg-white/5":"hover:bg-black/[0.02]",j=d?"bg-[#3e2723]":"bg-white",z=d?"text-[#f8f5ef]":"text-[#3e2723]",[E,T]=k.useState("my"),[A,R]=k.useState(""),[U,H]=k.useState([]),[P,I]=k.useState([]),[Z,J]=k.useState(!0),[F,de]=k.useState(""),[ve,ge]=k.useState(null),[te,se]=k.useState(null),[B,me]=k.useState(!1),[D,oe]=k.useState(""),[le,Ae]=k.useState([]),[ce,$]=k.useState({title:"",description:"",archiveSource:"",documentCode:"",isPublic:!1}),[ae,Q]=k.useState(!1),[W,Ne]=k.useState(""),[Me,Le]=k.useState(""),[Y,we]=k.useState(""),[De,He]=k.useState(!1),[st,it]=k.useState(!1),Ve=k.useRef(null),tt=k.useRef(null),Rt=k.useRef(!1),Tt=k.useRef(!1),ne=k.useCallback(async({notify:$e=!1}={})=>{J(!0),de(""),Ne("");const Fe=!1,at=[],Ue=pt=>{const _t=new Map;return pt.forEach(yt=>{yt&&_t.set(String(yt.id),yt)}),Array.from(_t.values())};let mt="";try{const pt=nn=>Fa(nn)||nn?.response?.status===401||nn?.response?.status===403||nn?.response?.status===500,_t=f?()=>va([()=>Ie.get("/admin/trees"),()=>Ie.get("/my/trees")],pt):()=>Ie.get("/my/trees"),[yt,dt]=await Promise.allSettled([_t(),Ie.get("/trees")]);if(yt.status==="fulfilled"){const nn=yt.value?.data,ye=Ue([...Array.isArray(nn)?nn.map(Hx):[],...at]);H(ye)}if(dt.status==="fulfilled"){const nn=dt.value?.data,ye=Ue([...Array.isArray(nn)?nn.map(Hx):[],...at.filter(Be=>Be.isPublic)]);I(ye)}const $t=yt.status==="rejected"?yt.reason:dt.status==="rejected"?dt.reason:null;$t?(mt=Xt($t,"Failed to load trees"),de(mt),Ne(mt)):$e&&Le(r("trees_loaded","Trees loaded."))}finally{J(!1)}},[f,r]);k.useEffect(()=>{ne({notify:!0})},[ne]),k.useEffect(()=>{if(!Me)return;const $e=setTimeout(()=>Le(""),3500);return()=>clearTimeout($e)},[Me]),k.useEffect(()=>{if(!W)return;const $e=setTimeout(()=>Ne(""),5e3);return()=>clearTimeout($e)},[W]),k.useEffect(()=>{if(!Y)return;const $e=setTimeout(()=>we(""),2500);return()=>clearTimeout($e)},[Y]),k.useEffect(()=>()=>{Ve.current&&clearTimeout(Ve.current)},[]),k.useEffect(()=>{if(!ve){$({title:"",description:"",archiveSource:"",documentCode:"",isPublic:!1}),se(null);return}$({title:ve.title||"",description:ve.description||"",archiveSource:ve.archiveSource||"",documentCode:ve.documentCode||"",isPublic:!!ve.isPublic})},[ve]),k.useEffect(()=>{tt.current=null,Ve.current&&(clearTimeout(Ve.current),Ve.current=null),Tt.current=!1},[ve?.id,E]);const Te=E==="public"?P:U,O=ve&&!String(ve.id).startsWith("mock-")&&(te==="my"||f),K=!!ve&&!O,ee=k.useMemo(()=>{const $e=A.trim().toLowerCase();return $e?Te.filter(Fe=>{const at=String(Fe.title||"").toLowerCase(),Ue=Fe.owner??Fe.owner_name??"",mt=Ue&&typeof Ue=="object"?Ue.fullName||Ue.email||"":Ue||"",pt=String(mt).toLowerCase();return at.includes($e)||pt.includes($e)}):Te},[Te,A]),pe=($e,Fe)=>{const at=String(Fe?.id),Ue=$e.find(pt=>String(pt?.id)===at)||null;return[Ue?{...Ue,...Fe}:Fe,...$e.filter(pt=>String(pt?.id)!==at)]},V=({id:$e,title:Fe,description:at,isPublic:Ue,hasGedcom:mt,archiveSource:pt,documentCode:_t})=>{const yt={id:$e,title:Fe,description:at??"",archiveSource:pt??"",documentCode:_t??"",isPublic:!!Ue,updatedAt:new Date().toISOString()};mt!==void 0&&(yt.hasGedcom=!!mt),H(dt=>pe(dt,yt)),I(dt=>{const $t=dt.filter(ye=>String(ye.id)!==String($e));if(!Ue)return $t;const nn=dt.find(ye=>String(ye.id)===String($e))||{};return pe($t,{...nn,...yt})}),ge(dt=>!dt||String(dt.id)!==String($e)?dt:{...dt,...yt})},re=async $e=>{se(E),ge($e),Tt.current=!1,oe(""),me(!0);try{if(!$e?.hasGedcom){Ae([]),Tt.current=!1,Le(r("tree_loaded","Tree loaded."));return}if(String($e.id).startsWith("mock-")){const Ue=$e.title.split(" ").pop(),mt=[{id:"m1",names:{en:`Ahmed ${Ue}`,ar:` ${Ue}`},gender:"Male",birthYear:"1920",details:"The patriarch.",color:"#f8f5ef",children:["m3","m4"],spouse:"m2"},{id:"m2",names:{en:`Fatima ${Ue}`,ar:` ${Ue}`},gender:"Female",birthYear:"1925",details:"Matriarch.",color:"#f8f5ef",children:["m3","m4"],spouse:"m1"},{id:"m3",names:{en:`Omar ${Ue}`,ar:` ${Ue}`},gender:"Male",birthYear:"1950",details:"Eldest son.",color:"#f8f5ef",father:"m1",mother:"m2",children:["m5","m6"],spouse:"s1"},{id:"m4",names:{en:`Layla ${Ue}`,ar:` ${Ue}`},gender:"Female",birthYear:"1955",details:"Daughter.",color:"#f8f5ef",father:"m1",mother:"m2",children:["m7"],spouse:"s2"},{id:"s1",names:{en:"Amina Al-Jazairi",ar:" "},gender:"Female",birthYear:"1952",details:"Wife of Omar.",color:"#f8f5ef",spouse:"m3",children:["m5","m6"]},{id:"s2",names:{en:"Youssef Al-Tunisi",ar:" "},gender:"Male",birthYear:"1950",details:"Husband of Layla.",color:"#f8f5ef",spouse:"m4",children:["m7"]},{id:"m5",names:{en:`Khaled ${Ue}`,ar:` ${Ue}`},gender:"Male",birthYear:"1980",details:"Grandson.",color:"#f8f5ef",father:"m3",mother:"s1"},{id:"m6",names:{en:`Zainab ${Ue}`,ar:` ${Ue}`},gender:"Female",birthYear:"1985",details:"Granddaughter.",color:"#f8f5ef",father:"m3",mother:"s1"},{id:"m7",names:{en:"Hassan Al-Tunisi",ar:" "},gender:"Male",birthYear:"1982",details:"Grandson.",color:"#f8f5ef",father:"s2",mother:"m4"}];Ae(mt),Tt.current=!1,Le(r("tree_loaded","Tree loaded.")),me(!1);return}const Fe=E==="public"?`/trees/${$e.id}/gedcom`:`/my/trees/${$e.id}/gedcom`,at=await Ie.get(Fe,{responseType:"text"});Ae(jf(at.data)),Tt.current=!1,Le(r("tree_loaded","Tree loaded."))}catch(Fe){Ae([]),oe(Xt(Fe,"Failed to load tree file")),Tt.current=!1,Ne(Xt(Fe,"Failed to load tree file"))}finally{me(!1)}},_e=$e=>Fa($e)||$e?.response?.status===500,q=async({treeId:$e,title:Fe,description:at,archiveSource:Ue,documentCode:mt,isPublic:pt,people:_t=[],includeFile:yt=!0})=>{const dt=String(Fe||"").trim();if(!dt)throw new Error("Title is required");const $t=new FormData;$t.append("title",dt),$t.append("description",String(at||""));const nn=String(Ue||"").trim();nn&&$t.append("archiveSource",nn);const ye=String(mt||"").trim();if(ye&&$t.append("documentCode",ye),$t.append("isPublic",String(!!pt)),yt){const jt=Array.isArray(_t)?_t:[];let Cn="";try{Cn=Zb(jt,n,r)}catch(Un){throw new Error(Un?.message||r("gedcom_build_failed","Failed to build GEDCOM"))}const Jn=new Blob([Cn],{type:"text/plain"});if(Jn.size>pL)throw new Error(r("file_too_large","File is too large (max 50MB)."));const Wn=`${dt}.ged`;if(typeof File=="function"){const Un=new File([Jn],Wn,{type:"text/plain"});$t.append("file",Un)}else $t.append("file",Jn,Wn)}if($e)return await va([()=>Ie.put(`/my/trees/${$e}`,$t),()=>Ie.post(`/my/trees/${$e}/save`,$t)],_e),$e;const{data:Be}=await va([()=>Ie.post("/my/trees",$t)],_e);return Be?.id},fe=async($e,Fe)=>{if(!$e?.id)return;const at=Fe==="public"?`/trees/${$e.id}/gedcom`:`/my/trees/${$e.id}/gedcom`;try{const Ue=await Ie.get(at,{responseType:"blob"}),mt=new Blob([Ue.data],{type:"text/plain"}),pt=URL.createObjectURL(mt),_t=document.createElement("a"),dt=`${(String($e.title||"tree").trim()||"tree").replace(/[^\w-]+/g,"_")}.ged`;_t.href=pt,_t.download=dt,document.body.appendChild(_t),_t.click(),_t.remove(),URL.revokeObjectURL(pt)}catch(Ue){Ne(Xt(Ue,r("download_failed","Download failed")))}},Ze=async()=>{if(!O)return;const $e=tt.current;if(!Array.isArray($e)||Rt.current||ae)return;const Fe=ve;if(!Fe)return;const at=String(ce.title||Fe.title||"").trim();if(!at)return;const Ue=ce.description!==void 0&&ce.description!==null?String(ce.description):String(Fe.description||""),mt=ce.isPublic!==void 0&&ce.isPublic!==null?!!ce.isPublic:!!Fe.isPublic;Rt.current=!0,He(!0),Ne("");try{const pt=await q({treeId:Fe.id,title:at,description:Ue,archiveSource:ce.archiveSource||"",documentCode:ce.documentCode||"",isPublic:mt,people:$e,includeFile:!0});pt&&(V({id:pt,title:at,description:Ue,archiveSource:ce.archiveSource||"",documentCode:ce.documentCode||"",isPublic:mt,hasGedcom:!0}),we(r("auto_saved","Auto-saved.")),Tt.current=!1,tt.current=null)}catch(pt){Ne(Xt(pt,"Auto-save failed"))}finally{Rt.current=!1,He(!1)}},ut=$e=>{O&&(Tt.current=!0,tt.current=$e,Ve.current&&clearTimeout(Ve.current),Ve.current=setTimeout(()=>{Ze()},800))},et=()=>{ge(null),se(null),Ae([]),oe(""),Tt.current=!1},Ct=async()=>{Ne(""),Le("");const $e=!!(O&&ve?.id),Fe=le.length>0,at=String(ce.title||"").trim();if(!at){Ne(r("tree_title_required","Tree title is required."));return}if(!Fe&&!$e&&!window.confirm(r("save_empty_tree_confirm","Save this tree without any people yet?")))return;const Ue=String(ce.description||""),mt=!!ce.isPublic;Q(!0);try{const pt=$e?Tt.current:Fe,_t=pt?!0:$e?ve?.hasGedcom:!1,yt=await q({treeId:O?ve?.id:null,title:at,description:Ue,archiveSource:ce.archiveSource||"",documentCode:ce.documentCode||"",isPublic:mt,people:le,includeFile:pt});yt&&(V({id:yt,title:at,description:Ue,archiveSource:ce.archiveSource||"",documentCode:ce.documentCode||"",isPublic:mt,hasGedcom:_t}),T("my"),Le(r($e?"tree_updated":"tree_saved",$e?"Tree updated.":"Tree saved.")),O||(ge({id:yt,title:at,description:Ue,archiveSource:ce.archiveSource||"",documentCode:ce.documentCode||"",isPublic:mt,hasGedcom:_t}),se("my")),Tt.current=!1),await ne()}catch(pt){Ne(Xt(pt,"Save failed"))}finally{Q(!1)}},tn=async()=>{if(!O||!ve||!window.confirm(r("confirm_delete_tree","Delete this tree? This action cannot be undone.")))return;const Fe=ve.id;it(!0),Ne(""),Le("");try{await Ie.delete(`/my/trees/${ve.id}`),H(at=>at.filter(Ue=>String(Ue.id)!==String(Fe))),I(at=>at.filter(Ue=>String(Ue.id)!==String(Fe))),ge(null),se(null),Ae([]),Tt.current=!1,await ne(),T("my"),Le(r("tree_deleted","Tree deleted."))}catch(at){if(at?.response?.status===404){H(Ue=>Ue.filter(mt=>String(mt.id)!==String(Fe))),I(Ue=>Ue.filter(mt=>String(mt.id)!==String(Fe))),ge(null),se(null),Ae([]),Tt.current=!1,await ne(),T("my"),Le(r("tree_deleted","Tree deleted."));return}Ne(Xt(at,r("delete_failed","Delete failed")))}finally{it(!1)}},St=W||Me,Kt=W?"error":"success";return l.jsxs("div",{className:`p-4 min-h-screen ${h} ${g} heritage-page-root`,children:[l.jsx(kf,{message:St,tone:Kt}),l.jsxs("div",{className:`rounded-lg p-5 mb-6 border ${y}

        bg-gradient-to-r from-[#3e2723]/10 to-[#556b2f]/10 heritage-panel heritage-panel--accent`,children:[l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(il,{className:"w-6 h-6 text-[#5d4037]"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:r("trees_builder","Family Tree Builder")}),l.jsx("p",{className:"opacity-70",children:r("trees_builder_desc","Public trees are visible to everyone; private trees are only for you.")})]})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l.jsxs("button",{type:"button",className:`px-4 py-2 rounded-md border ${y} hover:opacity-90 inline-flex items-center gap-2`,onClick:()=>void ne({notify:!0}),disabled:Z,children:[l.jsx(lS,{className:"w-4 h-4"}),r("refresh","Refresh")]})})]}),F||D?l.jsxs("div",{className:`mt-4 rounded-lg border ${y} ${x} p-4 heritage-panel`,children:[F?l.jsx("div",{className:"text-[#a0552a] font-semibold",children:F}):null,D?l.jsx("div",{className:"text-[#a0552a] font-semibold",children:D}):null]}):null]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[360px_1fr] gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:`rounded-lg border ${y} ${x} p-4 heritage-panel`,children:[l.jsx("div",{className:"font-bold mb-2",children:ve?r("tree_details","Tree Details"):r("new_tree","New Tree")}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{value:ce.title,onChange:$e=>$(Fe=>({...Fe,title:$e.target.value})),placeholder:r("tree_title","Tree title"),className:`heritage-input w-full px-3 py-2 rounded-md border ${y} ${j} ${z}`}),l.jsx("textarea",{value:ce.description,onChange:$e=>$(Fe=>({...Fe,description:$e.target.value})),placeholder:r("description","Description (optional)"),rows:3,className:`heritage-input w-full px-3 py-2 rounded-md border ${y} ${j} ${z}`}),l.jsx("input",{value:ce.archiveSource,onChange:$e=>$(Fe=>({...Fe,archiveSource:$e.target.value})),placeholder:r("archive_source","Archive Source (optional)"),className:`heritage-input w-full px-3 py-2 rounded-md border ${y} ${j} ${z}`}),l.jsx("input",{value:ce.documentCode,onChange:$e=>$(Fe=>({...Fe,documentCode:$e.target.value})),placeholder:r("document_code","Document Code (optional)"),className:`heritage-input w-full px-3 py-2 rounded-md border ${y} ${j} ${z}`}),l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[l.jsx("input",{type:"checkbox",checked:ce.isPublic,onChange:$e=>$(Fe=>({...Fe,isPublic:$e.target.checked})),className:`h-4 w-4 rounded border ${y}`}),l.jsx("span",{children:ce.isPublic?r("public","Public"):r("private","Private")})]})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsxs("button",{type:"button",className:"heritage-btn inline-flex items-center gap-2 px-4 py-2 rounded-md disabled:opacity-60",onClick:()=>void Ct(),disabled:ae||B||st,children:[l.jsx(jc,{className:"w-4 h-4"}),ae?r("saving","Saving..."):O?r("update_tree","Update Tree"):r("save_tree","Save Tree")]}),l.jsxs("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-4 py-2 rounded-md border ${y} inline-flex items-center gap-2`,onClick:et,disabled:ae||B,title:r("clear_canvas","Clear canvas"),children:[l.jsx(ds,{className:"w-4 h-4"}),r("clear","Clear")]}),O&&ve?l.jsxs("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-4 py-2 rounded-md border ${y} text-sm font-semibold inline-flex items-center gap-2`,onClick:()=>void tn(),disabled:st||ae||B||De,children:[l.jsx(_a,{className:"w-4 h-4"}),st?r("deleting","Deleting..."):r("delete_tree","Delete Tree")]}):null]}),De?l.jsx("div",{className:"text-xs opacity-70 mt-2",children:r("auto_saving","Auto-saving...")}):Y?l.jsx("div",{className:"text-xs opacity-70 mt-2",children:Y}):null]}),l.jsxs("div",{className:`rounded-lg border ${y} ${x} p-4 heritage-panel`,children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 max-w-md",children:[l.jsx("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-3 py-2 rounded-md border text-sm font-semibold ${y} ${E==="my"?"bg-[#6c5249] text-white border-transparent":N}`,onClick:()=>T("my"),children:r("my_trees","My Trees")}),l.jsx("button",{type:"button",className:`heritage-btn heritage-btn--ghost px-3 py-2 rounded-md border text-sm font-semibold ${y} ${E==="public"?"bg-[#6c5249] text-white border-transparent":N}`,onClick:()=>T("public"),children:r("public_trees","Public Trees")})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx(br,{className:"w-4 h-4 absolute rtl:right-3 rtl:left-auto ltr:left-3 top-1/2 -translate-y-1/2 opacity-60"}),l.jsx("input",{value:A,onChange:$e=>R($e.target.value),className:`heritage-input w-full rtl:pr-9 rtl:pl-3 ltr:pl-9 ltr:pr-3 py-2 rounded-md border

                focus:outline-none focus:ring-2 focus:ring-[#6c5249]/25
                ${j} ${z} ${y}`,placeholder:r("search_trees","Search trees...")})]}),Z?l.jsx("div",{className:"py-8 text-center opacity-70",children:r("loading","Loading...")}):ee.length===0?l.jsx("div",{className:"py-8 text-center opacity-70",children:r("no_trees_found","No trees found.")}):l.jsx("div",{className:"grid grid-cols-1 gap-4 max-h-[500px] overflow-auto pr-1",children:ee.map($e=>{const Fe=ve?.id===$e.id,at=Number.isFinite(Number($e.id))&&$e.hasGedcom;return l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>void re($e),onKeyDown:Ue=>{(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),re($e))},className:`${x} border ${y} rounded-2xl shadow-lg overflow-hidden transition focus:outline-none focus:ring-2 focus:ring-[#6c5249]/40 ${Fe?"ring-2 ring-[#6c5249]/40 border-[#6c5249]/50":"hover:shadow-xl"}`,children:[l.jsx("div",{className:"p-4 border-b border-white/5 bg-gradient-to-r from-[#5d4037]/10 to-transparent",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-[#5d4037] opacity-70",children:r("trees","Family Trees")}),l.jsx("h3",{className:"text-xl font-bold truncate",children:$e.title}),l.jsx("p",{className:"text-sm opacity-70",children:$e.owner||r("unknown","Unknown")})]}),l.jsx("span",{className:`text-[10px] uppercase tracking-[0.2em] px-3 py-1 rounded-full border ${y}`,children:$e.isPublic?r("public","Public"):r("private","Private")})]})}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("p",{className:"text-sm opacity-80 line-clamp-3",children:$e.description||r("no_description","No description.")}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{className:`${b} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(ya,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:r("archive_source","Archive Source")}),l.jsx("p",{className:"text-xs font-semibold break-words",children:$e.archiveSource||r("not_provided","Not provided")})]})]}),l.jsxs("div",{className:`${b} border rounded-xl p-3 flex items-start gap-2`,children:[l.jsx(Ha,{className:"w-4 h-4 text-[#d4af37] mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase opacity-60",children:r("document_code","Document Code")}),l.jsx("p",{className:"text-xs font-semibold font-mono break-words",children:$e.documentCode||r("not_provided","Not provided")})]})]})]}),l.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[l.jsx(vr,{className:"w-4 h-4"}),$e.hasGedcom?r("has_file","Has file"):r("no_file","No file"),B&&Fe?l.jsx("span",{className:"ml-auto",children:r("loading","Loading...")}):null]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:Ue=>{Ue.stopPropagation(),re($e)},className:`px-4 py-2 rounded-md border ${y} hover:opacity-90 inline-flex items-center gap-2`,children:[l.jsx(gp,{className:"w-4 h-4"}),r("view_tree","View Tree")]}),at?l.jsxs("button",{type:"button",onClick:Ue=>{Ue.stopPropagation(),fe($e,E)},className:"px-4 py-2 rounded-md text-white font-medium bg-gradient-to-r from-[#5d4037] to-[#d4af37] hover:opacity-90 transition inline-flex items-center gap-2",children:[l.jsx(cs,{className:"w-4 h-4"}),r("download_gedcom","Download GEDCOM")]}):null]})]})]},$e.id)})})]})]}),l.jsxs("div",{className:`rounded-lg border ${y} ${x} p-4 w-full heritage-panel`,children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"font-bold",children:ve?ve.title:r("canvas","Canvas")}),l.jsx("div",{className:"text-sm opacity-70",children:ve?ve.description||"":r("canvas_hint","Import a file or add people to start.")})]}),l.jsx(Ip,{fallback:({error:$e,reset:Fe})=>l.jsxs("div",{className:`rounded-lg border ${y} ${b} p-4`,children:[l.jsx("div",{className:"font-semibold",children:r("tree_builder_error","Tree builder failed to load.")}),l.jsx("div",{className:"text-sm opacity-70",children:$e?.message||r("tree_builder_try_again","Please try again.")}),l.jsx("button",{type:"button",onClick:Fe,className:`mt-3 inline-flex items-center rounded-md border ${y} px-3 py-1 text-xs font-semibold uppercase tracking-wide`,children:r("retry","Retry")})]}),children:l.jsx(Vp,{people:le,setPeople:Ae,onAutoSave:ut,readOnly:K})})]})]})]})}const qx=[{value:"en",label:"English"},{value:"fr",label:"French"},{value:"ar",label:"Arabic"},{value:"es",label:"Spanish"}],Dm={enabled:!0,background:"#2c1810",text:"#f8f5ef",accent:"#d4af37",brandTitle:"Roots Maghreb",brandTagline:"Explore and preserve family heritage across the Maghreb.",links:[{label:"Home",href:"/"},{label:"Library",href:"/library"},{label:"Archives",href:"/archives"}],buttons:[{label:"Start a Tree",href:"/admin/trees",variant:"solid"},{label:"Explore Library",href:"/library",variant:"outline"}],images:[],socials:[{label:"Twitter",href:"https://twitter.com"}],fineprint:" Roots Maghreb. All rights reserved."};function vL(){const{theme:e}=dn(),{user:n,refreshMe:r}=Di(),{t:o}=fn(),d=e==="dark",f=n?.role===1,h=d?"bg-[#3e2723]":"bg-[#f5f1e8]",g=d?"text-[#f8f5ef]":"text-[#3e2723]",x=d?"bg-[#3e2723]":"bg-white",y=d?"border-[#2c1810]":"border-[#e8dfca]",b=d?"bg-[#3e2723]":"bg-white",N=d?"text-[#f8f5ef]":"text-[#3e2723]",[j,z]=k.useState(!0),[E,T]=k.useState(!1),[A,R]=k.useState(!1),[U,H]=k.useState(""),[P,I]=k.useState(""),[Z,J]=k.useState(Dm),[F,de]=k.useState(!1),[ve,ge]=k.useState(!1),[te,se]=k.useState(""),[B,me]=k.useState(""),[D,oe]=k.useState({allowRegistration:!0,activityRetentionDays:90,notifyAdmins:!0,defaultLanguage:"en",mockupDataActive:!1}),[le,Ae]=k.useState({fullName:"",phone:""});k.useEffect(()=>{let Y=!0;return(async()=>{try{z(!0),H(""),I("");const we=localStorage.getItem("mockupDataActive")==="true";if(!f){oe(it=>({...it,mockupDataActive:we}));return}const{data:De}=await Ie.get("/admin/settings");if(!Y)return;const He=String(De?.defaultLanguage||"en"),st=qx.some(it=>it.value===He)?He:"en";oe({allowRegistration:!!De?.allowRegistration,activityRetentionDays:Number(De?.activityRetentionDays)||90,notifyAdmins:!!De?.notifyAdmins,defaultLanguage:st,mockupDataActive:we})}catch(we){if(!Y)return;H(we.response?.data?.message||"Failed to load settings")}finally{if(!Y)return;z(!1)}})(),()=>{Y=!1}},[f]),k.useEffect(()=>{if(!f)return;let Y=!0;return(async()=>{try{de(!0),se("");const{data:we}=await Ie.get("/admin/footer");if(!Y)return;const De=we?.footer&&typeof we.footer=="object"?we.footer:Dm;J({...Dm,...De})}catch(we){if(!Y)return;se(we.response?.data?.message||"Failed to load footer")}finally{Y&&de(!1)}})(),()=>{Y=!1}},[f]),k.useEffect(()=>{localStorage.setItem("mockupDataActive",String(D.mockupDataActive))},[D.mockupDataActive]),k.useEffect(()=>{Ae({fullName:n?.fullName||"",phone:n?.phone||""})},[n?.fullName,n?.phone]);const ce=(Y,we)=>oe(De=>({...De,[Y]:we})),$=(Y,we)=>J(De=>({...De,[Y]:we})),ae=(Y,we)=>J(De=>{const He=Array.isArray(De[Y])?[...De[Y]]:[];return He.push(we),{...De,[Y]:He}}),Q=(Y,we,De)=>J(He=>{const st=Array.isArray(He[Y])?[...He[Y]]:[];return st[we]?(st[we]={...st[we],...De},{...He,[Y]:st}):He}),W=(Y,we)=>J(De=>{const He=Array.isArray(De[Y])?[...De[Y]]:[];return{...De,[Y]:He.filter((st,it)=>it!==we)}}),Ne=async()=>{T(!0),H(""),I("");try{await Ie.put("/admin/settings",{allowRegistration:!!D.allowRegistration,defaultLanguage:String(D.defaultLanguage||"en"),notifyAdmins:!!D.notifyAdmins,activityRetentionDays:Number(D.activityRetentionDays)||90}),I("Settings saved.")}catch(Y){H(Y.response?.data?.message||"Save settings failed")}finally{T(!1)}},Me=async()=>{ge(!0),se(""),me("");try{const Y={...Z,links:Array.isArray(Z.links)?Z.links:[],buttons:Array.isArray(Z.buttons)?Z.buttons:[],images:Array.isArray(Z.images)?Z.images:[],socials:Array.isArray(Z.socials)?Z.socials:[]};await Ie.put("/admin/footer",{footer:Y}),me("Footer saved.")}catch(Y){se(Y.response?.data?.message||"Save footer failed")}finally{ge(!1)}},Le=async()=>{R(!0),H(""),I("");try{await Ie.patch("/users/me",{fullName:le.fullName.trim(),phone:le.phone.trim()}),await r?.(),I("Profile updated.")}catch(Y){H(Y.response?.data?.message||"Update profile failed")}finally{R(!1)}};return l.jsxs("div",{className:`p-4 min-h-screen ${h} ${g}`,children:[l.jsxs("div",{className:`rounded-lg p-5 mb-6 border ${y}
        bg-gradient-to-r from-[#556b2f]/12 to-[#5d4037]/10 heritage-panel heritage-panel--accent`,children:[l.jsx("h3",{className:"text-2xl font-bold",children:o("settings","Settings")}),l.jsx("p",{className:"opacity-70",children:o("settings_desc","Control security, notifications, and platform preferences.")})]}),j?l.jsx("div",{className:"py-10 text-center opacity-70",children:o("loading","Loading...")}):null,!j&&(U||P)?l.jsxs("div",{className:`mb-4 rounded-lg border ${y} ${x} p-4 heritage-panel`,children:[U?l.jsx("div",{className:"text-[#a0552a] font-semibold",children:U}):null,P?l.jsx("div",{className:"text-[#5d4037] font-semibold",children:P}):null]}):null,l.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[f?l.jsxs("div",{className:`rounded-lg shadow-sm p-5 border ${y} ${x} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
              ${d?"bg-white/10":"bg-[#3e2723]/10"}`,children:l.jsx(m0,{className:"w-5 h-5 text-[#3e2723]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"Security"}),l.jsx("div",{className:"text-sm opacity-70",children:"Manage sign-up rules"})]})]}),l.jsxs("label",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"font-medium",children:o("allow_registration","Allow Registration")}),l.jsx("input",{type:"checkbox",checked:D.allowRegistration,onChange:Y=>ce("allowRegistration",Y.target.checked),className:"w-5 h-5",disabled:j||E})]})]}):null,f?l.jsxs("div",{className:`rounded-lg shadow-sm p-5 border ${y} ${x} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
              ${d?"bg-[#d4af37]/20":"bg-[#d4af37]/15"}`,children:l.jsx(vp,{className:"w-5 h-5 text-[#d4af37]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"Localization"}),l.jsx("div",{className:"text-sm opacity-70",children:"Default language"})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:o("default_language","Default Language")}),l.jsx("select",{value:D.defaultLanguage,onChange:Y=>ce("defaultLanguage",Y.target.value),className:`mt-2 w-full px-3 py-2 rounded-md border
              ${b} ${N} ${y}`,disabled:j||E,children:qx.map(Y=>l.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]}):null,f?l.jsxs("div",{className:`rounded-lg shadow-sm p-5 border ${y} ${x} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
              ${d?"bg-[#5d4037]/25":"bg-[#5d4037]/15"}`,children:l.jsx(o0,{className:"w-5 h-5 text-[#5d4037]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"Notifications"}),l.jsx("div",{className:"text-sm opacity-70",children:"Admin alerts"})]})]}),l.jsxs("label",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"font-medium",children:o("notify_admins","Notify admins on critical actions")}),l.jsx("input",{type:"checkbox",checked:D.notifyAdmins,onChange:Y=>ce("notifyAdmins",Y.target.checked),className:"w-5 h-5",disabled:j||E})]})]}):null,f?l.jsxs("div",{className:`rounded-lg shadow-sm p-5 border ${y} ${x} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
              ${d?"bg-[#556b2f]/25":"bg-[#556b2f]/15"}`,children:l.jsx(c_,{className:"w-5 h-5 text-[#556b2f]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"Logs & Retention"}),l.jsx("div",{className:"text-sm opacity-70",children:"How long activity stays stored"})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:o("activity_retention_days","Activity retention (days)")}),l.jsx("input",{type:"number",min:7,max:365,value:D.activityRetentionDays,onChange:Y=>ce("activityRetentionDays",Number(Y.target.value||0)),className:`mt-2 w-full px-3 py-2 rounded-md border
              ${b} ${N} ${y}`})]})]}):null,f?l.jsxs("div",{className:`lg:col-span-2 rounded-lg shadow-sm p-5 border ${y} ${x} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
              ${d?"bg-[#d4af37]/20":"bg-[#d4af37]/15"}`,children:l.jsx(c_,{className:"w-5 h-5 text-[#d4af37]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"Footer Builder"}),l.jsx("div",{className:"text-sm opacity-70",children:"Control links, buttons, and visuals shown on the public site"})]})]}),te?l.jsx("div",{className:"mb-3 text-sm text-red-500 font-semibold",children:te}):null,B?l.jsx("div",{className:"mb-3 text-sm text-[#d4af37] font-semibold",children:B}):null,l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center justify-between gap-3",children:[l.jsx("span",{className:"font-medium",children:"Enabled"}),l.jsx("input",{type:"checkbox",checked:Z.enabled,onChange:Y=>$("enabled",Y.target.checked)})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:"Brand Title"}),l.jsx("input",{value:Z.brandTitle,onChange:Y=>$("brandTitle",Y.target.value),className:`mt-1 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:"Tagline"}),l.jsx("textarea",{value:Z.brandTagline,onChange:Y=>$("brandTagline",Y.target.value),rows:2,className:`mt-1 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:"Fine print"}),l.jsx("input",{value:Z.fineprint,onChange:Y=>$("fineprint",Y.target.value),className:`mt-1 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`})]}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["background","text","accent"].map(Y=>l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium capitalize",children:Y}),l.jsx("input",{type:"color",value:Z[Y],onChange:we=>$(Y,we.target.value),className:"mt-1 w-full h-10 rounded-md border border-transparent"})]},Y))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Links"}),l.jsxs("button",{type:"button",onClick:()=>ae("links",{label:"New link",href:"/"}),className:"heritage-btn heritage-btn--ghost inline-flex items-center gap-1 text-sm px-3 py-1.5 rounded-md",children:[l.jsx(tl,{className:"w-4 h-4"})," Add"]})]}),l.jsx("div",{className:"space-y-2",children:Z.links.map((Y,we)=>l.jsxs("div",{className:`p-3 rounded-lg border ${y} ${d?"bg-white/5":"bg-black/[0.02]"}`,children:[l.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2 items-center",children:[l.jsx("input",{value:Y.label,onChange:De=>Q("links",we,{label:De.target.value}),placeholder:"Label",className:`px-3 py-2 rounded-md border ${b} ${N} ${y}`}),l.jsx("button",{type:"button",onClick:()=>W("links",we),className:"p-2 rounded-md border hover:bg-red-500/10",children:l.jsx(ds,{className:"w-4 h-4"})})]}),l.jsx("input",{value:Y.href,onChange:De=>Q("links",we,{href:De.target.value}),placeholder:"https://...",className:`mt-2 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`})]},`${Y.label}-${we}`))}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("span",{className:"font-medium",children:"Buttons"}),l.jsxs("button",{type:"button",onClick:()=>ae("buttons",{label:"New button",href:"/",variant:"solid"}),className:"heritage-btn heritage-btn--ghost inline-flex items-center gap-1 text-sm px-3 py-1.5 rounded-md",children:[l.jsx(tl,{className:"w-4 h-4"})," Add"]})]}),l.jsx("div",{className:"space-y-2",children:Z.buttons.map((Y,we)=>l.jsxs("div",{className:`p-3 rounded-lg border ${y} ${d?"bg-white/5":"bg-black/[0.02]"}`,children:[l.jsxs("div",{className:"grid grid-cols-[1fr_120px_auto] gap-2 items-center",children:[l.jsx("input",{value:Y.label,onChange:De=>Q("buttons",we,{label:De.target.value}),placeholder:"Label",className:`px-3 py-2 rounded-md border ${b} ${N} ${y}`}),l.jsxs("select",{value:Y.variant||"solid",onChange:De=>Q("buttons",we,{variant:De.target.value}),className:`px-3 py-2 rounded-md border ${b} ${N} ${y}`,children:[l.jsx("option",{value:"solid",children:"Solid"}),l.jsx("option",{value:"outline",children:"Outline"})]}),l.jsx("button",{type:"button",onClick:()=>W("buttons",we),className:"p-2 rounded-md border hover:bg-red-500/10",children:l.jsx(ds,{className:"w-4 h-4"})})]}),l.jsx("input",{value:Y.href,onChange:De=>Q("buttons",we,{href:De.target.value}),placeholder:"https://...",className:`mt-2 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`})]},`${Y.label}-${we}`))})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Images"}),l.jsxs("button",{type:"button",onClick:()=>ae("images",{src:"",alt:"Image",href:""}),className:"heritage-btn heritage-btn--ghost inline-flex items-center gap-1 text-sm px-3 py-1.5 rounded-md",children:[l.jsx(tl,{className:"w-4 h-4"})," Add"]})]}),Z.images.map((Y,we)=>l.jsxs("div",{className:`p-3 rounded-lg border ${y} ${d?"bg-white/5":"bg-black/[0.02]"}`,children:[l.jsx("input",{value:Y.src,onChange:De=>Q("images",we,{src:De.target.value}),placeholder:"Image URL",className:`w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`}),l.jsx("input",{value:Y.href,onChange:De=>Q("images",we,{href:De.target.value}),placeholder:"Link (optional)",className:`mt-2 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`}),l.jsx("input",{value:Y.alt,onChange:De=>Q("images",we,{alt:De.target.value}),placeholder:"Alt text",className:`mt-2 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`}),l.jsxs("button",{type:"button",onClick:()=>W("images",we),className:"mt-2 inline-flex items-center gap-1 px-3 py-1.5 rounded-md border hover:bg-red-500/10",children:[l.jsx(ds,{className:"w-4 h-4"})," Remove"]})]},`${Y.src}-${we}`))]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Social Links"}),l.jsxs("button",{type:"button",onClick:()=>ae("socials",{label:"New",href:"https://",icon:""}),className:"heritage-btn heritage-btn--ghost inline-flex items-center gap-1 text-sm px-3 py-1.5 rounded-md",children:[l.jsx(tl,{className:"w-4 h-4"})," Add"]})]}),Z.socials.map((Y,we)=>l.jsxs("div",{className:`p-3 rounded-lg border ${y} ${d?"bg-white/5":"bg-black/[0.02]"}`,children:[l.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2 items-center",children:[l.jsx("input",{value:Y.label,onChange:De=>Q("socials",we,{label:De.target.value}),placeholder:"Label",className:`px-3 py-2 rounded-md border ${b} ${N} ${y}`}),l.jsx("button",{type:"button",onClick:()=>W("socials",we),className:"p-2 rounded-md border hover:bg-red-500/10",children:l.jsx(ds,{className:"w-4 h-4"})})]}),l.jsx("input",{value:Y.href,onChange:De=>Q("socials",we,{href:De.target.value}),placeholder:"https://...",className:`mt-2 w-full px-3 py-2 rounded-md border ${b} ${N} ${y}`})]},`${Y.label}-${we}`))]})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[l.jsx("div",{className:"text-sm opacity-70",children:F?"Loading footer...":"Live preview reflects saved data"}),l.jsxs("button",{type:"button",onClick:Me,disabled:ve||F,className:"heritage-btn inline-flex items-center gap-2 px-4 py-2 rounded-md disabled:opacity-60",children:[l.jsx(jc,{className:"w-4 h-4"}),ve?"Saving...":"Save footer"]})]}),l.jsx("div",{className:"mt-4 border rounded-lg overflow-hidden",style:{borderColor:d?"#2c1810":"#e8dfca"},children:l.jsx(hb,{data:Z})})]}):null,l.jsxs("div",{className:`rounded-lg shadow-sm p-5 border ${y} ${x} heritage-panel`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center
              ${d?"bg-white/10":"bg-[#3e2723]/10"}`,children:l.jsx(pp,{className:"w-5 h-5 text-[#5d4037]"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"My Profile"}),l.jsx("div",{className:"text-sm opacity-70",children:"Update your own account info"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:o("email","Email")}),l.jsx("input",{value:n?.email||"",disabled:!0,className:`mt-2 w-full px-3 py-2 rounded-md border opacity-80
                ${b} ${N} ${y}`})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:o("full_name","Full Name")}),l.jsx("input",{value:le.fullName,onChange:Y=>Ae(we=>({...we,fullName:Y.target.value})),className:`mt-2 w-full px-3 py-2 rounded-md border
                ${b} ${N} ${y}`,disabled:j||A})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"font-medium",children:o("phone","Phone")}),l.jsx("input",{value:le.phone,onChange:Y=>Ae(we=>({...we,phone:Y.target.value})),className:`mt-2 w-full px-3 py-2 rounded-md border
                ${b} ${N} ${y}`,disabled:j||A})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{className:"heritage-btn heritage-btn--ghost inline-flex items-center gap-2 px-4 py-2 rounded-md",type:"button",disabled:j||A,onClick:Le,children:[l.jsx(jc,{className:"w-4 h-4"}),A?o("saving","Saving..."):o("save_profile","Save Profile")]})})]})]})]}),f?l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsxs("button",{className:"heritage-btn inline-flex items-center gap-2 px-5 py-3 rounded-md shadow disabled:opacity-60",type:"button",disabled:j||E,onClick:Ne,children:[l.jsx(jc,{className:"w-5 h-5"}),E?o("saving","Saving..."):o("save_settings","Save Settings")]})}):null]})}function yL(){const{theme:e}=dn(),{t:n}=fn(),{user:r}=Di(),o=e==="dark",d=r?.role===1,[f,h]=k.useState(""),[g,x]=k.useState("all"),[y,b]=k.useState([]),[N,j]=k.useState(!0),[z,E]=k.useState(""),T=o?"bg-[#3e2723]":"bg-[#f5f1e8]",A=o?"text-[#f8f5ef]":"text-[#3e2723]",R=o?"bg-[#3e2723]":"bg-white",U=o?"bg-white/5":"bg-black/[0.02]",H=o?"border-[#2c1810]":"border-[#e8dfca]",P=o?"bg-[#3e2723]":"bg-white",I=o?"text-[#f8f5ef]":"text-[#3e2723]";k.useEffect(()=>{let F=!0;const de=setTimeout(()=>{(async()=>{try{j(!0),E("");const{data:ve}=await Ie.get(d?"/admin/activity":"/activity",{params:{q:f,type:g,limit:200}});if(!F)return;b(Array.isArray(ve)?ve:[])}catch(ve){if(!F)return;b([]),E(ve.response?.data?.message||"Failed to load activity")}finally{if(!F)return;j(!1)}})()},250);return()=>{F=!1,clearTimeout(de)}},[f,g,d]);const Z=k.useMemo(()=>F=>F==="security"?l.jsx(_S,{className:"w-4 h-4"}):F==="users"?l.jsx(vr,{className:"w-4 h-4"}):F==="books"?l.jsx(Vn,{className:"w-4 h-4"}):l.jsx(Hd,{className:"w-4 h-4"}),[]),J=F=>F==="security"?o?"bg-[#556b2f]/20 text-[#f8f5ef]":"bg-[#556b2f]/15 text-[#3e2723]":F==="users"?"bg-[#5d4037]/15 text-[#5d4037]":F==="books"?o?"bg-[#d4af37]/20 text-[#f8f5ef]":"bg-[#d4af37]/15 text-[#3e2723]":o?"bg-white/10 text-[#f8f5ef]":"bg-black/[0.05] text-[#3e2723]";return l.jsxs("div",{className:`p-4 min-h-screen ${T} ${A} heritage-page-root`,children:[l.jsxs("div",{className:`rounded-lg p-5 mb-6 border ${H}
        bg-gradient-to-r from-[#5d4037]/15 to-[#3e2723]/10 heritage-panel heritage-panel--accent`,children:[l.jsx("h3",{className:"text-2xl font-bold",children:n("activity","Activity Log")}),l.jsx("p",{className:"opacity-70",children:n("activity_desc","Track what happens across your platform.")}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(br,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 opacity-60"}),l.jsx("input",{value:f,onChange:F=>h(F.target.value),className:`heritage-input w-full pl-9 pr-3 py-2 rounded-md border
              focus:outline-none focus:ring-2 focus:ring-[#5d4037]/25
              ${P} ${I} ${H}`,placeholder:n("search_activity","Search activity...")})]}),l.jsxs("div",{className:"relative",children:[l.jsx(c0,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 opacity-60"}),l.jsxs("select",{value:g,onChange:F=>x(F.target.value),className:`heritage-input w-full pl-9 pr-3 py-2 rounded-md border
              focus:outline-none focus:ring-2 focus:ring-[#5d4037]/25
              ${P} ${I} ${H}`,children:[l.jsx("option",{value:"all",children:n("all_types","All types")}),l.jsx("option",{value:"security",children:n("security","Security")}),l.jsx("option",{value:"users",children:n("users","Users")}),l.jsx("option",{value:"books",children:n("books","Books")}),l.jsx("option",{value:"trees",children:n("trees","Family Trees")})]})]}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsx("span",{className:"text-sm opacity-70",children:n("events_count",`${y.length} event(s)`)})})]})]}),l.jsx("div",{className:`rounded-lg shadow-sm border ${H} ${R} heritage-panel`,children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"heritage-table w-full text-sm",children:[l.jsx("thead",{className:U,children:l.jsxs("tr",{className:`text-left border-b ${H}`,children:[l.jsx("th",{className:"py-3 px-4",children:n("type","Type")}),l.jsx("th",{className:"py-3 px-4",children:n("description","Description")}),l.jsx("th",{className:"py-3 px-4",children:n("user","User")}),l.jsx("th",{className:"py-3 px-4",children:n("date","Date")})]})}),l.jsx("tbody",{children:N?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-10 text-center opacity-60",children:n("loading","Loading...")})}):z?l.jsx("tr",{children:l.jsxs("td",{colSpan:4,className:"py-10 text-center",children:[l.jsx("div",{className:"text-[#a0552a] font-semibold",children:z}),d?l.jsx("div",{className:"text-sm opacity-70 mt-2",children:n("admin_required","This page requires an admin account.")}):null]})}):y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-10 text-center opacity-60",children:n("no_activity_found","No activity found.")})}):y.map(F=>l.jsxs("tr",{className:`border-b ${H} ${o?"hover:bg-white/5":"hover:bg-black/[0.02]"}`,children:[l.jsx("td",{className:"py-3 px-4",children:l.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-md text-xs font-semibold ${J(F.type)}`,children:[Z(F.type),F.type]})}),l.jsx("td",{className:"py-3 px-4",children:F.description}),l.jsx("td",{className:"py-3 px-4 font-medium",children:F.user}),l.jsx("td",{className:"py-3 px-4",children:new Date(F.date).toLocaleString()})]},F.id))})]})})})]})}function _L(){const{theme:e}=dn(),{t:n}=fn(),r=e==="dark",o=k.useMemo(()=>Qp(),[]),d=10*1024*1024,f=new Set(["jpg","jpeg","png","gif","webp"]),[h,g]=k.useState([]),[x,y]=k.useState(!0),[b,N]=k.useState(!1),[j,z]=k.useState(null),[E,T]=k.useState({title:"",description:"",isPublic:!0,archiveSource:"",documentCode:""}),[A,R]=k.useState(null),[U,H]=k.useState(null),[P,I]=k.useState(""),[Z,J]=k.useState({message:"",tone:"success"}),F=Q=>{const W=String(Q||"").toLowerCase().split(".");return W.length>1?W.pop():""},de=(Q,{required:W=!1}={})=>{if(!Q)return W?n("image_required","Please select an image"):"";if(Q.size>d)return n("file_too_large","File is too large (max 10MB).");const Ne=F(Q.name);return!(Q.type?Q.type.startsWith("image/"):!1)&&Ne&&!f.has(Ne)?n("invalid_image_type","Only image files are allowed."):""},ve=k.useCallback((Q,W="success")=>{J({message:Q,tone:W})},[]);k.useEffect(()=>{if(!Z.message)return;const Q=setTimeout(()=>{J({message:"",tone:"success"})},3500);return()=>clearTimeout(Q)},[Z.message]);const ge=Q=>{const W=String(Q||"");return W?W.startsWith("http")?W:W.startsWith("/")?`${o}${W}`:`${o}/${W}`:""},te=k.useCallback(async({notify:Q=!1}={})=>{try{y(!0);const W=Le=>Fa(Le)||Le?.response?.status===401||Le?.response?.status===403||Le?.response?.status===500,{data:Ne}=await va([()=>Ie.get("/admin/gallery"),()=>Ie.get("/my/gallery"),()=>Ie.get("/gallery")],W),Me=(Ne?.success&&Array.isArray(Ne.data)?Ne.data:null)||Array.isArray(Ne?.gallery)&&Ne.gallery||Array.isArray(Ne)&&Ne||[];g(Me),Q&&ve(n("gallery_loaded","Images loaded."))}catch(W){console.error("Failed to load gallery:",W),g([]),ve(Xt(W,"Failed to load gallery"),"error")}finally{y(!1)}},[ve,n]);k.useEffect(()=>{Va.init({duration:800,once:!0}),te({notify:!0})},[te]);const se=()=>{T({title:"",description:"",isPublic:!0,archiveSource:"",documentCode:""}),P.startsWith("blob:")&&URL.revokeObjectURL(P),R(null),I(""),z(null)},B=Q=>{const W=Q.target.files?.[0];if(!W)return;const Ne=de(W);if(Ne){ve(Ne,"error"),Q.target.value="";return}P.startsWith("blob:")&&URL.revokeObjectURL(P),R(W),I(URL.createObjectURL(W))},me=Q=>{z(Q.id),T({title:Q.title||"",description:Q.description||"",isPublic:Q.isPublic,archiveSource:Q.archiveSource||"",documentCode:Q.documentCode||""}),R(null),I(ge(Q.imagePath)),window.scrollTo({top:0,behavior:"smooth"})},D=async Q=>{if(Q.preventDefault(),!E.title.trim()){ve(n("fill_required_fields","Please fill all required fields"),"error");return}const W=new FormData,Ne=de(A);if(Ne){ve(Ne,"error");return}A&&W.append("image",A),W.append("title",E.title.trim()),E.description.trim()&&W.append("description",E.description.trim()),W.append("isPublic",String(E.isPublic)),E.archiveSource.trim()&&W.append("archiveSource",E.archiveSource.trim()),E.documentCode.trim()&&W.append("documentCode",E.documentCode.trim());const Me=Le=>Fa(Le)||Le?.response?.status===401||Le?.response?.status===403||Le?.response?.status===500;try{if(N(!0),j)await va([()=>Ie.put(`/admin/gallery/${j}`,W),()=>Ie.post(`/admin/gallery/${j}/save`,W),()=>Ie.put(`/my/gallery/${j}`,W),()=>Ie.post(`/my/gallery/${j}/save`,W)],Me),ve(n("gallery_updated","Image updated."));else{if(!A){ve(n("image_required","Please select an image"),"error");return}await va([()=>Ie.post("/admin/gallery",W),()=>Ie.post("/my/gallery",W)],Me),ve(n("gallery_created","Image uploaded."))}se(),te()}catch(Le){console.error("Operation failed:",Le),ve(Xt(Le,n("operation_failed","Operation failed")),"error")}finally{N(!1)}},oe=async Q=>{if(window.confirm(n("confirm_delete","Are you sure you want to delete this item?")))try{await va([()=>Ie.delete(`/admin/gallery/${Q}`),()=>Ie.delete(`/my/gallery/${Q}`)],Ne=>Fa(Ne)||Ne?.response?.status===401||Ne?.response?.status===403||Ne?.response?.status===500),te(),ve(n("gallery_deleted","Image deleted."))}catch(W){console.error("Delete failed:",W),ve(Xt(W,n("delete_failed","Failed to delete")),"error")}},le=r?"bg-[#2c1810]":"bg-white",Ae=r?"border-[#d4af37]/20":"border-[#5d4037]/20",ce=r?"bg-[#3e2723]":"bg-[#fff9f0]",$=r?"text-[#f5f1e8]":"text-[#2c1810]",ae=U?.imagePath?ge(U.imagePath):"";return l.jsxs("div",{className:`min-h-screen p-6 ${r?"bg-[#1a0a05]":"bg-[#f5f1e8]"}`,children:[l.jsx(kf,{message:Z.message,tone:Z.tone}),l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8","data-aos":"fade-down",children:[l.jsx("h1",{className:`text-4xl font-bold font-serif ${r?"text-[#d4af37]":"text-[#5d4037]"} mb-2`,children:n("gallery_management","Gallery Management")}),l.jsx("p",{className:`${$} opacity-70`,children:n("gallery_desc","Upload and manage photos with archive metadata")})]}),l.jsxs("div",{className:`${le} border ${Ae} rounded-xl p-6 mb-8 shadow-lg`,"data-aos":"fade-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:`text-2xl font-bold font-serif ${r?"text-[#d4af37]":"text-[#5d4037]"} flex items-center gap-2`,children:j?l.jsxs(l.Fragment,{children:[l.jsx(d_,{className:"w-6 h-6"}),n("edit_photo","Edit Photo")]}):l.jsxs(l.Fragment,{children:[l.jsx(Tc,{className:"w-6 h-6"}),n("upload_new_photo","Upload New Photo")]})}),j&&l.jsxs("button",{onClick:se,className:`${$} opacity-70 hover:opacity-100 flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-red-500/10 transition`,children:[l.jsx(_a,{className:"w-5 h-5"}),n("cancel","Cancel")]})]}),l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-semibold ${$} mb-2`,children:[n("select_image","Select Image")," ",!j&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("div",{className:`border-2 border-dashed ${Ae} rounded-lg p-6 text-center cursor-pointer transition hover:border-[#d4af37] hover:bg-[#d4af37]/5`,onClick:()=>document.getElementById("imageInput").click(),children:P?l.jsxs("div",{className:"space-y-3",children:[l.jsx("img",{src:P,alt:"Preview",className:"max-h-64 mx-auto object-contain rounded-lg shadow-md"}),l.jsx("p",{className:`${$} text-sm`,children:A?.name||n("current_image","Current Image")})]}):l.jsxs("div",{className:"py-12",children:[l.jsx(us,{className:`w-16 h-16 mx-auto ${$} opacity-20 mb-4`}),l.jsx("p",{className:`${$} opacity-50 text-lg`,children:n("click_to_upload","Click to upload image")}),l.jsx("p",{className:`${$} opacity-30 text-sm mt-2`,children:"JPG, PNG, GIF, WEBP (max 10MB)"})]})}),l.jsx("input",{id:"imageInput",type:"file",accept:"image/*",onChange:B,className:"hidden"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-semibold ${$} mb-2`,children:[n("title","Title")," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:E.title,onChange:Q=>T({...E,title:Q.target.value}),className:`w-full px-4 py-3 rounded-lg border ${Ae} ${ce} ${$} focus:outline-none focus:ring-2 focus:ring-[#d4af37] transition`,placeholder:n("enter_title","Enter photo title..."),required:!0})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-8",children:[l.jsx("input",{type:"checkbox",checked:E.isPublic,onChange:Q=>T({...E,isPublic:Q.target.checked}),className:"w-5 h-5",id:"isPublic"}),l.jsx("label",{htmlFor:"isPublic",className:`${$} cursor-pointer font-medium`,children:n("make_public","Make public (visible to all users)")})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-semibold ${$} mb-2`,children:n("description","Description")}),l.jsx("textarea",{value:E.description,onChange:Q=>T({...E,description:Q.target.value}),className:`w-full px-4 py-3 rounded-lg border ${Ae} ${ce} ${$} focus:outline-none focus:ring-2 focus:ring-[#d4af37] transition`,placeholder:n("enter_description","Enter description..."),rows:3})]}),l.jsxs("div",{className:`p-6 rounded-lg border-2 border-dashed ${Ae} space-y-4`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(ya,{className:`w-5 h-5 ${r?"text-[#d4af37]":"text-[#5d4037]"}`}),l.jsxs("h3",{className:`text-lg font-bold ${r?"text-[#d4af37]":"text-[#5d4037]"}`,children:[n("archive_metadata","Archive Metadata")," (",n("optional","Optional"),")"]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:`block text-xs font-semibold ${$} opacity-80 mb-2 flex items-center gap-2`,children:[l.jsx(ya,{className:"w-4 h-4"}),n("archive_source","Archive Source")]}),l.jsx("input",{type:"text",value:E.archiveSource,onChange:Q=>T({...E,archiveSource:Q.target.value}),className:`w-full px-3 py-2 rounded-lg border ${Ae} ${ce} ${$} focus:outline-none focus:ring-2 focus:ring-[#d4af37] text-sm`,placeholder:"e.g. National Archives of Algeria"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-xs font-semibold ${$} opacity-80 mb-2 flex items-center gap-2`,children:[l.jsx(Ha,{className:"w-4 h-4"}),n("document_code","Document Code")]}),l.jsx("input",{type:"text",value:E.documentCode,onChange:Q=>T({...E,documentCode:Q.target.value}),className:`w-full px-3 py-2 rounded-lg border ${Ae} ${ce} ${$} focus:outline-none focus:ring-2 focus:ring-[#d4af37] text-sm`,placeholder:"e.g. ALG-1920-042"})]})]})]}),l.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-[#5d4037] to-[#d4af37] text-white py-4 rounded-lg font-bold text-lg hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-3",children:j?l.jsxs(l.Fragment,{children:[l.jsx(jc,{className:"w-6 h-6"}),b?n("saving","Saving..."):n("save_changes","Save Changes")]}):l.jsxs(l.Fragment,{children:[l.jsx(Tc,{className:"w-6 h-6"}),b?n("uploading","Uploading..."):n("upload","Upload Photo")]})})]})]}),l.jsx("div",{className:"mb-4","data-aos":"fade-up",children:l.jsxs("h2",{className:`text-2xl font-bold font-serif ${r?"text-[#d4af37]":"text-[#5d4037]"}`,children:[n("uploaded_photos","Uploaded Photos")," (",h.length,")"]})}),x?l.jsx("div",{className:"text-center py-20",children:l.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-[#d4af37] border-t-transparent"})}):h.length===0?l.jsxs("div",{className:`${le} border ${Ae} rounded-lg p-16 text-center`,children:[l.jsx(us,{className:`w-20 h-20 mx-auto ${$} opacity-20 mb-6`}),l.jsx("p",{className:`${$} text-xl opacity-50`,children:n("no_photos_yet","No photos uploaded yet")})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((Q,W)=>l.jsxs("div",{className:`${le} border ${Ae} rounded-xl overflow-hidden shadow-md hover:shadow-2xl transition-all group`,"data-aos":"fade-up","data-aos-delay":W*30,children:[l.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-[#5d4037]/10 to-[#d4af37]/10",children:[l.jsx("img",{src:ge(Q.imagePath),alt:Q.title,className:"w-full h-full object-cover group-hover:scale-110 transition duration-700",onError:Ne=>{console.error("Image load error:",Q.imagePath),Ne.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23ddd' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%23999' font-size='18'%3EImage not found%3C/text%3E%3C/svg%3E"}}),l.jsx("button",{type:"button",onClick:()=>H(Q),className:"absolute inset-0 bg-black/0 hover:bg-black/40 transition flex items-center justify-center cursor-zoom-in",children:l.jsx("span",{className:"px-4 py-2 rounded-full border border-white/70 text-white text-xs uppercase tracking-[0.3em]",children:n("view","View")})})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsx("h3",{className:`font-bold ${$} text-lg line-clamp-1`,children:Q.title}),Q.description&&l.jsx("p",{className:`${$} opacity-70 text-sm line-clamp-2`,children:Q.description}),(Q.archiveSource||Q.documentCode||Q.location||Q.year||Q.photographer)&&l.jsxs("div",{className:`text-xs space-y-1.5 pt-2 border-t ${Ae}`,children:[Q.archiveSource&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ya,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0 opacity-60"}),l.jsx("span",{className:"opacity-80",children:Q.archiveSource})]}),Q.documentCode&&l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"opacity-60",children:["#",Q.documentCode]})}),Q.location&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sc,{className:"w-3.5 h-3.5 opacity-60"}),l.jsx("span",{className:"opacity-80",children:Q.location})]}),Q.year&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zd,{className:"w-3.5 h-3.5 opacity-60"}),l.jsx("span",{className:"opacity-80",children:Q.year})]}),Q.photographer&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sN,{className:"w-3.5 h-3.5 opacity-60"}),l.jsx("span",{className:"opacity-80",children:Q.photographer})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2",children:[l.jsx("span",{className:`${$} opacity-40 text-xs`,children:new Date(Q.createdAt).toLocaleDateString()}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>me(Q),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded-lg transition flex items-center gap-1",title:n("edit","Edit"),children:l.jsx(d_,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>oe(Q.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded-lg transition flex items-center gap-1",title:n("delete","Delete"),children:l.jsx(ds,{className:"w-4 h-4"})})]})]})]})]},Q.id))}),U&&l.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>H(null),children:[l.jsxs("button",{type:"button",onClick:()=>H(null),className:"absolute top-6 right-6 text-white hover:text-[#d4af37] transition z-10 bg-black/40 hover:bg-black/60 rounded-full p-3 flex items-center gap-2","aria-label":n("close_image","Quittez l'image"),children:[l.jsx(_a,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs uppercase tracking-[0.2em]",children:n("close_image","Quittez l'image")})]}),l.jsx("div",{className:`${le} border ${Ae} rounded-2xl shadow-2xl p-4`,onClick:Q=>Q.stopPropagation(),children:l.jsx("div",{className:"w-[70vw] h-[70vh] max-w-[70vw] max-h-[70vh] flex items-center justify-center",children:ae?l.jsx("img",{src:ae,alt:U.title||"Gallery",className:"w-full h-full object-contain rounded-xl"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#5d4037] opacity-60",children:l.jsx(us,{className:"w-12 h-12"})})})})]})]})]})}function xL(){const n=Wi().pathname.startsWith("/admin");return k.useEffect(()=>{Va.init({duration:800,once:!0,easing:"ease-out-cubic",offset:50})},[]),l.jsxs(l.Fragment,{children:[!n&&l.jsx(a5,{}),l.jsxs(m2,{children:[l.jsx(An,{path:"/",element:l.jsx(IM,{})}),l.jsx(An,{path:"/library",element:l.jsx(YM,{})}),l.jsx(An,{path:"/periods",element:l.jsx(XM,{})}),l.jsx(An,{path:"/archives",element:l.jsx(Ux,{})}),l.jsx(An,{path:"/sources",element:l.jsx(QM,{})}),l.jsx(An,{path:"/access-reliability",element:l.jsx(KM,{})}),l.jsx(An,{path:"/sourcesandarchives",element:l.jsx(Ux,{})}),l.jsx(An,{path:"/login",element:l.jsx(JM,{})}),l.jsx(An,{path:"/signup",element:l.jsx(WM,{})}),l.jsx(An,{path:"/resetpassword",element:l.jsx(eL,{})}),l.jsxs(An,{path:"/admin/*",element:l.jsx(Zx,{children:l.jsx(lL,{})}),children:[l.jsx(An,{index:!0,element:l.jsx(fL,{})}),l.jsx(An,{path:"users",element:l.jsx(Zx,{roles:[1],redirectTo:"/admin",children:l.jsx(hL,{})})}),l.jsx(An,{path:"books",element:l.jsx(mL,{})}),l.jsx(An,{path:"trees",element:l.jsx(gL,{})}),l.jsx(An,{path:"gallery",element:l.jsx(_L,{})}),l.jsx(An,{path:"settings",element:l.jsx(vL,{})}),l.jsx(An,{path:"activity",element:l.jsx(yL,{})})]}),l.jsx(An,{path:"*",element:l.jsx(tL,{})})]}),!n&&l.jsx(hb,{})]})}const Fx=document.getElementById("root");Fx?_w.createRoot(Fx).render(l.jsx(k.StrictMode,{children:l.jsx($2,{children:l.jsx(t5,{children:l.jsx(Jk,{children:l.jsx(xL,{})})})})})):console.error("Failed to find root element");
